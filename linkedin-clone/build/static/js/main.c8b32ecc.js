/*! For license information please see main.c8b32ecc.js.LICENSE.txt */
!function(){var e={7653:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter");t.Z=o},2503:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17h18v2H3zm0-7h18v5H3zm0-4h18v2H3z"}),"CalendarViewDay");t.Z=o},9161:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");t.Z=o},9e3:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=o},8196:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}),"EventNote");t.Z=o},7267:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");t.Z=o},7541:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=o},5764:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");t.Z=o},5584:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=o},52:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message");t.Z=o},8128:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},501:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},1686:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.Z=o},580:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=o},7466:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"}),"Subscriptions");t.Z=o},2249:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}),"SupervisorAccount");t.Z=o},8051:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z"}),"ThumbUpAlt");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2231)},9330:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(7416),c=n(104),l=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function d(e){if(e.type)return e;if("#"===e.charAt(0))return d(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,a.Z)(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,a.Z)(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function p(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function v(e){var t="hsl"===(e=d(e)).type||"hsla"===e.type?d(function(e){var t=(e=d(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),p({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function m(e,t){if(e=d(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return p(e)}function y(e,t){if(e=d(e),t=h(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return p(e)}var g={black:"#000",white:"#fff"},k={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},b={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},w={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},x={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},I={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},S={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},E=["mode","contrastThreshold","tonalOffset"],T={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:g.white,default:g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},C={text:{primary:g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=y(e.main,i):"dark"===t&&(e.dark=m(e.main,a)))}function N(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,l=void 0===c?.2:c,f=(0,i.Z)(e,E),h=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_[200],light:_[50],dark:_[400]}:{main:_[700],light:_[400],dark:_[800]}}(n),d=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[200],light:b[50],dark:b[400]}:{main:b[500],light:b[300],dark:b[700]}}(n),p=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:w[500],light:w[300],dark:w[700]}:{main:w[700],light:w[400],dark:w[800]}}(n),m=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:I[400],light:I[300],dark:I[700]}:{main:I[700],light:I[500],dark:I[900]}}(n),y=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:S[400],light:S[300],dark:S[700]}:{main:S[800],light:S[500],dark:S[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:"#ed6c02",light:x[500],dark:x[900]}}(n);function P(e){var t=function(e,t){var n=v(e),r=v(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,C.text.primary)>=s?C.text.primary:T.text.primary;return t}var O=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return A(t,"light",s,l),A(t,"dark",f,l),t.contrastText||(t.contrastText=P(t.main)),t},D={dark:C,light:T};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},g),mode:n,primary:O({color:h,name:"primary"}),secondary:O({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:p,name:"error"}),warning:O({color:N,name:"warning"}),info:O({color:m,name:"info"}),success:O({color:y,name:"success"}),grey:k,contrastThreshold:s,getContrastText:P,augmentColor:O,tonalOffset:l},D[n]),f)}var P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var O={textTransform:"uppercase"},D='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?D:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,P);var _=c/14,I=w||function(e){return"".concat(e/k*_,"rem")},S=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===D?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(f,96,1.167,-1.5),h2:S(f,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(v,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(v,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(v,14,1.75,.4,O),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,O),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},E),x,{clone:!1})}var L=.2,M=.14,F=.12;function j(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(L,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(M,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(F,")")].join(",")}var V=["none",j(0,2,1,-1,0,1,1,0,0,1,3,0),j(0,3,1,-2,0,2,2,0,0,1,5,0),j(0,3,3,-2,0,3,4,0,0,1,8,0),j(0,2,4,-1,0,4,5,0,0,1,10,0),j(0,3,5,-1,0,5,8,0,0,1,14,0),j(0,3,5,-1,0,6,10,0,0,1,18,0),j(0,4,5,-2,0,7,10,1,0,2,16,1),j(0,5,5,-3,0,8,10,1,0,3,14,2),j(0,5,6,-3,0,9,12,1,0,3,16,2),j(0,6,6,-3,0,10,14,1,0,4,18,3),j(0,6,7,-4,0,11,15,1,0,4,20,3),j(0,7,8,-4,0,12,17,2,0,5,22,4),j(0,7,8,-4,0,13,19,2,0,5,24,4),j(0,7,9,-4,0,14,21,2,0,5,26,4),j(0,8,9,-5,0,15,22,2,0,6,28,5),j(0,8,10,-5,0,16,24,2,0,6,30,5),j(0,8,11,-5,0,17,26,2,0,6,32,5),j(0,9,11,-5,0,18,28,2,0,7,34,6),j(0,9,12,-6,0,19,29,2,0,7,36,6),j(0,10,13,-6,0,20,31,3,0,8,38,7),j(0,10,13,-6,0,21,33,3,0,8,40,7),j(0,10,14,-6,0,22,35,3,0,8,42,7),j(0,11,14,-7,0,23,36,3,0,9,44,8),j(0,11,15,-7,0,24,38,3,0,9,46,8)],U=["duration","easing","delay"],z={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},B={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q(e){return"".concat(Math.round(e),"ms")}function Z(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function K(e){var t=(0,r.Z)({},z,e.easing),n=(0,r.Z)({},B,e.duration);return(0,r.Z)({getAutoHeightDuration:Z,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,U);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:q(o)," ").concat(s," ").concat("string"===typeof l?l:q(l))})).join(",")}},e,{easing:t,duration:n})}var H={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},G=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,h=void 0===l?{}:l,d=e.transitions,p=void 0===d?{}:d,v=e.typography,m=void 0===v?{}:v,y=(0,i.Z)(e,G);if(e.vars)throw new Error((0,a.Z)(18));var g=N(h),k=(0,u.Z)(e),b=(0,o.Z)(k,{mixins:f(k.breakpoints,n),palette:g,shadows:V.slice(),typography:R(g,m),transitions:K(p),zIndex:(0,r.Z)({},H)});b=(0,o.Z)(b,y);for(var w=arguments.length,x=new Array(w>1?w-1:0),_=1;_<w;_++)x[_-1]=arguments[_];return(b=x.reduce((function(e,t){return(0,o.Z)(e,t)}),b)).unstable_sxConfig=(0,r.Z)({},s.Z,null==y?void 0:y.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},b}var Q=W()},1543:function(e,t,n){"use strict";n.d(t,{ZP:function(){return rt}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n.t(u,2);var c=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=c((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var h=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),d=Math.abs,p=String.fromCharCode,v=Object.assign;function m(e){return e.trim()}function y(e,t,n){return e.replace(t,n)}function g(e,t){return e.indexOf(t)}function k(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function w(e){return e.length}function x(e){return e.length}function _(e,t){return t.push(e),e}var I=1,S=1,E=0,T=0,C=0,A="";function N(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:I,column:S,length:o,return:""}}function P(e,t){return v(N("",null,null,"",null,null,0),e,{length:-e.length},t)}function O(){return C=T>0?k(A,--T):0,S--,10===C&&(S=1,I--),C}function D(){return C=T<E?k(A,T++):0,S++,10===C&&(S=1,I++),C}function R(){return k(A,T)}function L(){return T}function M(e,t){return b(A,e,t)}function F(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){return I=S=1,E=w(A=e),T=0,[]}function V(e){return A="",e}function U(e){return m(M(T-1,q(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(C=R())&&C<33;)D();return F(e)>2||F(C)>3?"":" "}function B(e,t){for(;--t&&D()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return M(e,L()+(t<6&&32==R()&&32==D()))}function q(e){for(;D();)switch(C){case e:return T;case 34:case 39:34!==e&&39!==e&&q(C);break;case 40:41===e&&q(e);break;case 92:D()}return T}function Z(e,t){for(;D()&&e+C!==57&&(e+C!==84||47!==R()););return"/*"+M(t,T-1)+"*"+p(47===e?e:D())}function K(e){for(;!F(R());)D();return M(e,T)}var H="-ms-",G="-moz-",W="-webkit-",Q="comm",$="rule",X="decl",Y="@import",J="@keyframes";function ee(e,t){for(var n="",r=x(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function te(e,t,n,r){switch(e.type){case Y:case X:return e.return=e.return||e.value;case Q:return"";case J:return e.return=e.value+"{"+ee(e.children,r)+"}";case $:e.value=e.props.join(",")}return w(n=ee(e.children,r))?e.return=e.value+"{"+n+"}":""}function ne(e){return V(re("",null,null,null,[""],e=j(e),0,[0],e))}function re(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,v=0,m=1,b=1,x=1,I=0,S="",E=i,T=a,C=r,A=S;b;)switch(v=I,I=D()){case 40:if(108!=v&&58==k(A,f-1)){-1!=g(A+=y(U(I),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:A+=U(I);break;case 9:case 10:case 13:case 32:A+=z(v);break;case 92:A+=B(L()-1,7);continue;case 47:switch(R()){case 42:case 47:_(ae(Z(D(),L()),t,n),s);break;default:A+="/"}break;case 123*m:u[c++]=w(A)*x;case 125*m:case 59:case 0:switch(I){case 0:case 125:b=0;case 59+l:d>0&&w(A)-f&&_(d>32?oe(A+";",r,n,f-1):oe(y(A," ","")+";",r,n,f-2),s);break;case 59:A+=";";default:if(_(C=ie(A,t,n,c,l,i,u,S,E=[],T=[],f),a),123===I)if(0===l)re(A,t,C,C,E,a,f,u,T);else switch(99===h&&110===k(A,3)?100:h){case 100:case 109:case 115:re(e,C,C,r&&_(ie(e,C,C,0,0,i,u,S,i,E=[],f),T),i,T,f,u,r?E:T);break;default:re(A,C,C,C,[""],T,0,u,T)}}c=l=d=0,m=x=1,S=A="",f=o;break;case 58:f=1+w(A),d=v;default:if(m<1)if(123==I)--m;else if(125==I&&0==m++&&125==O())continue;switch(A+=p(I),I*m){case 38:x=l>0?1:(A+="\f",-1);break;case 44:u[c++]=(w(A)-1)*x,x=1;break;case 64:45===R()&&(A+=U(D())),h=R(),l=f=w(S=A+=K(L())),I++;break;case 45:45===v&&2==w(A)&&(m=0)}}return a}function ie(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],p=x(h),v=0,g=0,k=0;v<r;++v)for(var w=0,_=b(e,f+1,f=d(g=o[v])),I=e;w<p;++w)(I=m(g>0?h[w]+" "+_:y(_,/&\f/g,h[w])))&&(s[k++]=I);return N(e,t,n,0===i?$:u,s,c,l)}function ae(e,t,n){return N(e,t,n,Q,p(C),b(e,2,-2),0)}function oe(e,t,n,r){return N(e,t,n,X,b(e,0,r),b(e,r+1,-1),r)}var ue=function(e,t,n){for(var r=0,i=0;r=i,i=R(),38===r&&12===i&&(t[n]=1),!F(i);)D();return M(e,T)},se=function(e,t){return V(function(e,t){var n=-1,r=44;do{switch(F(r)){case 0:38===r&&12===R()&&(t[n]=1),e[n]+=ue(T-1,t,n);break;case 2:e[n]+=U(r);break;case 4:if(44===r){e[++n]=58===R()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=p(r)}}while(r=D());return e}(j(e),t))},ce=new WeakMap,le=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ce.get(n))&&!r){ce.set(e,!0);for(var i=[],a=se(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},fe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function he(e,t){switch(function(e,t){return 45^k(e,0)?(((t<<2^k(e,0))<<2^k(e,1))<<2^k(e,2))<<2^k(e,3):0}(e,t)){case 5103:return W+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return W+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return W+e+G+e+H+e+e;case 6828:case 4268:return W+e+H+e+e;case 6165:return W+e+H+"flex-"+e+e;case 5187:return W+e+y(e,/(\w+).+(:[^]+)/,W+"box-$1$2"+H+"flex-$1$2")+e;case 5443:return W+e+H+"flex-item-"+y(e,/flex-|-self/,"")+e;case 4675:return W+e+H+"flex-line-pack"+y(e,/align-content|flex-|-self/,"")+e;case 5548:return W+e+H+y(e,"shrink","negative")+e;case 5292:return W+e+H+y(e,"basis","preferred-size")+e;case 6060:return W+"box-"+y(e,"-grow","")+W+e+H+y(e,"grow","positive")+e;case 4554:return W+y(e,/([^-])(transform)/g,"$1"+W+"$2")+e;case 6187:return y(y(y(e,/(zoom-|grab)/,W+"$1"),/(image-set)/,W+"$1"),e,"")+e;case 5495:case 3959:return y(e,/(image-set\([^]*)/,W+"$1$`$1");case 4968:return y(y(e,/(.+:)(flex-)?(.*)/,W+"box-pack:$3"+H+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+W+e+e;case 4095:case 3583:case 4068:case 2532:return y(e,/(.+)-inline(.+)/,W+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(w(e)-1-t>6)switch(k(e,t+1)){case 109:if(45!==k(e,t+4))break;case 102:return y(e,/(.+:)(.+)-([^]+)/,"$1"+W+"$2-$3$1"+G+(108==k(e,t+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch")?he(y(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==k(e,t+1))break;case 6444:switch(k(e,w(e)-3-(~g(e,"!important")&&10))){case 107:return y(e,":",":"+W)+e;case 101:return y(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+W+(45===k(e,14)?"inline-":"")+"box$3$1"+W+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(k(e,t+11)){case 114:return W+e+H+y(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return W+e+H+y(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return W+e+H+y(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return W+e+H+e+e}return e}var de=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case X:e.return=he(e.value,e.length);break;case J:return ee([P(e,{value:y(e.value,"@","@"+W)})],r);case $:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ee([P(e,{props:[y(t,/:(read-\w+)/,":"+G+"$1")]})],r);case"::placeholder":return ee([P(e,{props:[y(t,/:(plac\w+)/,":"+W+"input-$1")]}),P(e,{props:[y(t,/:(plac\w+)/,":"+G+"$1")]}),P(e,{props:[y(t,/:(plac\w+)/,H+"input-$1")]})],r)}return""}))}}],pe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||de;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[te,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=x(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([le,fe].concat(r,l));a=function(e,t,n,r){s=n,ee(ne(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new h({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var ve=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},me={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ye=/[A-Z]|^ms/g,ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ke=function(e){return 45===e.charCodeAt(1)},be=function(e){return null!=e&&"boolean"!==typeof e},we=c((function(e){return ke(e)?e:e.replace(ye,"-$&").toLowerCase()})),xe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ge,(function(e,t,n){return Ie={name:t,styles:n,next:Ie},t}))}return 1===me[e]||ke(e)||"number"!==typeof t||0===t?t:t+"px"};function _e(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ie={name:n.name,styles:n.styles,next:Ie},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ie={name:r.name,styles:r.styles,next:Ie},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_e(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":be(o)&&(r+=we(a)+":"+xe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=_e(e,t,o);switch(a){case"animation":case"animationName":r+=we(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)be(o[s])&&(r+=we(a)+":"+xe(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ie,a=n(e);return Ie=i,_e(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ie,Se=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ee=!!s.useInsertionEffect&&s.useInsertionEffect,Te=Ee||function(e){return e()},Ce=(Ee||u.useLayoutEffect,(0,u.createContext)("undefined"!==typeof HTMLElement?pe({key:"css"}):null));Ce.Provider;var Ae=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(Ce);return e(t,r,n)}))},Ne=(0,u.createContext)({});var Pe=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Oe=f,De=function(e){return"theme"!==e},Re=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Oe:De},Le=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Me=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Pe(t,n,r);Te((function(){return function(e,t,n){Pe(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},Fe=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=Le(t,n,a),l=c||Re(s),f=!l("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Ae((function(e,t,n){var r=f&&e.as||s,a="",o=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,u.useContext)(Ne)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ie=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=_e(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=_e(n,t,e[o]),r&&(i+=a[o]);Se.lastIndex=0;for(var u,s="";null!==(u=Se.exec(i));)s+="-"+u[1];return{name:ve(i)+s,styles:i,next:Ie}}(d.concat(o),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===c?Re(r):l,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(Me,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,u.createElement)(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:Le(m,r,!0)})).apply(void 0,d)},m}},je=Fe.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){je[e]=je(e)}));var Ve=je;var Ue=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},ze=n(5080),Be=n(7312),qe=["variant"];function Ze(e){return 0===e.length}function Ke(e){var t=e.variant,n=(0,a.Z)(e,qe),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ze(r)?e[t]:(0,Be.Z)(e[t]):"".concat(Ze(r)?t:(0,Be.Z)(t)).concat((0,Be.Z)(e[t].toString()))})),r}var He=n(104),Ge=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],We=["theme"],Qe=["theme"];function $e(e){return 0===Object.keys(e).length}var Xe=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ye=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Ke(e.props);r[t]=e.style})),r},Je=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Ke(n.props)])})),s};function et(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var tt=(0,ze.Z)();var nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?tt:t,u=e.rootShouldForwardProp,s=void 0===u?et:u,c=e.slotShouldForwardProp,l=void 0===c?et:c,f=function(e){var t=$e(e.theme)?n:e.theme;return(0,He.Z)((0,o.Z)({},e,{theme:t}))};return f.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ue(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u=t.name,c=t.slot,h=t.skipVariantsResolver,d=t.skipSx,p=t.overridesResolver,v=(0,a.Z)(t,Ge),m=void 0!==h?h:c&&"Root"!==c||!1,y=d||!1;var g=et;"Root"===c?g=s:c?g=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var k=function(e,t){return Ve(e,t)}(e,(0,o.Z)({shouldForwardProp:g,label:undefined},v)),b=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),c=1;c<t;c++)s[c-1]=arguments[c];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,We);return e((0,o.Z)({theme:$e(r)?n:r},i))}:e})):[],h=e;u&&p&&l.push((function(e){var t=$e(e.theme)?n:e.theme,r=Xe(u,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),p(e,a)}return null})),u&&!m&&l.push((function(e){var t=$e(e.theme)?n:e.theme;return Je(e,Ye(u,t),t,u)})),y||l.push(f);var d=l.length-s.length;if(Array.isArray(e)&&d>0){var v=new Array(d).fill("");(h=[].concat((0,r.Z)(e),(0,r.Z)(v))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(v))}else"function"===typeof e&&e.__emotion_real!==e&&(h=function(t){var r=t.theme,i=(0,a.Z)(t,Qe);return e((0,o.Z)({theme:$e(r)?n:r},i))});return k.apply(void 0,[h].concat((0,r.Z)(l)))};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:n(9330).Z,rootShouldForwardProp:function(e){return et(e)&&"classes"!==e}}),rt=nt},1388:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=e[a]||{},u=t[a];n[a]={},u&&Object.keys(u)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},u),Object.keys(o).forEach((function(e){n[a][e]=i(o[e],u[e])}))):n[a]=u:n[a]=o}else void 0===n[a]&&(n[a]=e[a])})),n}function a(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?i(t.components[n].defaultProps,r):r}var o=n(5080),u=n(2791);var s=u.createContext(null);var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=u.useContext(s);return n&&(e=n,0!==Object.keys(e).length)?n:t},l=(0,o.Z)();var f=function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l)};var h=n(9330);function d(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return a({theme:f(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:h.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(1388),l=n(1543),f=n(5878),h=n(1217);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),y=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,h=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,_=void 0!==x&&x,I=n.titleAccess,S=n.viewBox,E=void 0===S?"0 0 24 24":S,T=(0,a.Z)(n,v),C=(0,r.Z)({},n,{color:h,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:E}),A={};_||(A.viewBox=E);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(C);return(0,p.jsxs)(m,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),focusable:"false",color:w,"aria-hidden":!I||void 0,role:I?"img":void 0,ref:t},A,T,{ownerState:C,children:[i,I?(0,p.jsx)("title",{children:I}):null]}))}));y.muiName="SvgIcon";var g=y;function k(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},2231:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return y},unstable_ClassNameGenerator:function(){return F},unstable_useEnhancedEffect:function(){return k},unstable_useId:function(){return _},unsupportedProp:function(){return I},useControlled:function(){return S},useEventCallback:function(){return E},useForkRef:function(){return C},useIsFocusVisible:function(){return M}});var r=n(5902),i=n(4036);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(9201);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}};function m(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var y=m,g="undefined"!==typeof window?c.useLayoutEffect:c.useEffect,k=g,b=n(9439),w=0;var x=l.useId;var _=function(e){if(void 0!==x){var t=x();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,b.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(w+=1))}),[r]),a}(e)};var I=function(e,t,n,r,i){return null};var S=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,b.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]};var E=function(e){var t=c.useRef(e);return g((function(){t.current=e})),c.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var T,C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){m(t,e)}))}}),t)},A=!0,N=!1,P={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function O(e){e.metaKey||e.altKey||e.ctrlKey||(A=!0)}function D(){A=!1}function R(){"hidden"===this.visibilityState&&N&&(A=!0)}function L(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return A||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!P[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var M=function(){var e=c.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",O,!0),t.addEventListener("mousedown",D,!0),t.addEventListener("pointerdown",D,!0),t.addEventListener("touchstart",D,!0),t.addEventListener("visibilitychange",R,!0))}),[]),t=c.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!L(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(N=!0,window.clearTimeout(T),T=window.setTimeout((function(){N=!1}),100),t.current=!1,!0)},ref:e}},F={configure:function(e){r.Z.configure(e)}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var c={borderRadius:4},l=n(5682);var f=n(104),h=n(7416),d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,v=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,i.Z)(e,d),k=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),w=(0,a.Z)({breakpoints:k,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:b,shape:(0,r.Z)({},c,y)},g),x=arguments.length,_=new Array(x>1?x-1:0),I=1;I<x;I++)_[I-1]=arguments[I];return(w=_.reduce((function(e,t){return(0,a.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),w.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},w}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return k},o3:function(){return b}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.DW)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return u}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(4942),i=n(7312),a=n(5682),o=n(1184),u=n(8529),s=n(8247);var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,s.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var f=(0,u.ZP)({prop:"border",themeKey:"borders",transform:l}),h=(0,u.ZP)({prop:"borderTop",themeKey:"borders",transform:l}),d=(0,u.ZP)({prop:"borderRight",themeKey:"borders",transform:l}),p=(0,u.ZP)({prop:"borderBottom",themeKey:"borders",transform:l}),v=(0,u.ZP)({prop:"borderLeft",themeKey:"borders",transform:l}),m=(0,u.ZP)({prop:"borderColor",themeKey:"palette"}),y=(0,u.ZP)({prop:"borderTopColor",themeKey:"palette"}),g=(0,u.ZP)({prop:"borderRightColor",themeKey:"palette"}),k=(0,u.ZP)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,u.ZP)({prop:"borderLeftColor",themeKey:"palette"}),w=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,a.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,o.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,a.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["borderRadius"];c(f,h,d,p,v,m,y,g,k,b,w);var x=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,a.eI)(e.theme,"spacing",8,"gap");return(0,o.k9)(e,e.gap,(function(e){return{gap:(0,a.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["gap"];var _=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,a.eI)(e.theme,"spacing",8,"columnGap");return(0,o.k9)(e,e.columnGap,(function(e){return{columnGap:(0,a.NA)(t,e)}}))}return null};_.propTypes={},_.filterProps=["columnGap"];var I=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,a.eI)(e.theme,"spacing",8,"rowGap");return(0,o.k9)(e,e.rowGap,(function(e){return{rowGap:(0,a.NA)(t,e)}}))}return null};I.propTypes={},I.filterProps=["rowGap"];c(x,_,I,(0,u.ZP)({prop:"gridColumn"}),(0,u.ZP)({prop:"gridRow"}),(0,u.ZP)({prop:"gridAutoFlow"}),(0,u.ZP)({prop:"gridAutoColumns"}),(0,u.ZP)({prop:"gridAutoRows"}),(0,u.ZP)({prop:"gridTemplateColumns"}),(0,u.ZP)({prop:"gridTemplateRows"}),(0,u.ZP)({prop:"gridTemplateAreas"}),(0,u.ZP)({prop:"gridArea"}));function S(e,t){return"grey"===t?t:e}c((0,u.ZP)({prop:"color",themeKey:"palette",transform:S}),(0,u.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:S}),(0,u.ZP)({prop:"backgroundColor",themeKey:"palette",transform:S}));function E(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var T=(0,u.ZP)({prop:"width",transform:E}),C=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,o.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||o.VO[t]||E(t)}}))}return null};C.filterProps=["maxWidth"];var A=(0,u.ZP)({prop:"minWidth",transform:E}),N=(0,u.ZP)({prop:"height",transform:E}),P=(0,u.ZP)({prop:"maxHeight",transform:E}),O=(0,u.ZP)({prop:"minHeight",transform:E}),D=((0,u.ZP)({prop:"size",cssProperty:"width",transform:E}),(0,u.ZP)({prop:"size",cssProperty:"height",transform:E}),c(T,C,A,N,P,O,(0,u.ZP)({prop:"boxSizing"})),function(e){return function(t){if(void 0!==t[e]&&null!==t[e]){return(0,o.k9)(t,t[e],(function(n){var a,o,u,s,c,l,f=null==(a=t.theme.typography)?void 0:a[n];("object"===typeof f&&(f=null),f)||(f=null==(o=t.theme.typography)?void 0:o["".concat(e).concat("default"===t[e]||t[e]===e?"":(0,i.Z)(null==(u=t[e])?void 0:u.toString()))]);f||(f=null!=(s=null==(c=t.theme.typography)||null==(l=c[n])?void 0:l[e])?s:n);return(0,r.Z)({},e,f)}))}return null}}),R={border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:S},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:S},backgroundColor:{themeKey:"palette",transform:S},p:{style:a.o3},pt:{style:a.o3},pr:{style:a.o3},pb:{style:a.o3},pl:{style:a.o3},px:{style:a.o3},py:{style:a.o3},padding:{style:a.o3},paddingTop:{style:a.o3},paddingRight:{style:a.o3},paddingBottom:{style:a.o3},paddingLeft:{style:a.o3},paddingX:{style:a.o3},paddingY:{style:a.o3},paddingInline:{style:a.o3},paddingInlineStart:{style:a.o3},paddingInlineEnd:{style:a.o3},paddingBlock:{style:a.o3},paddingBlockStart:{style:a.o3},paddingBlockEnd:{style:a.o3},m:{style:a.e6},mt:{style:a.e6},mr:{style:a.e6},mb:{style:a.e6},ml:{style:a.e6},mx:{style:a.e6},my:{style:a.e6},margin:{style:a.e6},marginTop:{style:a.e6},marginRight:{style:a.e6},marginBottom:{style:a.e6},marginLeft:{style:a.e6},marginX:{style:a.e6},marginY:{style:a.e6},marginInline:{style:a.e6},marginInlineStart:{style:a.e6},marginInlineEnd:{style:a.e6},marginBlock:{style:a.e6},marginBlockStart:{style:a.e6},marginBlockEnd:{style:a.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:I},columnGap:{style:_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:C},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography",style:D("fontFamily")},fontSize:{themeKey:"typography",style:D("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:D("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},104:function(e,t,n){"use strict";var r=n(4942),i=n(7312),a=n(8247),o=n(8529),u=n(1184),s=n(7416);var c=function(){function e(e,t,n,a){var s,c=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),l=a[e];if(!l)return(0,r.Z)({},e,t);var f=l.cssProperty,h=void 0===f?e:f,d=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;var m=(0,o.DW)(n,d)||{};if(v)return v(c);return(0,u.k9)(c,t,(function(t){var n=(0,o.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var i,o=n||{},c=o.sx,l=o.theme,f=void 0===l?{}:l;if(!c)return null;var h=null!=(i=f.unstable_sxConfig)?i:s.Z;function d(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,u.W8)(f.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach((function(n){var o,s,l=(o=i[n],s=f,"function"===typeof o?o(s):o);if(null!==l&&void 0!==l)if("object"===typeof l)if(h[n])c=(0,a.Z)(c,e(n,l,f,h));else{var d=(0,u.k9)({theme:f},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(d,l)?c=(0,a.Z)(c,d):c[n]=t({sx:l,theme:f})}else c=(0,a.Z)(c,e(n,l,f,h))})),(0,u.L7)(s,c)}return Array.isArray(c)?c.map(d):d(c)}}();c.filterProps=["sx"],t.Z=c},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=o(e[r],t[r],n):n.clone?u[r]=i(t[r])?a(t[r]):t[r]:u[r]=t[r])})),u}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ae(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Zt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Zt){var i=Qt(e,t,n,r);if(null===i)Zr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Zr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Wt=null;function Qt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Wn(e){jr(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Yn=Jn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Kn(t,Gn,e,we(e)),Pe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Rr=Pr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Zn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ai),Si(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Bi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Zi=0,Ki=null,Hi=0,Gi=[],Wi=0,Qi=null,$i=1,Xi="";function Yi(e,t){qi[Zi++]=Hi,qi[Zi++]=Ki,Ki=e,Hi=t}function Ji(e,t,n){Gi[Wi++]=$i,Gi[Wi++]=Xi,Gi[Wi++]=Qi,Qi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Yi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Zi],qi[Zi]=null,Hi=qi[--Zi],qi[Zi]=null;for(;e===Qi;)Qi=Gi[--Wi],Gi[Wi]=null,Xi=Gi[--Wi],Gi[Wi]=null,$i=Gi[--Wi],Gi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Yi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Yi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Yi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Yi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Yi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Yi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Xa=Qa(!1),Ya={},Ja=Ii(Ya),eo=Ii(Ya),to=Ii(Ya);function no(e){if(e===Ya)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ja),Ei(Ja,t)}function io(){Si(Ja),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Si(Ja),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Zo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Zo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Zo,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Yo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Zo,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Yo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Zu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Za(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Pi(t,s=Oi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Za(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Du,Ru,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Wi++]=$i,Gi[Wi++]=Xi,Gi[Wi++]=Qi,$i=e.id,Xi=e.overflow,Qi=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Ju=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Is,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Ps=null,Os=0,Ds=0,Rs=Ii(0),Ls=0,Ms=null,Fs=0,js=0,Vs=0,Us=null,zs=null,Bs=0,qs=1/0,Zs=null,Ks=!1,Hs=null,Gs=null,Ws=!1,Qs=null,$s=0,Xs=0,Ys=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Js?Js:Js=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Os?Os&-Os:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ls&&sc(e,Os)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Os===t||(Zs=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Ps?t=0:(Ns=null,Os=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,Zs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,Zs),t);break}xc(e,zs,Zs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,Zs),r);break}xc(e,zs,Zs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Vs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,Zs),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,Vi&&Bi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ds=Rs.current,Si(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ps=e=Rc(e.current,null),Os=Ds=t,Ls=0,Ms=null,Vs=js=Fs=0,zs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Os)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Os===t||(Zs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Ps)throw Error(a(261));return Ns=null,Os=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!Qe();)bc(Ps)}function bc(e){var t=Is(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Ds)))return void(Ps=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ps=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Zt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Zt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Zt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Ws&&(Ws=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Ys?Xs++:(Xs=0,Ys=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ls||3===Ls&&(130023424&Os)===Os&&500>Xe()-Bs?dc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Zc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Zu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Zc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Zc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function D(e){S=e,I||(I=!0,_())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8653b062.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="linkedin-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklinkedin_clone=self.webpackChunklinkedin_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return tn},SDK_VERSION:function(){return dr},_DEFAULT_ENTRY_NAME:function(){return er},_addComponent:function(){return ir},_addOrOverwriteComponent:function(){return ar},_apps:function(){return nr},_clearComponents:function(){return cr},_components:function(){return rr},_getProvider:function(){return ur},_registerComponent:function(){return or},_removeServiceInstance:function(){return sr},deleteApp:function(){return yr},getApp:function(){return vr},getApps:function(){return mr},initializeApp:function(){return pr},onLog:function(){return br},registerVersion:function(){return kr},setLogLevel:function(){return wr}});var t=n(2791),r=n(1250),i=n(7248),a=n(327),o=n(4164);var u=function(e){e()},s=function(){return u},c=(0,t.createContext)(null);function l(){return(0,t.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=h(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var v=p();n(2110),n(7441);var m={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var k=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=y(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);g((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||c;return t.createElement(s.Provider,{value:o},i)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(){return n().store}}var w=b();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?w:b(e);return function(){return t().dispatch}}var _,I=x();function S(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function E(e){return!!e&&!!e[ve]}function T(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===me}(e)||Array.isArray(e)||!!e[pe]||!!(null===(t=e.constructor)||void 0===t?void 0:t[pe])||R(e)||L(e))}function C(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:ye)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function A(e){var t=e[ve];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:R(e)?2:L(e)?3:0}function N(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return 2===A(e)?e.get(t):e[t]}function O(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function D(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function R(e){return le&&e instanceof Map}function L(e){return fe&&e instanceof Set}function M(e){return e.o||e.t}function F(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ge(e);delete t[ve];for(var n=ye(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function j(e,t){return void 0===t&&(t=!1),U(e)||E(e)||!T(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=V),Object.freeze(e),t&&C(e,(function(e,t){return j(t,!0)}),!0)),e}function V(){S(2)}function U(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function z(e){var t=ke[e];return t||S(18,e),t}function B(e,t){ke[e]||(ke[e]=t)}function q(){return se}function Z(e,t){t&&(z("Patches"),e.u=[],e.s=[],e.v=t)}function K(e){H(e),e.p.forEach(W),e.p=null}function H(e){e===se&&(se=e.l)}function G(e){return se={p:[],l:se,h:e,m:!0,_:0}}function W(e){var t=e[ve];0===t.i||1===t.i?t.j():t.O=!0}function Q(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||z("ES5").S(t,e,r),r?(n[ve].P&&(K(t),S(4)),T(e)&&(e=$(t,e),t.l||Y(t,e)),t.u&&z("Patches").M(n[ve].t,e,t.u,t.s)):e=$(t,n,[]),K(t),t.u&&t.v(t.u,t.s),e!==de?e:void 0}function $(e,t,n){if(U(t))return t;var r=t[ve];if(!r)return C(t,(function(i,a){return X(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Y(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=F(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),C(a,(function(t,a){return X(e,r,i,t,a,n,o)})),Y(e,i,!1),n&&e.u&&z("Patches").N(r,n,e.u,e.s)}return r.o}function X(e,t,n,r,i,a,o){if(E(i)){var u=$(e,i,a&&t&&3!==t.i&&!N(t.R,r)?a.concat(r):void 0);if(O(n,r,u),!E(u))return;e.m=!1}else o&&n.add(i);if(T(i)&&!U(i)){if(!e.h.D&&e._<1)return;$(e,i),t&&t.A.l||Y(e,i)}}function Y(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&j(t,n)}function J(e,t){var n=e[ve];return(n?M(n):e)[t]}function ee(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function te(e){e.P||(e.P=!0,e.l&&te(e.l))}function ne(e){e.o||(e.o=F(e.t))}function re(e,t,n){var r=R(t)?z("MapSet").F(t,n):L(t)?z("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=be;n&&(i=[r],a=we);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):z("ES5").J(t,n);return(n?n.A:q()).p.push(r),r}function ie(e){return E(e)||S(22,e),function e(t){if(!T(t))return t;var n,r=t[ve],i=A(t);if(r){if(!r.P&&(r.i<4||!z("ES5").K(r)))return r.t;r.I=!0,n=ae(t,i),r.I=!1}else n=ae(t,i);return C(n,(function(t,i){r&&P(r.t,t)===i||O(n,t,e(i))})),3===i?new Set(n):n}(e)}function ae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return F(e)}function oe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ve];return be.get(t,e)},set:function(t){var n=this[ve];be.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ve];if(!i.P)switch(i.i){case 5:r(i)&&te(i);break;case 4:n(i)&&te(i)}}}function n(e){for(var t=e.t,n=e.k,r=ye(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ve){var o=t[a];if(void 0===o&&!N(t,a))return!0;var u=n[a],s=u&&u[ve];if(s?s.t!==o:!D(u,o))return!0}}var c=!!t[ve];return r.length!==ye(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};B("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ge(n);delete a[ve];for(var o=ye(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:q(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ve,{value:a,writable:!0}),i},S:function(e,n,i){i?E(n)&&n[ve].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ve];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)C(a,(function(t){t!==ve&&(void 0!==i[t]||N(i,t)?o[t]||e(a[t]):(o[t]=!0,te(n)))})),C(i,(function(e){void 0!==a[e]||N(a,e)||(o[e]=!1,te(n))}));else if(5===u){if(r(n)&&(te(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){h=e}(a.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),_=o.unstable_batchedUpdates,u=_;var ue,se,ce="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),le="undefined"!=typeof Map,fe="undefined"!=typeof Set,he="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,de=ce?Symbol.for("immer-nothing"):((ue={})["immer-nothing"]=!0,ue),pe=ce?Symbol.for("immer-draftable"):"__$immer_draftable",ve=ce?Symbol.for("immer-state"):"__$immer_state",me=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ge=Object.getOwnPropertyDescriptors||function(e){var t={};return ye(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ke={},be={get:function(e,t){if(t===ve)return e;var n=M(e);if(!N(n,t))return function(e,t,n){var r,i=ee(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!T(r)?r:r===J(e.t,t)?(ne(e),e.o[t]=re(e.A.h,r,e)):r},has:function(e,t){return t in M(e)},ownKeys:function(e){return Reflect.ownKeys(M(e))},set:function(e,t,n){var r=ee(M(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J(M(e),t),a=null==i?void 0:i[ve];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(D(n,i)&&(void 0!==n||N(e.t,t)))return!0;ne(e),te(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==J(e.t,t)||t in e.t?(e.R[t]=!1,ne(e),te(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=M(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){S(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){S(12)}},we={};C(be,(function(e,t){we[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),we.deleteProperty=function(e,t){return we.set.call(this,e,t,void 0)},we.set=function(e,t,n){return be.set.call(this,e[0],t,n,e[0])};var xe=function(){function e(e){var t=this;this.g=he,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&S(6),void 0!==r&&"function"!=typeof r&&S(7),T(e)){var u=G(t),s=re(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?K(u):H(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Z(u,r),Q(e,u)}),(function(e){throw K(u),e})):(Z(u,r),Q(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===de&&(o=void 0),t.D&&j(o,!0),r){var l=[],f=[];z("Patches").M(e,o,l,f),r(l,f)}return o}S(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){T(e)||S(8),E(e)&&(e=ie(e));var t=G(this),n=re(this,e,void 0);return n[ve].C=!0,H(t),n},t.finishDraft=function(e,t){var n=(e&&e[ve]).A;return Z(n,t),Q(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!he&&S(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=z("Patches").$;return E(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),_e=new xe,Ie=_e.produce,Se=(_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseProxies.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e),Ie),Ee=n(4942);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,Ee.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oe={INIT:"@@redux/INIT"+Pe(),REPLACE:"@@redux/REPLACE"+Pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pe()}};function De(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Re(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ae(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ae(1));return n(Re)(e,t)}if("function"!==typeof e)throw new Error(Ae(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Ae(3));return a}function f(e){if("function"!==typeof e)throw new Error(Ae(4));if(s)throw new Error(Ae(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Ae(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!De(e))throw new Error(Ae(7));if("undefined"===typeof e.type)throw new Error(Ae(8));if(s)throw new Error(Ae(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Oe.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ae(10));i=e,h({type:Oe.REPLACE})}})[Ne]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ae(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e},r}function Le(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Oe.INIT}))throw new Error(Ae(12));if("undefined"===typeof n(void 0,{type:Oe.PROBE_UNKNOWN_ACTION()}))throw new Error(Ae(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ae(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ae(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Me.apply(void 0,a)(n.dispatch),Ce(Ce({},n),{},{dispatch:r})}}}function je(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ve=je();Ve.withExtraArgument=je;var Ue=Ve,ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},qe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ze=Object.defineProperty,Ke=Object.defineProperties,He=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,$e=function(e,t,n){return t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xe=function(e,t){for(var n in t||(t={}))We.call(t,n)&&$e(e,n,t[n]);if(Ge)for(var r=0,i=Ge(t);r<i.length;r++){n=i[r];Qe.call(t,n)&&$e(e,n,t[n])}return e},Ye=function(e,t){return Ke(e,He(t))},Je=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},et="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Me:Me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function tt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var nt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ze(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,qe([void 0],e[0].concat(this)))):new(t.bind.apply(t,qe([void 0],e.concat(this))))},t}(Array);function rt(e){return T(e)?Se(e,(function(){})):e}function it(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new nt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ue.withExtraArgument(n.extraArgument)):r.push(Ue));0;return r}(e)}}var at=!0;function ot(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Xe(Xe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ut(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var st=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ct=["name","message","stack","code"],lt=function(e,t){this.payload=e,this.meta=t},ft=function(e,t){this.payload=e,this.meta=t},ht=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ct;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ot(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ye(Xe({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ot(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ye(Xe({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ot(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||ht)(e||"Rejected"),meta:Ye(Xe({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):st(),h=new o;function d(e){l=e,h.abort()}var p=function(){return Je(this,null,(function(){var o,p,v,m,y,g;return Be(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new lt(e,t)},fulfillWithValue:function(e,t){return new ft(e,t)}})).then((function(t){if(t instanceof lt)throw t;return t instanceof ft?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof lt?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(dt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function dt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var pt="listenerMiddleware";ot(pt+"/add"),ot(pt+"/removeAll"),ot(pt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var vt,mt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:mt(10);oe();var yt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:rt(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?ut(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Xe(Xe({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ut(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return rt(e())};else{var c=rt(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=qe([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(E(e))return void 0===(r=n(e,t))?e:r;if(T(e))return Se(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?ot(c,r):ot(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e,t){e.user=null}}}),gt=yt.actions,kt=gt.login,bt=gt.logout,wt=function(e){return e.user.user},xt=function(e){var t,n=it(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!tt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Le(a)}var p=u;if("function"===typeof p&&(p=p(n),!at&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!at&&p.some((function(e){return"function"!==typeof e})))throw new Error("each middleware provided to configureStore must be a function");var v=Fe.apply(void 0,p),m=Me;c&&(m=et(Xe({trace:!at},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=qe([v],d):"function"===typeof d&&(y=d(y)),Re(t,f,m.apply(void 0,y))}({reducer:{user:yt.reducer}}),_t=n(9439);function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var St=n(9142);function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,St.Z)(r.key),r)}}function Tt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ct=n(181);function At(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Ct.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}function Ot(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Lt=n(1002);function Mt(e){var t=Rt();return function(){var n,r=Dt(e);if(t){var i=Dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,Lt.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}(this,n)}}function Ft(e,t,n){return Ft=Rt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Pt(i,n.prototype),i},Ft.apply(null,arguments)}function jt(e){var t="function"===typeof Map?new Map:void 0;return jt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ft(e,arguments,Dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pt(n,e)},jt(e)}var Vt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new zt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zt=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Tt(n)}(jt(Error)),Bt=function(e){return function(e){var t=Vt(e);return Ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qt=function(e){try{return Ut.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Zt(e[n],t[n]));return e}var Kt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ht=function(){try{return Kt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&qt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Gt=function(){var e;return null===(e=Ht())||void 0===e?void 0:e.config},Wt=function(){function e(){var t=this;It(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Tt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $t(){var e,t=null===(e=Ht())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Xt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Yt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Jt(){var e=Qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function en(){try{return"object"===typeof indexedDB}catch(e){return!1}}var tn=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Nt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Nt(a),nn.prototype.create),a}return Tt(n)}(jt(Error)),nn=function(){function e(t,n,r){It(this,e),this.service=t,this.serviceName=n,this.errors=r}return Tt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(rn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new tn(n,a,t)}}]),e}();var rn=/\{\$([^}]+)}/g;function an(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function on(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(un(u)&&un(s)){if(!on(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function un(e){return null!==e&&"object"===typeof e}function sn(e){for(var t=[],n=function(){var e=(0,_t.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function cn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,_t.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function ln(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fn(e,t){var n=new hn(e,t);return n.subscribe.bind(n)}var hn=function(){function e(t,n){var r=this;It(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Tt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=At(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=dn),void 0===r.error&&(r.error=dn),void 0===r.complete&&(r.complete=dn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function dn(){}function pn(e){return e&&e._delegate?e._delegate:e}function vn(){vn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,Lt.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var mn=n(3433);function yn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function gn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){yn(a,r,i,o,u,"next",e)}function u(e){yn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var kn=function(){function e(t,n,r){It(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Tt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),bn="[DEFAULT]",wn=function(){function e(t,n){It(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Tt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bn})}catch(s){}var t,n=At(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,_t.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,mn.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,mn.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=At(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,_t.Z)(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(YS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===bn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(YS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.component?this.component.multipleInstances?e:bn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var xn,_n,In=function(){function e(t){It(this,e),this.name=t,this.providers=new Map}return Tt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Sn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_n||(_n={}));var En={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},Tn=_n.INFO,Cn=(xn={},(0,Ee.Z)(xn,_n.DEBUG,"log"),(0,Ee.Z)(xn,_n.VERBOSE,"log"),(0,Ee.Z)(xn,_n.INFO,"info"),(0,Ee.Z)(xn,_n.WARN,"warn"),(0,Ee.Z)(xn,_n.ERROR,"error"),xn),An=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Cn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nn=function(){function e(t){It(this,e),this.name=t,this._logLevel=Tn,this._logHandler=An,this._userLogHandler=null,Sn.push(this)}return Tt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _n))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?En[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.DEBUG].concat(t)),this._logHandler.apply(this,[this,_n.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_n.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.INFO].concat(t)),this._logHandler.apply(this,[this,_n.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.WARN].concat(t)),this._logHandler.apply(this,[this,_n.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.ERROR].concat(t)),this._logHandler.apply(this,[this,_n.ERROR].concat(t))}}]),e}();var Pn,On,Dn=function(e,t){return t.some((function(t){return e instanceof t}))};var Rn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Fn=new WeakMap,jn=new WeakMap;var Vn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ln.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Un(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(On||(On=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qn(this),n),Bn(Rn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bn(e.apply(qn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qn(this),t].concat(r));return Mn.set(a,t.sort?t.sort():[t]),Bn(a)}}function zn(e){return"function"===typeof e?Un(e):(e instanceof IDBTransaction&&function(e){if(!Ln.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ln.set(e,t)}}(e),Dn(e,Pn||(Pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vn):e)}function Bn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Bn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Rn.set(t,e)})).catch((function(){})),jn.set(t,e),t}(e);if(Fn.has(e))return Fn.get(e);var t=zn(e);return t!==e&&(Fn.set(e,t),jn.set(t,e)),t}var qn=function(e){return jn.get(e)};var Zn,Kn,Hn=["get","getKey","getAll","getAllKeys","count"],Gn=["put","add","delete","clear"],Wn=new Map;function Qn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Wn.get(t))return Wn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Hn.includes(n))){var a=function(){var e=gn(vn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Wn.set(t,a),a}}}Vn=function(e){return Ce(Ce({},e),{},{get:function(t,n,r){return Qn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qn(t,n)||e.has(t,n)}})}(Vn);var $n=function(){function e(t){It(this,e),this.container=t}return Tt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xn="@firebase/app",Yn="0.9.5",Jn=new Nn("@firebase/app"),er="[DEFAULT]",tr=(Zn={},(0,Ee.Z)(Zn,Xn,"fire-core"),(0,Ee.Z)(Zn,"@firebase/app-compat","fire-core-compat"),(0,Ee.Z)(Zn,"@firebase/analytics","fire-analytics"),(0,Ee.Z)(Zn,"@firebase/analytics-compat","fire-analytics-compat"),(0,Ee.Z)(Zn,"@firebase/app-check","fire-app-check"),(0,Ee.Z)(Zn,"@firebase/app-check-compat","fire-app-check-compat"),(0,Ee.Z)(Zn,"@firebase/auth","fire-auth"),(0,Ee.Z)(Zn,"@firebase/auth-compat","fire-auth-compat"),(0,Ee.Z)(Zn,"@firebase/database","fire-rtdb"),(0,Ee.Z)(Zn,"@firebase/database-compat","fire-rtdb-compat"),(0,Ee.Z)(Zn,"@firebase/functions","fire-fn"),(0,Ee.Z)(Zn,"@firebase/functions-compat","fire-fn-compat"),(0,Ee.Z)(Zn,"@firebase/installations","fire-iid"),(0,Ee.Z)(Zn,"@firebase/installations-compat","fire-iid-compat"),(0,Ee.Z)(Zn,"@firebase/messaging","fire-fcm"),(0,Ee.Z)(Zn,"@firebase/messaging-compat","fire-fcm-compat"),(0,Ee.Z)(Zn,"@firebase/performance","fire-perf"),(0,Ee.Z)(Zn,"@firebase/performance-compat","fire-perf-compat"),(0,Ee.Z)(Zn,"@firebase/remote-config","fire-rc"),(0,Ee.Z)(Zn,"@firebase/remote-config-compat","fire-rc-compat"),(0,Ee.Z)(Zn,"@firebase/storage","fire-gcs"),(0,Ee.Z)(Zn,"@firebase/storage-compat","fire-gcs-compat"),(0,Ee.Z)(Zn,"@firebase/firestore","fire-fst"),(0,Ee.Z)(Zn,"@firebase/firestore-compat","fire-fst-compat"),(0,Ee.Z)(Zn,"fire-js","fire-js"),(0,Ee.Z)(Zn,"firebase","fire-js-all"),Zn),nr=new Map,rr=new Map;function ir(e,t){try{e.container.addComponent(t)}catch(n){Jn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ar(e,t){e.container.addOrOverwriteComponent(t)}function or(e){var t=e.name;if(rr.has(t))return Jn.debug("There were multiple attempts to register component ".concat(t,".")),!1;rr.set(t,e);var n,r=At(nr.values());try{for(r.s();!(n=r.n()).done;){ir(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ur(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er;ur(e,t).clearInstance(n)}function cr(){rr.clear()}var lr=(Kn={},(0,Ee.Z)(Kn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ee.Z)(Kn,"bad-app-name","Illegal App name: '{$appName}"),(0,Ee.Z)(Kn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Ee.Z)(Kn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Ee.Z)(Kn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Ee.Z)(Kn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Ee.Z)(Kn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Ee.Z)(Kn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(Kn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(Kn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Ee.Z)(Kn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Kn),fr=new nn("app","Firebase",lr),hr=function(){function e(t,n,r){var i=this;It(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",(function(){return i}),"PUBLIC"))}return Tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}]),e}(),dr="9.18.0";function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:er,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=Gt()),!n)throw fr.create("no-options");var a=nr.get(i);if(a){if(on(n,a.options)&&on(r,a.config))return a;throw fr.create("duplicate-app",{appName:i})}var o,u=new In(i),s=At(rr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new hr(n,r,u);return nr.set(i,l),l}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=nr.get(e);if(!t&&e===er)return pr();if(!t)throw fr.create("no-app",{appName:e});return t}function mr(){return Array.from(nr.values())}function yr(e){return gr.apply(this,arguments)}function gr(){return(gr=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!nr.has(n)){e.next=6;break}return nr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e,t,n){var r,i=null!==(r=tr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jn.warn(u.join(" "))}or(new kn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function br(e,t){if(null!==e&&"function"!==typeof e)throw fr.create("invalid-log-argument");!function(e,t){var n,r=At(Sn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=En[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_n[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wr(e){var t;t=e,Sn.forEach((function(e){e.setLogLevel(t)}))}var xr="firebase-heartbeat-database",_r=1,Ir="firebase-heartbeat-store",Sr=null;function Er(){return Sr||(Sr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Bn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Bn(u.result),e.oldVersion,e.newVersion,Bn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(xr,_r,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ir)}}).catch((function(e){throw fr.create("idb-open",{originalErrorMessage:e.message})}))),Sr}function Tr(e){return Cr.apply(this,arguments)}function Cr(){return Cr=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ir).objectStore(Ir).get(Pr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof tn?Jn.warn(e.t0.message):(r=fr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Cr.apply(this,arguments)}function Ar(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er();case 3:return r=e.sent,i=r.transaction(Ir,"readwrite"),a=i.objectStore(Ir),e.next=8,a.put(n,Pr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof tn?Jn.warn(e.t0.message):(o=fr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Nr.apply(this,arguments)}function Pr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Or=1024,Dr=function(){function e(t){var n=this;It(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Tt(e,[{key:"triggerHeartbeat",value:function(){var e=gn(vn().mark((function e(){var t,n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Rr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Rr(),n=Lr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Bt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rr(){return(new Date).toISOString().substring(0,10)}function Lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or,r=[],i=e.slice(),a=At(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Vr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Vr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mr,Fr,jr=function(){function e(t){It(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Tt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(en()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Tr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ar(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ar(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,mn.Z)(r.heartbeats),(0,mn.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vr(e){return Bt(JSON.stringify({version:2,heartbeats:e})).length}Mr="",or(new kn("platform-logger",(function(e){return new $n(e)}),"PRIVATE")),or(new kn("heartbeat",(function(e){return new Dr(e)}),"PRIVATE")),kr(Xn,Yn,Mr),kr(Xn,Yn,"esm2017"),kr("fire-js","");var Ur=function(){function e(t,n){var r=this;It(this,e),this._delegate=t,this.firebase=n,ir(t,new kn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),yr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:er;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ir(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ar(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),zr=(Fr={},(0,Ee.Z)(Fr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Ee.Z)(Fr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fr),Br=new nn("app-compat","Firebase",zr);var qr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(an(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:kr,setLogLevel:wr,onLog:br,apps:null,SDK_VERSION:dr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(or(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Br.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Zt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!an(n,e=e||er))throw Br.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ur);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Zt(n,e)},createSubscribe:fn,ErrorFactory:nn,deepExtend:Zt}),n}(),Zr=new Nn("@firebase/app-compat"),Kr="@firebase/app-compat",Hr="0.2.5";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gr=self.firebase.SDK_VERSION;Gr&&Gr.indexOf("LITE")>=0&&Zr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Wr=qr;!function(e){kr(Kr,Hr,e)}();Wr.registerVersion("firebase","9.18.0","app-compat");var Qr=n(9e3),$r=n(184);var Xr=function(e){var t=e.title,n=e.Icon,r=e.color;return(0,$r.jsxs)("div",{className:"inputOptions",children:[(0,$r.jsx)(n,{style:{color:r}}),(0,$r.jsx)("h4",{children:t})]})},Yr=n(5764),Jr=n(7466),ei=n(8196),ti=n(2503),ni=n(3366),ri=n(7462),ii=n(8182),ai=n(4419),oi=n(1543),ui=n(1388),si=(0,n(9201).Z)((0,$r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),ci=n(5878),li=n(1217);function fi(e){return(0,li.Z)("MuiAvatar",e)}(0,ci.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var hi=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],di=(0,oi.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,ri.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,ri.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),pi=(0,oi.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),vi=(0,oi.ZP)(si,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var mi=t.forwardRef((function(e,n){var r=(0,ui.Z)({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,c=r.imgProps,l=r.sizes,f=r.src,h=r.srcSet,d=r.variant,p=void 0===d?"circular":d,v=(0,ni.Z)(r,hi),m=null,y=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=t.useState(!1),u=(0,_t.Z)(o,2),s=u[0],c=u[1];return t.useEffect((function(){if(i||a){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}((0,ri.Z)({},c,{src:f,srcSet:h})),g=f||h,k=g&&"error"!==y,b=(0,ri.Z)({},r,{colorDefault:!k,component:s,variant:p}),w=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,ai.Z)(n,fi,t)}(b);return m=k?(0,$r.jsx)(pi,(0,ri.Z)({alt:i,src:f,srcSet:h,sizes:l,ownerState:b,className:w.img},c)):null!=a?a:g&&i?i[0]:(0,$r.jsx)(vi,{ownerState:b,className:w.fallback}),(0,$r.jsx)(di,(0,ri.Z)({as:s,ownerState:b,className:(0,ii.Z)(w.root,o),ref:n},v,{children:m}))})),yi=mi,gi=n(8051),ki=n(9161),bi=n(580),wi=n(1686),xi=(0,t.forwardRef)((function(e,t){var n=e.name,r=e.description,i=e.messages,a=e.photourl;return(0,$r.jsxs)("div",{ref:t,className:"post",children:[(0,$r.jsxs)("div",{className:"post__header",children:[(0,$r.jsx)(yi,{src:a,children:n[0]}),(0,$r.jsxs)("div",{className:"post-info",children:[(0,$r.jsx)("h2",{children:n}),(0,$r.jsx)("p",{children:r})]})]}),(0,$r.jsx)("div",{className:"post__body",children:(0,$r.jsx)("p",{children:i})}),(0,$r.jsxs)("div",{className:"post__button",children:[(0,$r.jsx)(Xr,{Icon:gi.Z,title:"Like",color:""}),(0,$r.jsx)(Xr,{Icon:ki.Z,title:"Comment",color:""}),(0,$r.jsx)(Xr,{Icon:bi.Z,title:"Share",color:""}),(0,$r.jsx)(Xr,{Icon:wi.Z,title:"Send",color:""})]})]})})),_i=n(3878),Ii=n(9199),Si=n(5267);function Ei(){return Ei="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ei.apply(this,arguments)}function Ti(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ci;Object.create;var Ai={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ni={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Pi(){return(0,Ee.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Oi=function(){var e;return e={},(0,Ee.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Ee.Z)(e,"argument-error",""),(0,Ee.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Ee.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Ee.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Ee.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Ee.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Ee.Z)(e,"cors-unsupported","This browser is not supported."),(0,Ee.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Ee.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Ee.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Ee.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Ee.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Ee.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Ee.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Ee.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Ee.Z)(e,"expired-action-code","The action code has expired."),(0,Ee.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Ee.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Ee.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Ee.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Ee.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Ee.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Ee.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Ee.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Ee.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Ee.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Ee.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Ee.Z)(e,"invalid-email","The email address is badly formatted."),(0,Ee.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Ee.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Ee.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Ee.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Ee.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ee.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Ee.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Ee.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Ee.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Ee.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Ee.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Ee.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Ee.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Ee.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Ee.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Ee.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Ee.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Ee.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Ee.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Ee.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Ee.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Ee.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Ee.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Ee.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Ee.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Ee.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Ee.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Ee.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Ee.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Ee.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Ee.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Ee.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Ee.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Ee.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Ee.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Ee.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Ee.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Ee.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Ee.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Ee.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Ee.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Ee.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Ee.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Ee.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Ee.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Ee.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Ee.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Ee.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Ee.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Ee.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Ee.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Ee.Z)(e,"timeout","The operation has timed out."),(0,Ee.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Ee.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Ee.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Ee.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Ee.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Ee.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Ee.Z)(e,"unverified-email","The operation requires a verified email."),(0,Ee.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Ee.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Ee.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Ee.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Ee.Z)(e,"user-signed-out",""),(0,Ee.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Ee.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Ee.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Di=Pi,Ri=new nn("auth","Firebase",Pi()),Li=new Nn("@firebase/auth");function Mi(e){if(Li.logLevel<=_n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Li.error.apply(Li,["Auth (".concat(dr,"): ").concat(e)].concat(n))}}function Fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zi.apply(void 0,[e].concat(n))}function ji(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zi.apply(void 0,[e].concat(n))}function Vi(e,t,n){var r=Object.assign(Object.assign({},Di()),(0,Ee.Z)({},t,n));return new nn("auth","Firebase",r).create(t,{appName:e.name})}function Ui(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Fi(e,"argument-error"),Vi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,mn.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,mn.Z)(o)))}return Ri.create.apply(Ri,[e].concat(n))}function Bi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zi.apply(void 0,[t].concat(r))}}function qi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Mi(t),new Error(t)}function Zi(e,t){e||qi(t)}var Ki=new Map;function Hi(e){Zi(e instanceof Function,"Expected a class definition");var t=Ki.get(e);return t?(Zi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ki.set(e,t),t)}function Gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Wi(){return"http:"===Qi()||"https:"===Qi()}function Qi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $i=function(){function e(t,n){It(this,e),this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())||Yt()}return Tt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Wi()||Xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Xi(e,t){Zi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Yi=function(){function e(){It(this,e)}return Tt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ji=(Ci={},(0,Ee.Z)(Ci,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Ee.Z)(Ci,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Ee.Z)(Ci,"INVALID_IDENTIFIER","invalid-email"),(0,Ee.Z)(Ci,"MISSING_CONTINUE_URI","internal-error"),(0,Ee.Z)(Ci,"INVALID_PASSWORD","wrong-password"),(0,Ee.Z)(Ci,"MISSING_PASSWORD","internal-error"),(0,Ee.Z)(Ci,"EMAIL_EXISTS","email-already-in-use"),(0,Ee.Z)(Ci,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Ee.Z)(Ci,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Ee.Z)(Ci,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Ee.Z)(Ci,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Ee.Z)(Ci,"MISSING_REQ_TYPE","internal-error"),(0,Ee.Z)(Ci,"EMAIL_NOT_FOUND","user-not-found"),(0,Ee.Z)(Ci,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Ee.Z)(Ci,"EXPIRED_OOB_CODE","expired-action-code"),(0,Ee.Z)(Ci,"INVALID_OOB_CODE","invalid-action-code"),(0,Ee.Z)(Ci,"MISSING_OOB_CODE","internal-error"),(0,Ee.Z)(Ci,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Ee.Z)(Ci,"INVALID_ID_TOKEN","invalid-user-token"),(0,Ee.Z)(Ci,"TOKEN_EXPIRED","user-token-expired"),(0,Ee.Z)(Ci,"USER_NOT_FOUND","user-token-expired"),(0,Ee.Z)(Ci,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Ee.Z)(Ci,"INVALID_CODE","invalid-verification-code"),(0,Ee.Z)(Ci,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Ee.Z)(Ci,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Ee.Z)(Ci,"MISSING_SESSION_INFO","missing-verification-id"),(0,Ee.Z)(Ci,"SESSION_EXPIRED","code-expired"),(0,Ee.Z)(Ci,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Ee.Z)(Ci,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Ee.Z)(Ci,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Ee.Z)(Ci,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Ee.Z)(Ci,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Ee.Z)(Ci,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Ee.Z)(Ci,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Ee.Z)(Ci,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Ee.Z)(Ci,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Ee.Z)(Ci,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Ee.Z)(Ci,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ci),ea=new $i(3e4,6e4);function ta(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function na(e,t,n,r){return ra.apply(this,arguments)}function ra(){return ra=gn(vn().mark((function e(t,n,r,i){var a,o=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ia(t,a,gn(vn().mark((function e(){var a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=sn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Yi.fetch()(sa(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return aa=gn(vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ji),n),e.prev=2,a=new ca(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw la(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,_t.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw la(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw la(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw la(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Vi(t,d,h);case 34:Fi(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof tn)){e.next=41;break}throw e.t0;case 41:Fi(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),aa.apply(this,arguments)}function oa(e,t,n,r){return ua.apply(this,arguments)}function ua(){return ua=gn(vn().mark((function e(t,n,r,i){var a,o,u=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,na(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Fi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function sa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ca=function(){function e(t){var n=this;It(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ji(n.auth,"network-request-failed"))}),ea.get())}))}return Tt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function la(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ji(e,t,r);return i.customData._tokenResponse=n,i}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ga(){return ga=gn(vn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=pn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Bi((a=ba(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ya(ka(a.auth_time)),issuedAtTime:ya(ka(a.iat)),expirationTime:ya(ka(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e){return 1e3*Number(e)}function ba(e){var t=e.split("."),n=(0,_t.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Mi("JWT malformed, contained fewer than 3 sections"),null;try{var o=qt(i);return o?JSON.parse(o):(Mi("Failed to decode base64 JWT payload"),null)}catch(u){return Mi("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=gn(vn().mark((function e(t,n){var r=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof tn&&_a(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),xa.apply(this,arguments)}function _a(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ia=function(){function e(t){It(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Tt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Sa=function(){function e(t,n){It(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Tt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ea(e){return Ta.apply(this,arguments)}function Ta(){return Ta=gn(vn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,wa(t,va(r,{idToken:i}));case 6:Bi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ti(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Aa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Sa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(){return(Ca=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pn(t),e.next=3,Ea(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,mn.Z)(n),(0,mn.Z)(t))}function Na(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(t,{},gn(vn().mark((function e(){var r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=sa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Yi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}var Oa=function(){function e(){It(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Tt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Bi(e.idToken,"internal-error"),Bi("undefined"!==typeof e.idToken,"internal-error"),Bi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ba(e);return Bi(t,"internal-error"),Bi("undefined"!==typeof t.exp,"internal-error"),Bi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=gn(vn().mark((function e(t){var n,r=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Bi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return qi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Bi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Bi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Bi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Da(e,t){Bi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ra=function(){function e(t){It(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ti(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,mn.Z)(a.providerData):[],this.metadata=new Sa(a.createdAt||void 0,a.lastLoginAt||void 0)}return Tt(e,[{key:"getIdToken",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Bi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ga.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ca.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Bi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Bi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=gn(vn().mark((function e(t){var n,r,i=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ea(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,wa(this,fa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Bi(k&&_,t,"internal-error");var I=Oa.fromJSON(this.name,_);Bi("string"===typeof k,t,"internal-error"),Da(f,t.name),Da(h,t.name),Bi("boolean"===typeof b,t,"internal-error"),Bi("boolean"===typeof w,t,"internal-error"),Da(d,t.name),Da(p,t.name),Da(v,t.name),Da(m,t.name),Da(y,t.name),Da(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=gn(vn().mark((function t(n,r){var i,a,o,u=arguments;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Oa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ea(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),La=function(){function e(){It(this,e),this.type="NONE",this.storage={}}return Tt(e,[{key:"_isAvailable",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();La.type="NONE";var Ma=La;function Fa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ja=function(){function e(t,n,r){It(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Fa(this.userKey,a.apiKey,o),this.fullPersistenceKey=Fa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Tt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ra._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=gn(vn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Hi(Ma),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Hi(Ma),u=Fa(i,n.config.apiKey,n.name),s=null,c=At(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ra._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Va(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ua(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ka(t))return"Blackberry";if(Ha(t))return"Webos";if(za(t))return"Safari";if((t.includes("chrome/")||Ba(t))&&!t.includes("edge/"))return"Chrome";if(Za(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/firefox\//i.test(e)}function za(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/crios\//i.test(e)}function qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iemobile/i.test(e)}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/android/i.test(e)}function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/blackberry/i.test(e)}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/webos/i.test(e)}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return Ga(e)||Za(e)||Ha(e)||Ka(e)||/windows phone/i.test(e)||qa(e)}function Qa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Va(Qt());break;case"Worker":t="".concat(Va(Qt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(dr,"/").concat(r)}var $a=function(){function e(t){It(this,e),this.auth=t,this.queue=[]}return Tt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=gn(vn().mark((function e(t){var n,r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=At(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=At(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(q){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xa=function(){function e(t,n,r){It(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ja(this),this.idTokenSubscription=new Ja(this),this.beforeStateQueue=new $a(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ri,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Tt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(gn(vn().mark((function r(){var i,a;return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ja.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=gn(vn().mark((function e(t){var n,r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Bi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ea(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?pn(t):null)&&Bi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=gn(vn().mark((function e(t){var n,r=this,i=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Bi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(gn(vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Hi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new nn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Bi(n=t&&Hi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ja.create(this,[Hi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=gn(vn().mark((function e(t){var n=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Bi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Bi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=gn(vn().mark((function e(){var t,n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ee.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ya(e){return pn(e)}var Ja=function(){function e(t){var n=this;It(this,e),this.auth=t,this.observer=null,this.addObserver=fn((function(e){return n.observer=e}))}return Tt(e,[{key:"next",get:function(){return Bi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function eo(e,t,n){var r=Ya(e);Bi(r._canInitEmulator,r,"emulator-config-failed"),Bi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=to(t),o=function(e){var t=to(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:no(r.substr(a.length+1))}}var o=r.split(":"),u=(0,_t.Z)(o,2);return{host:u[0],port:no(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function to(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function no(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ro=function(){function e(t,n){It(this,e),this.providerId=t,this.signInMethod=n}return Tt(e,[{key:"toJSON",value:function(){return qi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return qi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return qi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return qi("not implemented")}}]),e}();function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:resetPassword",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return co=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:update",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithPassword",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return po=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:sendOobCode",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(t,n));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return go=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(t,n));case 1:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return bo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(t,n));case 1:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e,t){return xo.apply(this,arguments)}function xo(){return xo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(t,n));case 1:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e,t){return Io.apply(this,arguments)}function Io(){return Io=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithEmailLink",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}var To=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return It(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Tt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_o(t,{email:this._email,oobCode:this._password}));case 5:Fi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",oo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",So(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Fi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ro);function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithIdp",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}var No=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Tt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Co(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Co(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ti(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ro);function Po(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:sendVerificationCode",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Do(){return Do=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithPhoneNumber",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(){return Ro=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa(t,"POST","/v1/accounts:signInWithPhoneNumber",ta(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw la(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}var Lo=(0,Ee.Z)({},"USER_NOT_FOUND","user-not-found");function Mo(){return Mo=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithPhoneNumber",ta(t,r),Lo));case 2:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var Fo=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Do.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ro.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Mo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ro);var jo=function(){function e(t){var n,r,i,a,o,u;It(this,e);var s=cn(ln(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Bi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Tt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=cn(ln(e)).link,n=t?cn(ln(t)).deep_link_id:null,r=cn(ln(e)).deep_link_id;return(r?cn(ln(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(YS){return null}}}]),e}();var Vo=function(){function e(){It(this,e),this.providerId=e.PROVIDER_ID}return Tt(e,null,[{key:"credential",value:function(e,t){return To._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jo.parseLink(t);return Bi(n,"argument-error"),To._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Vo.PROVIDER_ID="password",Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Uo=function(){function e(t){It(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Tt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zo=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Tt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,mn.Z)(this.scopes)}}]),n}(Uo),Bo=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Bi(e.idToken||e.accessToken,"argument-error"),No._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Bi("providerId"in t&&"signInMethod"in t,"argument-error"),No._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(zo),qo=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"facebook.com")}return Tt(n,null,[{key:"credential",value:function(e){return No._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YS){return null}}}]),n}(zo);qo.FACEBOOK_SIGN_IN_METHOD="facebook.com",qo.PROVIDER_ID="facebook.com";var Zo=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Tt(n,null,[{key:"credential",value:function(e,t){return No._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(YS){return null}}}]),n}(zo);Zo.GOOGLE_SIGN_IN_METHOD="google.com",Zo.PROVIDER_ID="google.com";var Ko=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"github.com")}return Tt(n,null,[{key:"credential",value:function(e){return No._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YS){return null}}}]),n}(zo);Ko.GITHUB_SIGN_IN_METHOD="github.com",Ko.PROVIDER_ID="github.com";var Ho=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return Co(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Co(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ro),Go=function(e){Ot(n,e);var t=Mt(n);function n(e){return It(this,n),Bi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Tt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ho.fromJSON(e);return Bi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ho._create(r,n)}catch(i){return null}}}]),n}(Uo),Wo=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,"twitter.com")}return Tt(n,null,[{key:"credential",value:function(e,t){return No._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(YS){return null}}}]),n}(zo);function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signUp",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}Wo.TWITTER_SIGN_IN_METHOD="twitter.com",Wo.PROVIDER_ID="twitter.com";var Xo=function(){function e(t){It(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Tt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=gn(vn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ra._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=gn(vn().mark((function t(n,r,i){var a;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jo(){return Jo=gn(vn().mark((function e(t){var n,r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}var eu=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a){var o,u;return It(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Nt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Tt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(tn);function tu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw eu._fromErrorAndOperation(e,n,t,r);throw n}))}function nu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pn(t),e.next=3,uu(!0,r,n);case 3:return e.t0=da,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=nu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=gn(vn().mark((function e(t,n){var r,i,a=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=wa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t,n){return su.apply(this,arguments)}function su(){return(su=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(n);case 2:i=nu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Bi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=gn(vn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,wa(t,tu(i,a,n,t),r);case 6:return Bi((o=e.sent).idToken,i,"internal-error"),Bi(u=ba(o.idToken),i,"internal-error"),s=u.sub,Bi(t.uid===s,i,"user-mismatch"),e.abrupt("return",Xo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Fi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=gn(vn().mark((function e(t,n){var r,i,a,o,u=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,tu(t,i,n);case 4:return a=e.sent,e.next=7,Xo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(Ya(t),n));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pn(t),e.next=3,uu(!1,r,n.providerId);case 3:return e.abrupt("return",au(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cu(pn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,"POST","/v1/accounts:signInWithCustomToken",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(){return wu=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ya(t),e.next=3,ku(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var xu=function(){function e(t,n){It(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Tt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_u._fromServerResponse(e,t):Fi(e,"internal-error")}}]),e}(),_u=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Tt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(xu);function Iu(e,t,n){var r;Bi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Bi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Bi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Bi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Su(){return Su=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),a={requestType:"PASSWORD_RESET",email:n},r&&Iu(i,a,r),e.next=5,yo(i,a);case 5:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(){return Eu=gn(vn().mark((function e(t,n,r){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(pn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Tu(){return Tu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(pn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return Au=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pn(t),e.next=3,io(r,{oobCode:n});case 3:i=e.sent,Bi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Bi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Bi(i.mfaInfo,r,"internal-error");case 13:Bi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=xu._fromServerResponse(Ya(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Nu(){return Nu=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(pn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Pu(e,t,n){return Ou.apply(this,arguments)}function Ou(){return Ou=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),e.next=3,Qo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Xo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Du(){return Du=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),a={requestType:"EMAIL_SIGNIN",email:n},Bi(r.handleCodeInApp,i,"argument-error"),r&&Iu(i,a,r),e.next=6,ko(i,a);case 6:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Ru(){return Ru=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),Bi((a=Vo.credentialWithLink(n,r||Gi()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",du(i,a));case 4:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:createAuthUri",ta(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(){return Fu=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi()?Gi():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Lu(pn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function ju(){return(ju=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Iu(r.auth,a,n),e.next=8,vo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(){return(Vu=gn(vn().mark((function e(t,n,r){var i,a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Iu(i.auth,o,r),e.next=8,wo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return zu.apply(this,arguments)}function zu(){return zu=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",na(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Bu(){return(Bu=gn(vn().mark((function e(t,n){var r,i,a,o,u,s,c;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=pn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,wa(a,Uu(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e,t,n){return Zu.apply(this,arguments)}function Zu(){return Zu=gn(vn().mark((function e(t,n,r){var i,a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,wa(t,oo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var Ku=Tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};It(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Hu=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this,e,r,i)).username=a,o}return Tt(n)}(Ku),Gu=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"facebook.com",r)}return Tt(n)}(Ku),Wu=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Tt(n)}(Hu),Qu=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"google.com",r)}return Tt(n)}(Ku),$u=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){return It(this,n),t.call(this,e,"twitter.com",r,i)}return Tt(n)}(Hu);function Xu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ba(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ku(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Gu(a,i);case"github.com":return new Wu(a,i);case"google.com":return new Qu(a,i);case"twitter.com":return new $u(a,i,e.screenName||null);case"custom":case"anonymous":return new Ku(a,null);default:return new Ku(a,r,i)}}(n)}var Yu=function(){function e(t,n,r){It(this,e),this.type=t,this.credential=n,this.auth=r}return Tt(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Ee.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ju=function(){function e(t,n,r){It(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Tt(e,[{key:"resolveSignIn",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ya(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return xu._fromServerResponse(r,e)}));Bi(i.mfaPendingCredential,r,"internal-error");var o=Yu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=gn(vn().mark((function e(t){var a,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xo._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Bi(n.user,r,"internal-error"),e.abrupt("return",Xo._forOperation(n.user,n.operationType,u));case 17:Fi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function es(e,t){return na(e,"POST","/v2/accounts/mfaEnrollment:start",ta(e,t))}function ts(e,t){return na(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ta(e,t))}var ns=function(){function e(t){var n=this;It(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return xu._fromServerResponse(t.auth,e)})))}))}return Tt(e,[{key:"getSession",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Yu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,wa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=gn(vn().mark((function e(t){var n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,wa(this.user,ts(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),rs=new WeakMap;var is="__sak",as=function(){function e(t,n){It(this,e),this.storageRetriever=t,this.type=n}return Tt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch(YS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var os=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qt();return za(e)||Ga(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Wa(),e._shouldAllowMigration=!0,e}return Tt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Jt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=gn(vn().mark((function e(t,r){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(Dt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gn(vn().mark((function e(t){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(Dt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(Dt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(as);os.type="LOCAL";var us=os,ss=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Tt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(as);ss.type="SESSION";var cs=ss;function ls(e){return Promise.all(e.map(function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fs=function(){function e(t){It(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Tt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=gn(vn().mark((function e(t){var n,r,i,a,o,u,s,c;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ls(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fs.receivers=[];var ds=function(){function e(t){It(this,e),this.target=t,this.handlers=new Set}return Tt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=gn(vn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=hs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ps(){return window}function vs(){return"undefined"!==typeof ps().WorkerGlobalScope&&"function"===typeof ps().importScripts}function ms(){return ys.apply(this,arguments)}function ys(){return(ys=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ks="firebaseLocalStorageDb",bs=1,ws="firebaseLocalStorage",xs="fbase_key",_s=function(){function e(t){It(this,e),this.request=t}return Tt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Is(e,t){return e.transaction([ws],t?"readwrite":"readonly").objectStore(ws)}function Ss(){var e=indexedDB.deleteDatabase(ks);return new _s(e).toPromise()}function Es(){var e=indexedDB.open(ks,bs);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ws,{keyPath:xs})}catch(r){n(r)}})),e.addEventListener("success",gn(vn().mark((function n(){var r;return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ws)){n.next=12;break}return r.close(),n.next=5,Ss();case 5:return n.t0=t,n.next=8,Es();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ts(e,t,n){return Cs.apply(this,arguments)}function Cs(){return Cs=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Is(t,!0).put((i={},(0,Ee.Z)(i,xs,n),(0,Ee.Z)(i,"value",r),i)),e.abrupt("return",new _s(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(t,!1).get(n),e.next=3,new _s(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ps(e,t){var n=Is(e,!0).delete(t);return new _s(n).toPromise()}var Os=function(){function e(){It(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Tt(e,[{key:"_openDb",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Es();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=gn(vn().mark((function e(){var t=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fs._getInstance(vs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=gn(vn().mark((function e(n,r){var i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=gn(vn().mark((function e(){var t,n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ds(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Es();case 5:return t=e.sent,e.next=8,Ts(t,is,"1");case 8:return e.next=10,Ps(t,is);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=gn(vn().mark((function e(t,n){var r=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ts(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return As(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gn(vn().mark((function e(t){var n=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ps(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Is(e,!1).getAll();return new _s(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=At(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Os.type="LOCAL";var Ds=Os;function Rs(e,t){return na(e,"POST","/v2/accounts/mfaSignIn:start",ta(e,t))}function Ls(e){return Ms.apply(this,arguments)}function Ms(){return Ms=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Fs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ji("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function js(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Vs=1e12,Us=function(){function e(t){It(this,e),this.auth=t,this.counter=Vs,this._widgets=new Map}return Tt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new zs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Vs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Vs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Vs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n,r){var i=this;It(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Bi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Tt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Bs=js("rcb"),qs=new $i(3e4,6e4),Zs=function(){function e(){var t;It(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ps().grecaptcha)||void 0===t?void 0:t.render)}return Tt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Bi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ps().grecaptcha):new Promise((function(r,i){var a=ps().setTimeout((function(){i(ji(e,"network-request-failed"))}),qs.get());ps()[Bs]=function(){ps().clearTimeout(a),delete ps()[Bs];var o=ps().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ji(e,"internal-error"))},Fs("".concat("https://www.google.com/recaptcha/api.js?","?").concat(sn({onload:Bs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ji(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ps().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ks=function(){function e(){It(this,e)}return Tt(e,[{key:"load",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Us(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Hs="recaptcha",Gs={theme:"light",type:"image"},Ws=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Gs),r=arguments.length>2?arguments[2]:void 0;It(this,e),this.parameters=n,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ya(r),this.isInvisible="invisible"===this.parameters.size,Bi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Bi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ks:new Zs,this.validateStartingState()}return Tt(e,[{key:"verify",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Bi(!this.parameters.sitekey,this.auth,"argument-error"),Bi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Bi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ps()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Bi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=gn(vn().mark((function e(){var t,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bi(Wi()&&!vs(),this.auth,"internal-error"),e.next=3,Qs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ls(this.auth);case 8:Bi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Bi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Qs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var $s=function(){function e(t,n){It(this,e),this.verificationId=t,this.onConfirmation=n}return Tt(e,[{key:"confirm",value:function(e){var t=Fo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xs(){return Xs=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),e.next=3,tc(i,n,pn(r));case 3:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return du(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Ys(e,t,n){return Js.apply(this,arguments)}function Js(){return(Js=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),e.next=3,uu(!1,i,"phone");case 3:return e.next=5,tc(i.auth,n,pn(r));case 5:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return vu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(){return(ec=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pn(t),e.next=3,tc(i.auth,n,pn(r));case 3:return a=e.sent,e.abrupt("return",new $s(a,(function(e){return yu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return nc=gn(vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Bi("string"===typeof a,t,"argument-error"),Bi(r.type===Hs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Bi("enroll"===u.type,t,"internal-error"),e.next=13,es(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Bi("signin"===u.type,t,"internal-error"),Bi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Po(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nc.apply(this,arguments)}function rc(){return(rc=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,au(pn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ic=function(){function e(t){It(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ya(t)}return Tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return tc(this.auth,e,pn(t))}}],[{key:"credential",value:function(e,t){return Fo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Fo._fromTokenResponse(n,r):null}}]),e}();function ac(e,t){return t?Hi(t):(Bi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ic.PROVIDER_ID="phone",ic.PHONE_SIGN_IN_METHOD="phone";var oc=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return Co(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Co(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Co(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ro);function uc(e){return fu(e.auth,new oc(e),e.bypassAuthState)}function sc(e){var t=e.auth,n=e.user;return Bi(n,t,"internal-error"),cu(n,new oc(e),e.bypassAuthState)}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Bi(r=t.user,n,"internal-error"),e.abrupt("return",au(r,new oc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];It(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Tt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=gn(vn().mark((function t(n,r){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=gn(vn().mark((function e(t){var n,r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uc;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return sc;default:Fi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hc=new $i(2e3,1e4);function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),Ui(t,n,Uo),a=ac(i,r),o=new gc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(){return(vc=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ui((i=pn(t)).auth,n,Uo),a=ac(i.auth,r),o=new gc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t,n){return yc.apply(this,arguments)}function yc(){return(yc=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ui((i=pn(t)).auth,n,Uo),a=ac(i.auth,r),o=new gc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gc=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a,o){var u;return It(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Nt(u),u}return Tt(n,[{key:"executeNotNull",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Bi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=gn(vn().mark((function e(){var t,n=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi(1===this.filter.length,"Popup operations only handle one event"),t=hs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ji(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ji(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ji(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hc.get())}()}}]),n}(fc);gc.currentPopupAction=null;var kc="pendingRedirect",bc=new Map,wc=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return It(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Tt(n,[{key:"execute",value:function(){var e=gn(vn().mark((function e(){var t,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ei(Dt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bc.set(this.auth._key(),t);case 21:return this.bypassAuthState||bc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=gn(vn().mark((function e(t){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ei(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ei(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fc);function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cc(n),i=Tc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ic(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t)._set(Cc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(e,t){bc.set(e._key(),t)}function Tc(e){return Hi(e._redirectPersistence)}function Cc(e){return Fa(kc,e.config.apiKey,e.name)}function Ac(e,t,n){return function(e,t,n){return Nc.apply(this,arguments)}(e,t,n)}function Nc(){return Nc=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ya(t),Ui(t,n,Uo),e.next=4,i._initializationPromise;case 4:return a=ac(i,r),e.next=7,Ic(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Pc(e,t,n){return function(e,t,n){return Oc.apply(this,arguments)}(e,t,n)}function Oc(){return(Oc=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ui((i=pn(t)).auth,n,Uo),e.next=4,i.auth._initializationPromise;case 4:return a=ac(i.auth,r),e.next=7,Ic(a,i.auth);case 7:return e.next=9,Vc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(e,t,n){return function(e,t,n){return Rc.apply(this,arguments)}(e,t,n)}function Rc(){return(Rc=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ui((i=pn(t)).auth,n,Uo),e.next=4,i.auth._initializationPromise;case 4:return a=ac(i.auth,r),e.next=7,uu(!1,i,n.providerId);case 7:return e.next=9,Ic(a,i.auth);case 9:return e.next=11,Vc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t)._initializationPromise;case 2:return e.abrupt("return",Fc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t){return jc.apply(this,arguments)}function jc(){return jc=gn(vn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ya(t),a=ac(i,n),o=new wc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Vc(e){return Uc.apply(this,arguments)}function Uc(){return(Uc=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zc=function(){function e(t){It(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Tt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ji(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Bc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Bc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Zc(e){return Kc.apply(this,arguments)}function Kc(){return Kc=gn(vn().mark((function e(t){var n,r=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",na(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}var Hc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gc=/^https?/;function Wc(){return Wc=gn(vn().mark((function e(t){var n,r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zc(t);case 4:n=e.sent,r=n.authorizedDomains,i=At(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Qc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Fi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Wc.apply(this,arguments)}function Qc(e){var t=Gi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Gc.test(r))return!1;if(Hc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var $c=new $i(3e4,6e4);function Xc(){var e=ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,mn.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Yc=null;function Jc(e){return Yc=Yc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Xc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Xc(),n(ji(e,"network-request-failed"))},timeout:$c.get()})}if(null===(i=null===(r=ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ps().gapi)||void 0===a?void 0:a.load)){var u=js("iframefcb");return ps()[u]=function(){gapi.load?o():n(ji(e,"network-request-failed"))},Fs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Yc=null,e}))}(e),Yc}var el=new $i(5e3,15e3),tl="__/auth/iframe",nl="emulator/auth/iframe",rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(e){var t=e.config;Bi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Xi(t,nl):"https://".concat(e.config.authDomain,"/").concat(tl),r={apiKey:t.apiKey,appName:e.name,v:dr},i=il.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(sn(r).slice(1))}function ol(e){return ul.apply(this,arguments)}function ul(){return ul=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(t);case 2:return n=e.sent,Bi(r=ps().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:al(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rl,dontclear:!0},(function(e){return new Promise(function(){var n=gn(vn().mark((function n(r,i){var a,o,u;return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ps().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ji(t,"network-request-failed"),o=ps().setTimeout((function(){i(a)}),el.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}var sl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cl=500,ll=600,fl="_blank",hl="http://localhost",dl=function(){function e(t){It(this,e),this.window=t,this.associatedEvent=null}return Tt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function pl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cl,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ll,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},sl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Qt().toLowerCase();n&&(u=Ba(c)?fl:n),Ua(c)&&(t=t||hl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,_t.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ga(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new dl(null);var f=window.open(t||"",u,l);Bi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new dl(f)}var vl="__/auth/handler",ml="emulator/auth/handler";function yl(e,t,n,r,i,a){Bi(e.config.authDomain,e,"auth-domain-config-required"),Bi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dr,eventId:i};if(t instanceof Uo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,_t.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof zo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vl);return Xi(t,ml)}(e),"?").concat(sn(d).slice(1))}var gl="webStorageSupport",kl=function(){function e(){It(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=Fc,this._overrideRedirectResult=Ec}return Tt(e,[{key:"_openPopup",value:function(){var e=gn(vn().mark((function e(t,n,r,i){var a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=yl(t,n,r,Gi(),i),e.abrupt("return",pl(t,o,hs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=gn(vn().mark((function e(t,n,r,i){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=yl(t,n,r,Gi(),i),ps().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol(t);case 2:return n=e.sent,r=new zc(t),n.register("authEvent",(function(e){return Bi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(gl,{type:gl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[gl];void 0!==i&&t(!!i),Fi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Wa()||za()||Ga()}}]),e}(),bl=kl,wl=function(){function e(t){It(this,e),this.factorId=t}return Tt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return qi("unexpected MultiFactorSessionType")}}}]),e}(),xl=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,"phone")).credential=e,r}return Tt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return na(e,"POST","/v2/accounts/mfaEnrollment:finalize",ta(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return na(e,"POST","/v2/accounts/mfaSignIn:finalize",ta(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(wl),_l=function(){function e(){It(this,e)}return Tt(e,null,[{key:"assertion",value:function(e){return xl._fromCredential(e)}}]),e}();_l.FACTOR_ID="phone";var Il="@firebase/auth",Sl="0.21.5",El=function(){function e(t){It(this,e),this.auth=t,this.internalListeners=new Map}return Tt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Bi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Tl;!function(e){var t;null===(t=Ht())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Cl(){return window}Tl="Browser",or(new kn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Bi(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Bi(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Tl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qa(Tl)},i=new Xa(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),or(new kn("auth-internal",(function(e){return function(e){return new El(e)}(Ya(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),kr(Il,Sl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Tl)),kr(Il,Sl,"esm2017");var Al=2e3;function Nl(e,t,n){return Pl.apply(this,arguments)}function Pl(){return Pl=gn(vn().mark((function e(t,n,r){var i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cl(),o=a.BuildInfo,Zi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Fl(n.sessionId);case 4:return u=e.sent,s={},Ga()?s.ibi=o.packageName:Za()?s.apn=o.packageName:Fi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",yl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Ol(){return Ol=gn(vn().mark((function e(t){var n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cl(),r=n.BuildInfo,i={},Ga()?i.iosBundleId=r.packageName:Za()?i.androidPackageName=r.packageName:Fi(t,"operation-not-supported-in-this-environment"),e.next=5,Zc(t,i);case 5:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Dl(e){var t=Cl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Rl(e,t,n){return Ll.apply(this,arguments)}function Ll(){return Ll=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ji(t,"redirect-cancelled-by-user"))}),Al))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Za()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ll.apply(this,arguments)}function Ml(e){var t,n,r,i,a,o,u,s,c,l,f=Cl();Bi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Bi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Bi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Fl(e){return jl.apply(this,arguments)}function jl(){return(jl=gn(vn().mark((function e(t){var n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e){if(Zi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ul=20,zl=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Tt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ei(Dt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zc);function Bl(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Gl(),postBody:null,tenantId:e.tenantId,error:ji(e,"no-auth-event")}}function ql(e,t){return Wl()._set(Ql(e),t)}function Zl(e){return Kl.apply(this,arguments)}function Kl(){return Kl=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl()._get(Ql(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Wl()._remove(Ql(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Hl(e,t){var n,r,i=function(e){var t=$l(e),n=t.link?decodeURIComponent(t.link):void 0,r=$l(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $l(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$l(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ji(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Gl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Ul;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Wl(){return Hi(us)}function Ql(e){return Fa("authEvent",e.config.apiKey,e.name)}function $l(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,_i.Z)(t)||(0,Ii.Z)(t)||(0,Ct.Z)(t)||(0,Si.Z)());r[0];return cn(r.slice(1).join("?"))}var Xl=function(){function e(){It(this,e),this._redirectPersistence=cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fc,this._overrideRedirectResult=Ec}return Tt(e,[{key:"_initialize",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Fi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=gn(vn().mark((function e(t,n,r,i){var a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ml(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bc.clear(),e.next=10,this._originValidation(t);case 10:return o=Bl(t,r,i),e.next=13,ql(t,o);case 13:return e.next=15,Nl(t,o,n);case 15:return u=e.sent,e.next=18,Dl(u);case 18:return s=e.sent,e.abrupt("return",Rl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ol.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Cl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(gn(vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Zl(e);case 2:t.onEvent(Jl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=gn(vn().mark((function n(r){var i,a;return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Zl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Hl(i,r.url)),t.onEvent(a||Jl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Cl().handleOpenURL=function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Yl=Xl;function Jl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ji("no-auth-event")}}var ef="@firebase/auth-compat",tf="0.3.5",nf=1e3;function rf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return!("file:"!==rf()&&"ionic:"!==rf()&&"capacitor:"!==rf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function of(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return Jt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt();return/Edge\/\d+/.test(e)}(e)}function uf(){try{var e=self.localStorage,t=hs();if(e)return e.setItem(t,"1"),e.removeItem(t),!of()||en()}catch(n){return sf()&&en()}return!1}function sf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cf(){return("http:"===rf()||"https:"===rf()||Xt()||af())&&!(Yt()||$t())&&uf()&&!sf()}function lf(){return af()&&"undefined"!==typeof document}function ff(){return hf.apply(this,arguments)}function hf(){return(hf=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),nf);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var df={LOCAL:"local",NONE:"none",SESSION:"session"},pf=Bi,vf="persistence";function mf(e,t){pf(Object.values(df).includes(t),e,"invalid-persistence-type"),Yt()?pf(t!==df.SESSION,e,"unsupported-persistence-type"):$t()?pf(t===df.NONE,e,"unsupported-persistence-type"):sf()?pf(t===df.NONE||t===df.LOCAL&&en(),e,"unsupported-persistence-type"):pf(t===df.NONE||uf(),e,"unsupported-persistence-type")}function yf(e){return gf.apply(this,arguments)}function gf(){return gf=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=kf(),r=Fa(vf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var bf=Bi,wf=function(){function e(){It(this,e),this.browserResolver=Hi(bl),this.cordovaResolver=Hi(Yl),this.underlyingResolver=null,this._redirectPersistence=cs,this._completeRedirectFn=Fc,this._overrideRedirectResult=Ec}return Tt(e,[{key:"_initialize",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=gn(vn().mark((function e(t,n,r,i){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=gn(vn().mark((function e(t,n,r,i){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return bf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ff();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xf(e){return e.unwrap()}function _f(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Cf(e,function(e,t){var n,r=pn(e),i=t;return Bi(t.customData.operationType,r,"argument-error"),Bi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ju._fromError(r,i)}(e,t));else if(r){var i=If(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function If(e){var t=(e instanceof tn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof tn)&&"temporaryProof"in t&&"phoneNumber"in t)return ic.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ai.PASSWORD)return null;switch(r){case Ai.GOOGLE:n=Zo;break;case Ai.FACEBOOK:n=qo;break;case Ai.GITHUB:n=Ko;break;case Ai.TWITTER:n=Wo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ho._create(r,u):No._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Bo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof tn?n.credentialFromError(e):n.credentialFromResult(e)}function Sf(e,t){return t.catch((function(t){throw t instanceof tn&&_f(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,If(t)),additionalUserInfo:Xu(e),user:Af.getOrCreate(r)}}))}function Ef(e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Sf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}var Cf=function(){function e(t,n){It(this,e),this.resolver=n,this.auth=t.wrapped()}return Tt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Sf(xf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Af=function(){function e(t){It(this,e),this._delegate=t,this.multiFactor=function(e){var t=pn(e);return rs.has(t)||rs.set(t,ns._fromUser(t)),rs.get(t)}(t)}return Tt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,vu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this.auth,Ys(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,mc(this._delegate,t,wf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(Ya(this.auth));case 2:return e.abrupt("return",Dc(this._delegate,t,wf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,yu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ef(this.auth,function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Sf(this.auth,function(e,t,n){return vc.apply(this,arguments)}(this._delegate,e,wf))}},{key:"reauthenticateWithRedirect",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(Ya(this.auth));case 2:return e.abrupt("return",Pc(this._delegate,t,wf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ju.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return qu(pn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return qu(pn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Bu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Vu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Af.USER_MAP=new WeakMap;var Nf=Bi,Pf=function(){function e(t,n){if(It(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Nf(r,"invalid-api-key",{appName:t.name}),Nf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wf:void 0;this._delegate=n.initialize({options:{persistence:Df(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Oi),this.linkUnderlyingAuth()}return Tt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Af.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){eo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Tu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Cu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Eu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this._delegate,Pu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Fu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nf(cf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Lc(this._delegate,wf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Sf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ya(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Du.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mf(this._delegate,t),e.t0=t,e.next=e.t0===df.SESSION?4:e.t0===df.LOCAL?6:e.t0===df.NONE?11:13;break;case 4:return n=cs,e.abrupt("break",14);case 6:return e.next=8,Hi(Ds)._isAvailable();case 8:return r=e.sent,n=r?Ds:us,e.abrupt("break",14);case 11:return n=Ma,e.abrupt("break",14);case 13:return e.abrupt("return",Fi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Sf(this._delegate,function(e){return Jo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Sf(this._delegate,du(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Sf(this._delegate,function(e,t){return wu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Sf(this._delegate,function(e,t,n){return du(pn(e),Vo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Sf(this._delegate,function(e,t,n){return Ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ef(this._delegate,function(e,t,n){return Xs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nf(cf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Sf(this._delegate,dc(this._delegate,t,wf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nf(cf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yf(this._delegate);case 3:return e.abrupt("return",Ac(this._delegate,t,wf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Of(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Af.getOrCreate(e))},error:t,complete:n}}function Df(e,t){var n=function(e,t){var n=kf();if(!n)return[];var r=Fa(vf,e,t);switch(n.getItem(r)){case df.NONE:return[Ma];case df.LOCAL:return[Ds,cs];case df.SESSION:return[cs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ds)||n.push(Ds),"undefined"!==typeof window)for(var r=0,i=[us,cs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ma)||n.push(Ma),n}Pf.Persistence=df;var Rf=function(){function e(){It(this,e),this.providerId="phone",this._delegate=new ic(xf(Wr.auth()))}return Tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ic.credential(e,t)}}]),e}();Rf.PHONE_SIGN_IN_METHOD=ic.PHONE_SIGN_IN_METHOD,Rf.PROVIDER_ID=ic.PROVIDER_ID;var Lf,Mf=Bi,Ff=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wr.app();It(this,e),Mf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ws(t,n,i.auth()),this.type=this._delegate.type}return Tt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),jf="auth-compat";(Lf=Wr).INTERNAL.registerComponent(new kn(jf,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Pf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ni.EMAIL_SIGNIN,PASSWORD_RESET:Ni.PASSWORD_RESET,RECOVER_EMAIL:Ni.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ni.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ni.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ni.VERIFY_EMAIL}},EmailAuthProvider:Vo,FacebookAuthProvider:qo,GithubAuthProvider:Ko,GoogleAuthProvider:Zo,OAuthProvider:Bo,SAMLAuthProvider:Go,PhoneAuthProvider:Rf,PhoneMultiFactorGenerator:_l,RecaptchaVerifier:Ff,TwitterAuthProvider:Wo,Auth:Pf,AuthCredential:ro,Error:tn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Lf.registerVersion(ef,tf);var Vf,Uf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},zf={},Bf=Bf||{},qf=Uf||self;function Zf(){}function Kf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gf="closure_uid_"+(1e9*Math.random()>>>0),Wf=0;function Qf(e,t,n){return e.call.apply(e.bind,arguments)}function $f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xf(e,t,n){return(Xf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qf:$f).apply(null,arguments)}function Yf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function eh(){this.s=this.s,this.o=this.o}eh.prototype.s=!1,eh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Gf)&&e[Gf]||(e[Gf]=++Wf)}(this)},eh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var th=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function nh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Kf(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ih(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ih.prototype.h=function(){this.defaultPrevented=!0};var ah=function(){if(!qf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qf.addEventListener("test",Zf,t),qf.removeEventListener("test",Zf,t)}catch(D){}return e}();function oh(e){return/^[\s\xa0]*$/.test(e)}var uh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sh(e,t){return e<t?-1:e>t?1:0}function ch(){var e=qf.navigator;return e&&(e=e.userAgent)?e:""}function lh(e){return-1!=ch().indexOf(e)}function fh(e){return fh[" "](e),e}fh[" "]=Zf;var hh,dh=lh("Opera"),ph=lh("Trident")||lh("MSIE"),vh=lh("Edge"),mh=vh||ph,yh=lh("Gecko")&&!(-1!=ch().toLowerCase().indexOf("webkit")&&!lh("Edge"))&&!(lh("Trident")||lh("MSIE"))&&!lh("Edge"),gh=-1!=ch().toLowerCase().indexOf("webkit")&&!lh("Edge");function kh(){var e=qf.document;return e?e.documentMode:void 0}e:{var bh="",wh=function(){var e=ch();return yh?/rv:([^\);]+)(\)|;)/.exec(e):vh?/Edge\/([\d\.]+)/.exec(e):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):gh?/WebKit\/(\S+)/.exec(e):dh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(wh&&(bh=wh?wh[1]:""),ph){var xh=kh();if(null!=xh&&xh>parseFloat(bh)){hh=String(xh);break e}}hh=bh}var _h,Ih={};function Sh(){return function(e){var t=Ih;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=uh(String(hh)).split("."),n=uh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=sh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||sh(0==a[2].length,0==o[2].length)||sh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(qf.document&&ph){var Eh=kh();_h=Eh||(parseInt(hh,10)||void 0)}else _h=void 0;var Th=_h;function Ch(e,t){if(ih.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yh){e:{try{fh(t.nodeName);var i=!0;break e}catch(O){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ah[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ch.X.h.call(this)}}Jf(Ch,ih);var Ah={2:"touch",3:"pen",4:"mouse"};Ch.prototype.h=function(){Ch.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),Ph=0;function Oh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ph,this.ba=this.ea=!1}function Dh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Rh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Lh(e){var t={};for(var n in e)t[n]=e[n];return t}var Mh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Mh.length;a++)n=Mh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function jh(e){this.src=e,this.g={},this.h=0}function Vh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=th(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Dh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Uh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}jh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Uh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Oh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var zh="closure_lm_"+(1e6*Math.random()|0),Bh={};function qh(e,t,n,r,i){if(r&&r.once)return Kh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qh(e,t[a],n,r,i);return null}return n=Yh(n),e&&e[Nh]?e.N(t,n,Hf(r)?!!r.capture:!!r,i):Zh(e,t,n,!1,r,i)}function Zh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hf(i)?!!i.capture:!!i,u=$h(e);if(u||(e[zh]=u=new jh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Qh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ah||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Kh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Kh(e,t[a],n,r,i);return null}return n=Yh(n),e&&e[Nh]?e.O(t,n,Hf(r)?!!r.capture:!!r,i):Zh(e,t,n,!0,r,i)}function Hh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Hh(e,t[a],n,r,i);else r=Hf(r)?!!r.capture:!!r,n=Yh(n),e&&e[Nh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Uh(a=e.g[t],n,r,i))&&(Dh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$h(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Uh(t,n,r,i)),(n=-1<e?t[e]:null)&&Gh(n))}function Gh(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Nh])Vh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$h(t))?(Vh(n,e),0==n.h&&(n.src=null,t[zh]=null)):Dh(e)}}}function Wh(e){return e in Bh?Bh[e]:Bh[e]="on"+e}function Qh(e,t){if(e.ba)e=!0;else{t=new Ch(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Gh(e),e=n.call(r,t)}return e}function $h(e){return(e=e[zh])instanceof jh?e:null}var Xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(e){return"function"===typeof e?e:(e[Xh]||(e[Xh]=function(t){return e.handleEvent(t)}),e[Xh])}function Jh(){eh.call(this),this.i=new jh(this),this.P=this,this.I=null}function ed(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ih(t,e);else if(t instanceof ih)t.target=t.target||e;else{var i=t;Fh(t=new ih(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=td(o,r,!0,t)&&i}if(i=td(o=t.g=e,r,!0,t)&&i,i=td(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=td(o=t.g=n[a],r,!1,t)&&i}function td(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Vh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Jf(Jh,eh),Jh.prototype[Nh]=!0,Jh.prototype.removeEventListener=function(e,t,n,r){Hh(this,e,t,n,r)},Jh.prototype.M=function(){if(Jh.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dh(n[r]);delete t.g[e],t.h--}}this.I=null},Jh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Jh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var nd=qf.JSON.stringify;function rd(){var e=fd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var id,ad=function(){function e(){It(this,e),this.h=this.g=null}return Tt(e,[{key:"add",value:function(e,t){var n=od.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),od=new(function(){function e(t,n){It(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Tt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ud}),(function(e){return e.reset()})),ud=function(){function e(){It(this,e),this.next=this.g=this.h=null}return Tt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function sd(e){qf.setTimeout((function(){throw e}),0)}function cd(e,t){id||function(){var e=qf.Promise.resolve(void 0);id=function(){e.then(hd)}}(),ld||(id(),ld=!0),fd.add(e,t)}var ld=!1,fd=new ad;function hd(){for(var e;e=rd();){try{e.h.call(e.g)}catch(D){sd(D)}var t=od;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ld=!1}function dd(e,t){Jh.call(this),this.h=e||1,this.g=t||qf,this.j=Xf(this.lb,this),this.l=Date.now()}function pd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function vd(e,t,n){if("function"===typeof e)n&&(e=Xf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xf(e.handleEvent,e)}return 2147483647<Number(t)?-1:qf.setTimeout(e,t||0)}function md(e){e.g=vd((function(){e.g=null,e.i&&(e.i=!1,md(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Jf(dd,Jh),(Vf=dd.prototype).ca=!1,Vf.R=null,Vf.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ed(this,"tick"),this.ca&&(pd(this),this.start()))}},Vf.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vf.M=function(){dd.X.M.call(this),pd(this),delete this.g};var yd=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Tt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:md(this)}},{key:"M",value:function(){Ei(Dt(n.prototype),"M",this).call(this),this.g&&(qf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(eh);function gd(e){eh.call(this),this.h=e,this.g={}}Jf(gd,eh);var kd=[];function bd(e,t,n,r){Array.isArray(n)||(n&&(kd[0]=n.toString()),n=kd);for(var i=0;i<n.length;i++){var a=qh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wd(e){Rh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gh(e)}),e),e.g={}}function xd(){this.g=!0}function _d(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return nd(n)}catch(S){return t}}(e,n)+(r?" "+r:"")}))}gd.prototype.M=function(){gd.X.M.call(this),wd(this)},gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xd.prototype.Aa=function(){this.g=!1},xd.prototype.info=function(){};var Id={},Sd=null;function Ed(){return Sd=Sd||new Jh}function Td(e){ih.call(this,Id.Pa,e)}function Cd(e){var t=Ed();ed(t,new Td(t))}function Ad(e,t){ih.call(this,Id.STAT_EVENT,e),this.stat=t}function Nd(e){var t=Ed();ed(t,new Ad(t,e))}function Pd(e,t){ih.call(this,Id.Qa,e),this.size=t}function Od(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qf.setTimeout((function(){e()}),t)}Id.Pa="serverreachability",Jf(Td,ih),Id.STAT_EVENT="statevent",Jf(Ad,ih),Id.Qa="timingevent",Jf(Pd,ih);var Dd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rd={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ld(){}function Md(e){return e.h||(e.h=e.i())}function Fd(){}Ld.prototype.h=null;var jd,Vd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ud(){ih.call(this,"d")}function zd(){ih.call(this,"c")}function Bd(){}function qd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new gd(this),this.O=Kd,e=mh?125:void 0,this.T=new dd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zd}function Zd(){this.i=null,this.g="",this.h=!1}Jf(Ud,ih),Jf(zd,ih),Jf(Bd,Ld),Bd.prototype.g=function(){return new XMLHttpRequest},Bd.prototype.i=function(){return{}},jd=new Bd;var Kd=45e3,Hd={},Gd={};function Wd(e,t,n){e.K=1,e.v=dp(sp(t)),e.s=n,e.P=!0,Qd(e,null)}function Qd(e,t){e.F=Date.now(),Jd(e),e.A=sp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Ep(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Zd,e.g=Ev(e.l,n?t:null,!e.s),0<e.N&&(e.L=new yd(Xf(e.La,e,e.g),e.N)),bd(e.S,e.g,"readystatechange",e.ib),t=e.H?Lh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Cd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function $d(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Xd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Yd(e,n))==Gd){4==t&&(e.o=4,Nd(14),i=!1),_d(e.j,e.m,null,"[Incomplete Response]");break}if(r==Hd){e.o=4,Nd(15),_d(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}_d(e.j,e.m,r,null),ip(e,r)}$d(e)&&r!=Gd&&r!=Hd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),gv(t),t.K=!0,Nd(11))):(_d(e.j,e.m,n,"[Invalid Chunked Response]"),rp(e),np(e))}function Yd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gd:(n=Number(t.substring(n,r)),isNaN(n)?Hd:(r+=1)+n>t.length?Gd:(t=t.substr(r,n),e.C=r+n,t))}function Jd(e){e.V=Date.now()+e.O,ep(e,e.O)}function ep(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Od(Xf(e.gb,e),t)}function tp(e){e.B&&(qf.clearTimeout(e.B),e.B=null)}function np(e){0==e.l.G||e.I||wv(e.l,e)}function rp(e){tp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,pd(e.T),wd(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ip(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Dp(n.h,e)))if(!e.J&&Dp(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bv(n),lv(n)}yv(n),Nd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Od(Xf(n.cb,n),6e3));if(1>=Op(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else _v(n,11)}else if((e.J||n.g==e)&&bv(n),!oh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Rp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,hp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Sv(r,r.H?r.ka:null,r.V),d.J){Lp(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(tp(p),Jd(p)),r.g=d}else mv(r);0<n.i.length&&hv(n)}else"stop"!=a[0]&&"close"!=a[0]||_v(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_v(n,7):cv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Cd()}catch(a){}}function ap(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Kf(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Kf(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Kf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Vf=qd.prototype).setTimeout=function(e){this.O=e},Vf.ib=function(e){e=e.target;var t=this.L;t&&3==rv(e)?t.l():this.La(e)},Vf.La=function(e){try{if(e==this.g)e:{var t=rv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||mh||this.g&&(this.h.h||this.g.fa()||iv(this.g)))){this.I||4!=t||7==n||Cd(),tp(this);var r=this.g.aa();this.Y=r;t:if($d(this)){var i=iv(this.g);e="";var a=i.length,o=4==rv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rp(this),np(this);var u="";break t}this.h.i=new qf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Nd(12),rp(this),np(this);break e}_d(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ip(this,r)}this.P?(Xd(this,t,u),mh&&this.i&&3==t&&(bd(this.S,this.T,"tick",this.hb),this.T.start())):(_d(this.j,this.m,u,null),ip(this,u)),4==t&&rp(this),this.i&&!this.I&&(4==t?wv(this.l,this):(this.i=!1,Jd(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Nd(12)):(this.o=0,Nd(13)),rp(this),np(this)}}}catch(t){}},Vf.hb=function(){if(this.g){var e=rv(this.g),t=this.g.fa();this.C<t.length&&(tp(this),Xd(this,e,t),this.i&&4!=e&&Jd(this))}},Vf.cancel=function(){this.I=!0,rp(this)},Vf.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Cd(),Nd(17)),rp(this),this.o=2,np(this)):ep(this,this.V-e)};var op=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function up(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof up){this.h=void 0!==t?t:e.h,cp(this,e.j),this.s=e.s,this.g=e.g,lp(this,e.m),this.l=e.l,t=e.i;var n=new xp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),fp(this,n),this.o=e.o}else e&&(n=String(e).match(op))?(this.h=!!t,cp(this,n[1]||"",!0),this.s=pp(n[2]||""),this.g=pp(n[3]||"",!0),lp(this,n[4]),this.l=pp(n[5]||"",!0),fp(this,n[6]||"",!0),this.o=pp(n[7]||"")):(this.h=!!t,this.i=new xp(null,this.h))}function sp(e){return new up(e)}function cp(e,t,n){e.j=n?pp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fp(e,t,n){t instanceof xp?(e.i=t,function(e,t){t&&!e.j&&(_p(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ip(this,t),Ep(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=vp(t,bp)),e.i=new xp(t,e.h))}function hp(e,t,n){e.i.set(t,n)}function dp(e){return hp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}up.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vp(t,yp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vp(t,yp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(vp(n,"/"==n.charAt(0)?kp:gp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vp(n,wp)),e.join("")};var yp=/[#\/\?@]/g,gp=/[#\?:]/g,kp=/[#\?]/g,bp=/[#\?@]/g,wp=/#/g;function xp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _p(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ip(e,t){_p(e),t=Tp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Sp(e,t){return _p(e),t=Tp(e,t),e.g.has(t)}function Ep(e,t,n){Ip(e,t),0<n.length&&(e.i=null,e.g.set(Tp(e,t),nh(n)),e.h+=n.length)}function Tp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vf=xp.prototype).add=function(e,t){_p(this),this.i=null,e=Tp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vf.forEach=function(e,t){_p(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Vf.oa=function(){_p(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vf.W=function(e){_p(this);var t=[];if("string"===typeof e)Sp(this,e)&&(t=t.concat(this.g.get(Tp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Vf.set=function(e,t){return _p(this),this.i=null,Sp(this,e=Tp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vf.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Vf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Cp=Tt((function e(t,n){It(this,e),this.h=t,this.g=n}));function Ap(e){this.l=e||Np,qf.PerformanceNavigationTiming?e=0<(e=qf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qf.g&&qf.g.Ga&&qf.g.Ga()&&qf.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Np=10;function Pp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Op(e){return e.h?1:e.g?e.g.size:0}function Dp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rp(e,t){e.g?e.g.add(t):e.h=t}function Lp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=At(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return nh(e.i)}function Fp(){}function jp(){this.g=new Fp}function Vp(e,t,n){var r=n||"";try{ap(e,(function(e,n){var i=e;Hf(e)&&(i=nd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Up(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(O){}}function zp(e){this.l=e.ac||null,this.j=e.jb||!1}function Bp(e,t){Jh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ap.prototype.cancel=function(){if(this.i=Mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=At(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fp.prototype.stringify=function(e){return qf.JSON.stringify(e,void 0)},Fp.prototype.parse=function(e){return qf.JSON.parse(e,void 0)},Jf(zp,Ld),zp.prototype.g=function(){return new Bp(this.l,this.j)},zp.prototype.i=function(e){return function(){return e}}({}),Jf(Bp,Jh);var qp=0;function Zp(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Kp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hp(e)}function Hp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vf=Bp.prototype).open=function(e,t){if(this.readyState!=qp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hp(this)},Vf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qf).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Vf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kp(this)),this.readyState=qp},Vf.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hp(this)),this.g&&(this.readyState=3,Hp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof qf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zp(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Vf.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kp(this):Hp(this),3==this.readyState&&Zp(this)}},Vf.Va=function(e){this.g&&(this.response=this.responseText=e,Kp(this))},Vf.Ua=function(e){this.g&&(this.response=e,Kp(this))},Vf.ga=function(){this.g&&Kp(this)},Vf.setRequestHeader=function(e,t){this.v.append(e,t)},Vf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gp=qf.JSON.parse;function Wp(e){Jh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qp,this.K=this.L=!1}Jf(Wp,Jh);var Qp="",$p=/^https?$/i,Xp=["POST","PUT"];function Yp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jp(e),tv(e)}function Jp(e){e.D||(e.D=!0,ed(e,"complete"),ed(e,"error"))}function ev(e){if(e.h&&"undefined"!=typeof Bf&&(!e.C[1]||4!=rv(e)||2!=e.aa()))if(e.v&&4==rv(e))vd(e.Ha,0,e);else if(ed(e,"readystatechange"),4==rv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(op)[1]||null;if(!a&&qf.self&&qf.self.location){var o=qf.self.location.protocol;a=o.substr(0,o.length-1)}i=!$p.test(a?a.toLowerCase():"")}t=i}if(t)ed(e,"complete"),ed(e,"success");else{e.m=6;try{var u=2<rv(e)?e.g.statusText:""}catch(N){u=""}e.j=u+" ["+e.aa()+"]",Jp(e)}}finally{tv(e)}}}function tv(e,t){if(e.g){nv(e);var n=e.g,r=e.C[0]?Zf:null;e.g=null,e.C=null,t||ed(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function nv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qf.clearTimeout(e.A),e.A=null)}function rv(e){return e.g?e.g.readyState:0}function iv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Qp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(z){return null}}function av(e){var t="";return Rh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ov(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=av(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hp(e,t,n))}function uv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sv(e){this.Ca=0,this.i=[],this.j=new xd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=uv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=uv("baseRetryDelayMs",5e3,e),this.bb=uv("retryDelaySeedMs",1e4,e),this.$a=uv("forwardChannelMaxRetries",2,e),this.ta=uv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ap(e&&e.concurrentRequestLimit),this.Fa=new jp,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function cv(e){if(fv(e),3==e.G){var t=e.U++,n=sp(e.F);hp(n,"SID",e.I),hp(n,"RID",t),hp(n,"TYPE","terminate"),pv(e,n),(t=new qd(e,e.j,t,void 0)).K=2,t.v=dp(sp(n)),n=!1,qf.navigator&&qf.navigator.sendBeacon&&(n=qf.navigator.sendBeacon(t.v.toString(),"")),!n&&qf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ev(t.l,null),t.g.da(t.v)),t.F=Date.now(),Jd(t)}Iv(e)}function lv(e){e.g&&(gv(e),e.g.cancel(),e.g=null)}function fv(e){lv(e),e.u&&(qf.clearTimeout(e.u),e.u=null),bv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&qf.clearTimeout(e.m),e.m=null)}function hv(e){Pp(e.h)||e.m||(e.m=!0,cd(e.Ja,e),e.C=0)}function dv(e,t){var n;n=t?t.m:e.U++;var r=sp(e.F);hp(r,"SID",e.I),hp(r,"RID",n),hp(r,"AID",e.T),pv(e,r),e.o&&e.s&&ov(r,e.o,e.s),n=new qd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=vv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Rp(e.h,n),Wd(n,r,t)}function pv(e,t){e.ia&&Rh(e.ia,(function(e,n){hp(t,n,e)})),e.l&&ap({},(function(e,n){hp(t,n,e)}))}function vv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Xf(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Vp(l,o,"req"+c+"_")}catch(oe){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function mv(e){e.g||e.u||(e.Z=1,cd(e.Ia,e),e.A=0)}function yv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Od(Xf(e.Ia,e),xv(e,e.A)),e.A++,!0)}function gv(e){null!=e.B&&(qf.clearTimeout(e.B),e.B=null)}function kv(e){e.g=new qd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=sp(e.sa);hp(t,"RID","rpc"),hp(t,"SID",e.I),hp(t,"CI",e.L?"0":"1"),hp(t,"AID",e.T),hp(t,"TYPE","xmlhttp"),pv(e,t),e.o&&e.s&&ov(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=dp(sp(t)),n.s=null,n.P=!0,Qd(n,e)}function bv(e){null!=e.v&&(qf.clearTimeout(e.v),e.v=null)}function wv(e,t){var n=null;if(e.g==t){bv(e),gv(e),e.g=null;var r=2}else{if(!Dp(e.h,t))return;n=t.D,Lp(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ed(r=Ed(),new Pd(r,n)),hv(e)}else mv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Op(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Od(Xf(e.Ja,e,t),xv(e,e.C)),e.C++,!0))}(e,t)||2==r&&yv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:_v(e,5);break;case 4:_v(e,10);break;case 3:_v(e,6);break;default:_v(e,2)}}function xv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function _v(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Xf(e.kb,e);n||(n=new up("//www.google.com/images/cleardot.gif"),qf.location&&"http"==qf.location.protocol||cp(n,"https"),dp(n)),function(e,t){var n=new xd;if(qf.Image){var r=new Image;r.onload=Yf(Up,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yf(Up,n,r,"TestLoadImage: error",!1,t),r.onabort=Yf(Up,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yf(Up,n,r,"TestLoadImage: timeout",!1,t),qf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nd(2);e.G=0,e.l&&e.l.va(t),Iv(e),fv(e)}function Iv(e){if(e.G=0,e.la=[],e.l){var t=Mp(e.h);0==t.length&&0==e.i.length||(rh(e.la,t),rh(e.la,e.i),e.h.i.length=0,nh(e.i),e.i.length=0),e.l.ua()}}function Sv(e,t,n){var r=n instanceof up?sp(n):new up(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),lp(r,r.m);else{var i=qf.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new up(null,void 0);r&&cp(a,r),t&&(a.g=t),i&&lp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&hp(r,n,t),hp(r,"VER",e.ma),pv(e,r),r}function Ev(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Wp(new zp({jb:!0})):new Wp(e.ra)).Ka(e.H),t}function Tv(){}function Cv(){if(ph&&!(10<=Number(Th)))throw Error("Environmental error: no available transport.")}function Av(e,t){Jh.call(this),this.g=new sv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!oh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!oh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ov(this)}function Nv(e){Ud.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pv(){zd.call(this),this.status=1}function Ov(e){this.g=e}(Vf=Wp.prototype).Ka=function(e){this.L=e},Vf.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jd.g(),this.C=this.u?Md(this.u):Md(jd),this.g.onreadystatechange=Xf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Yp(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=At(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=qf.FormData&&e instanceof qf.FormData,!(0<=th(Xp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=At(n);try{for(c.s();!(s=c.n()).done;){var l=(0,_t.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nv(this),0<this.B&&((this.K=function(e){return ph&&Sh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xf(this.qa,this)):this.A=vd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Yp(this,u)}},Vf.qa=function(){"undefined"!=typeof Bf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ed(this,"timeout"),this.abort(8))},Vf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ed(this,"complete"),ed(this,"abort"),tv(this))},Vf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tv(this,!0)),Wp.X.M.call(this)},Vf.Ha=function(){this.s||(this.F||this.v||this.l?ev(this):this.fb())},Vf.fb=function(){ev(this)},Vf.aa=function(){try{return 2<rv(this)?this.g.status:-1}catch(P){return-1}},Vf.fa=function(){try{return this.g?this.g.responseText:""}catch(P){return""}},Vf.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gp(t)}},Vf.Ea=function(){return this.m},Vf.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vf=sv.prototype).ma=8,Vf.G=1,Vf.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new qd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Fh(n=Lh(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vv(this,t,r),hp(i=sp(this.F),"RID",e),hp(i,"CVER",22),this.D&&hp(i,"X-HTTP-Session-Id",this.D),pv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(av(n)))+"&"+r:this.o&&ov(i,this.o,n)),Rp(this.h,t),this.Ya&&hp(i,"TYPE","init"),this.O?(hp(i,"$req",r),hp(i,"SID","null"),t.Z=!0,Wd(t,i,null)):Wd(t,i,r),this.G=2}}else 3==this.G&&(e?dv(this,e):0==this.i.length||Pp(this.h)||dv(this))},Vf.Ia=function(){if(this.u=null,kv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Od(Xf(this.eb,this),e)}},Vf.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nd(10),lv(this),kv(this))},Vf.cb=function(){null!=this.v&&(this.v=null,lv(this),yv(this),Nd(19))},Vf.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Nd(2)):(this.j.info("Failed to ping google.com"),Nd(1))},(Vf=Tv.prototype).xa=function(){},Vf.wa=function(){},Vf.va=function(){},Vf.ua=function(){},Vf.Ra=function(){},Cv.prototype.g=function(e,t){return new Av(e,t)},Jf(Av,Jh),Av.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Nd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Sv(e,null,e.V),hv(e)},Av.prototype.close=function(){cv(this.g)},Av.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=nd(e),e=n);t.i.push(new Cp(t.ab++,e)),3==t.G&&hv(t)},Av.prototype.M=function(){this.g.l=null,delete this.j,cv(this.g),delete this.g,Av.X.M.call(this)},Jf(Nv,Ud),Jf(Pv,zd),Jf(Ov,Tv),Ov.prototype.xa=function(){ed(this.g,"a")},Ov.prototype.wa=function(e){ed(this.g,new Nv(e))},Ov.prototype.va=function(e){ed(this.g,new Pv)},Ov.prototype.ua=function(){ed(this.g,"b")},Cv.prototype.createWebChannel=Cv.prototype.g,Av.prototype.send=Av.prototype.u,Av.prototype.open=Av.prototype.m,Av.prototype.close=Av.prototype.close,Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,Rd.COMPLETE="complete",Fd.EventType=Vd,Vd.OPEN="a",Vd.CLOSE="b",Vd.ERROR="c",Vd.MESSAGE="d",Jh.prototype.listen=Jh.prototype.N,Wp.prototype.listenOnce=Wp.prototype.O,Wp.prototype.getLastError=Wp.prototype.Oa,Wp.prototype.getLastErrorCode=Wp.prototype.Ea,Wp.prototype.getStatus=Wp.prototype.aa,Wp.prototype.getResponseJson=Wp.prototype.Sa,Wp.prototype.getResponseText=Wp.prototype.fa,Wp.prototype.send=Wp.prototype.da,Wp.prototype.setWithCredentials=Wp.prototype.Ka;var Dv=zf.createWebChannelTransport=function(){return new Cv},Rv=zf.getStatEventTarget=function(){return Ed()},Lv=zf.ErrorCode=Dd,Mv=zf.EventType=Rd,Fv=zf.Event=Id,jv=zf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Vv=zf.FetchXmlHttpFactory=zp,Uv=zf.WebChannel=Fd,zv=zf.XhrIo=Wp,Bv="@firebase/firestore",qv=function(){function e(t){It(this,e),this.uid=t}return Tt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qv.UNAUTHENTICATED=new qv(null),qv.GOOGLE_CREDENTIALS=new qv("google-credentials-uid"),qv.FIRST_PARTY=new qv("first-party-uid"),qv.MOCK_USER=new qv("mock-user");var Zv="9.18.0",Kv=new Nn("@firebase/firestore");function Hv(){return Kv.logLevel}function Gv(e){if(Kv.logLevel<=_n.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.debug.apply(Kv,["Firestore (".concat(Zv,"): ").concat(e)].concat((0,mn.Z)(i)))}}function Wv(e){if(Kv.logLevel<=_n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.error.apply(Kv,["Firestore (".concat(Zv,"): ").concat(e)].concat((0,mn.Z)(i)))}}function Qv(e){if(Kv.logLevel<=_n.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($v);Kv.warn.apply(Kv,["Firestore (".concat(Zv,"): ").concat(e)].concat((0,mn.Z)(i)))}}function $v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Zv,") INTERNAL ASSERTION FAILED: ")+e;throw Wv(t),new Error(t)}function Yv(e,t){e||Xv()}function Jv(e,t){return e}var em={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tm=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Tt(n)}(tn),nm=Tt((function e(){var t=this;It(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rm=Tt((function e(t,n){It(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),im=function(){function e(){It(this,e)}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),am=function(){function e(t){It(this,e),this.token=t,this.changeListener=null}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),om=function(){function e(t){It(this,e),this.t=t,this.currentUser=qv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new nm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new nm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Gv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Gv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yv("string"==typeof n.accessToken),new rm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yv(null===e||"string"==typeof e),new qv(e)}}]),e}(),um=function(){function e(t,n,r,i){It(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=qv.FIRST_PARTY,this.p=new Map}return Tt(e,[{key:"I",value:function(){return this.g?this.g():(Yv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),sm=function(){function e(t,n,r,i){It(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(new um(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cm=Tt((function e(t){It(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lm=function(){function e(t){It(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Gv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Gv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Gv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Gv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yv("string"==typeof t.token),e.A=t.token,new cm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function fm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var hm=function(){function e(){It(this,e)}return Tt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function dm(e,t){return e<t?-1:e>t?1:0}function pm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vm(e){return e+"\0"}var mm=function(){function e(t,n){if(It(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Tt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?dm(this.nanoseconds,e.nanoseconds):dm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ym=function(){function e(t){It(this,e),this.timestamp=t}return Tt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mm(0,0))}},{key:"max",value:function(){return new e(new mm(253402300799,999999999))}}]),e}(),gm=function(){function e(t,n,r){It(this,e),void 0===n?n=0:n>t.length&&Xv(),void 0===r?r=t.length-n:r>t.length-n&&Xv(),this.segments=t,this.offset=n,this.len=r}return Tt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),km=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,mn.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gm),bm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wm=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return bm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new tm(em.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new tm(em.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new tm(em.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new tm(em.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gm),xm=function(){function e(t){It(this,e),this.path=t}return Tt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===km.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(km.fromString(t))}},{key:"fromName",value:function(t){return new e(km.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(km.emptyPath())}},{key:"comparator",value:function(e,t){return km.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new km(t.slice()))}}]),e}(),_m=Tt((function e(t,n,r,i){It(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Im(e){return e.fields.find((function(e){return 2===e.kind}))}function Sm(e){return e.fields.filter((function(e){return 2!==e.kind}))}_m.UNKNOWN_ID=-1;var Em=Tt((function e(t,n){It(this,e),this.fieldPath=t,this.kind=n}));var Tm=function(){function e(t,n){It(this,e),this.sequenceNumber=t,this.offset=n}return Tt(e,null,[{key:"empty",value:function(){return new e(0,Nm.min())}}]),e}();function Cm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ym.fromTimestamp(1e9===r?new mm(n+1,0):new mm(n,r));return new Nm(i,xm.empty(),t)}function Am(e){return new Nm(e.readTime,e.key,-1)}var Nm=function(){function e(t,n,r){It(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Tt(e,null,[{key:"min",value:function(){return new e(ym.min(),xm.empty(),-1)}},{key:"max",value:function(){return new e(ym.max(),xm.empty(),-1)}}]),e}();function Pm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=xm.comparator(e.documentKey,t.documentKey))?n:dm(e.largestBatchId,t.largestBatchId)}var Om="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dm=function(){function e(){It(this,e),this.onCommittedListeners=[]}return Tt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Rm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===em.FAILED_PRECONDITION&&t.message===Om){e.next=2;break}throw t;case 2:Gv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}var Mm=function(){function e(t){var n=this;It(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Tt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=At(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Fm=function(){function e(t,n){var r=this;It(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new nm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Um(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Km(e.target.error);r.P.reject(new Um(t,n))}}return Tt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Gv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Bm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Um(n,t)}}}]),e}(),jm=function(){function e(t,n,r){It(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Qt())&&Wv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Tt(e,[{key:"O",value:function(){var e=gn(vn().mark((function e(t){var n=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Um(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new tm(em.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new tm(em.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Um(t,n))},i.onupgradeneeded=function(e){Gv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.F(t,i.transaction,e.oldVersion,n.version).next((function(){Gv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=gn(vn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=vn().mark((function e(){var n,u,s,l;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=Fm.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Mm.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Gv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gv("SimpleDb","Removing database:",e),qm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!en())return!1;if(e.N())return!0;var t=Qt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.$)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Vm=function(){function e(t){It(this,e),this.q=t,this.U=!1,this.K=null}return Tt(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return qm(this.q.delete())}}]),e}(),Um=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,em.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Tt(n)}(tm);function zm(e){return"IndexedDbTransactionError"===e.name}var Bm=function(){function e(t){It(this,e),this.store=t}return Tt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qm(n)}},{key:"add",value:function(e){return Gv("SimpleDb","ADD",this.store.name,e,e),qm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return qm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gv("SimpleDb","DELETE",this.store.name,e),qm(this.store.delete(e))}},{key:"count",value:function(){return Gv("SimpleDb","COUNT",this.store.name),qm(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Mm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Mm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Gv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Mm((function(n,r){t.onerror=function(e){var t=Km(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Mm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Vm(i),o=t(i.primaryKey,i.value,a);if(o instanceof Mm){var u=o.catch((function(e){return a.done(),Mm.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Mm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function qm(e){return new Mm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Km(e.target.error);n(t)}}))}var Zm=!1;function Km(e){var t=jm.D(Qt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new tm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Zm||(Zm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hm=function(){function e(t,n){It(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Tt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Gv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Gv,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!zm(e.t4)){e.next=17;break}Gv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Rm(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Gm=function(){function e(t,n){It(this,e),this.localStore=t,this.persistence=n}return Tt(e,[{key:"st",value:function(){var e=gn(vn().mark((function e(){var t,n=this,r=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Mm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Gv("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Gv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Am(t);Pm(r,n)>0&&(n=r)})),new Nm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Wm=function(){function e(t,n){var r=this;It(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Tt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Wm.at=-1;var Qm=Tt((function e(t,n,r,i,a,o,u,s){It(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),$m=function(){function e(t,n){It(this,e),this.projectId=t,this.database=n||"(default)"}return Tt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Xm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ym(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ey(e){return null==e}function ty(e){return 0===e&&1/e==-1/0}function ny(e){return"number"==typeof e&&Number.isInteger(e)&&!ty(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ry=function(e){Ot(n,e);var t=Mt(n);function n(){var e;return It(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Tt(n)}(jt(Error));var iy=function(e){function t(e){It(this,t),this.binaryString=e}return Tt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return dm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new ry("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();iy.EMPTY_BYTE_STRING=new iy("");var ay=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oy(e){if(Yv(!!e),"string"==typeof e){var t=0,n=ay.exec(e);if(Yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uy(e.seconds),nanos:uy(e.nanos)}}function uy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sy(e){return"string"==typeof e?iy.fromBase64String(e):iy.fromUint8Array(e)}function cy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ly(e){var t=e.mapValue.fields.__previous_value__;return cy(t)?ly(t):t}function fy(e){var t=oy(e.mapValue.fields.__local_write_time__.timestampValue);return new mm(t.seconds,t.nanos)}var hy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dy={nullValue:"NULL_VALUE"};function py(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cy(e)?4:Cy(e)?9007199254740991:10:Xv()}function vy(e,t){if(e===t)return!0;var n=py(e);if(n!==py(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fy(e).isEqual(fy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oy(e.timestampValue),r=oy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sy(e.bytesValue).isEqual(sy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uy(e.geoPointValue.latitude)===uy(t.geoPointValue.latitude)&&uy(e.geoPointValue.longitude)===uy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uy(e.integerValue)===uy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uy(e.doubleValue),r=uy(t.doubleValue);return n===r?ty(n)===ty(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pm(e.arrayValue.values||[],t.arrayValue.values||[],vy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xm(n)!==Xm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vy(n[i],r[i])))return!1;return!0}(e,t);default:return Xv()}}function my(e,t){return void 0!==(e.values||[]).find((function(e){return vy(e,t)}))}function yy(e,t){if(e===t)return 0;var n=py(e),r=py(t);if(n!==r)return dm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uy(e.integerValue||e.doubleValue),r=uy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gy(e.timestampValue,t.timestampValue);case 4:return gy(fy(e),fy(t));case 5:return dm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sy(e),r=sy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=dm(n[i],r[i]);if(0!==a)return a}return dm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=dm(uy(e.latitude),uy(t.latitude));return 0!==n?n:dm(uy(e.longitude),uy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yy(n[i],r[i]);if(a)return a}return dm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===hy.mapValue&&t===hy.mapValue)return 0;if(e===hy.mapValue)return 1;if(t===hy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=dm(r[o],a[o]);if(0!==u)return u;var s=yy(n[r[o]],i[a[o]]);if(0!==s)return s}return dm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xv()}}function gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dm(e,t);var n=oy(e),r=oy(t),i=dm(n.seconds,r.seconds);return 0!==i?i:dm(n.nanos,r.nanos)}function ky(e){return by(e)}function by(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=oy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=At(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=by(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=At(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(by(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xv();var t,n}function wy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function xy(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function Iy(e){return!!e&&"nullValue"in e}function Sy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ey(e){return!!e&&"mapValue"in e}function Ty(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ym(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ty(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ty(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Cy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ay(e){return"nullValue"in e?dy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?wy($m.empty(),xm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xv()}function Ny(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?wy($m.empty(),xm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?hy:Xv()}function Py(e,t){var n=yy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Oy(e,t){var n=yy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Dy=Tt((function e(t,n){It(this,e),this.position=t,this.inclusive=n}));function Ry(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xm.comparator(xm.fromName(o.referenceValue),n.key):yy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ly(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!vy(e.position[n],t.position[n]))return!1;return!0}var My=Tt((function e(){It(this,e)})),Fy=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yy(t,this.value)):null!==t&&py(this.value)===py(t)&&this.matchesComparison(yy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Gy(e,t,r):"array-contains"===t?new Xy(e,r):"in"===t?new Yy(e,r):"not-in"===t?new Jy(e,r):"array-contains-any"===t?new eg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Wy(e,n):new Qy(e,n)}}]),n}(My),jy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return Tt(n,[{key:"matches",value:function(e){return Vy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=At(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(My);function Vy(e){return"and"===e.op}function Uy(e){return"or"===e.op}function zy(e){return By(e)&&Vy(e)}function By(e){var t,n=At(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof jy)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function qy(e){if(e instanceof Fy)return e.field.canonicalString()+e.op.toString()+ky(e.value);if(zy(e))return e.filters.map((function(e){return qy(e)})).join(",");var t=e.filters.map((function(e){return qy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Zy(e,t){return e instanceof Fy?function(e,t){return t instanceof Fy&&e.op===t.op&&e.field.isEqual(t.field)&&vy(e.value,t.value)}(e,t):e instanceof jy?function(e,t){return t instanceof jy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Zy(n,t.filters[r])}),!0)}(e,t):void Xv()}function Ky(e,t){var n=e.filters.concat(t);return jy.create(n,e.op)}function Hy(e){return e instanceof Fy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ky(e.value))}(e):e instanceof jy?function(e){return e.op.toString()+" {"+e.getFilters().map(Hy).join(" ,")+"}"}(e):"Filter"}var Gy=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,e,r,i)).key=xm.fromName(i.referenceValue),a}return Tt(n,[{key:"matches",value:function(e){var t=xm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Fy),Wy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,"in",r)).keys=$y("in",r),i}return Tt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fy),Qy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,"not-in",r)).keys=$y("not-in",r),i}return Tt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fy);function $y(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return xm.fromName(e.referenceValue)}))}var Xy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"array-contains",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _y(t)&&my(t.arrayValue,this.value)}}]),n}(Fy),Yy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"in",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&my(this.value.arrayValue,t)}}]),n}(Fy),Jy=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"not-in",r)}return Tt(n,[{key:"matches",value:function(e){if(my(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!my(this.value.arrayValue,t)}}]),n}(Fy),eg=function(e){Ot(n,e);var t=Mt(n);function n(e,r){return It(this,n),t.call(this,e,"array-contains-any",r)}return Tt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return my(t.value.arrayValue,e)}))}}]),n}(Fy),tg=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";It(this,e),this.field=t,this.dir=n}));function ng(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var rg=function(){function e(t,n){It(this,e),this.comparator=t,this.root=n||ag.EMPTY}return Tt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ag.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ag.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ig(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ig(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ig(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ig(this.root,e,this.comparator,!0)}}]),e}(),ig=function(){function e(t,n,r,i){It(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Tt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ag=function(){function e(t,n,r,i,a){It(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Tt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xv();if(this.right.isRed())throw Xv();var e=this.left.check();if(e!==this.right.check())throw Xv();return e+(this.isRed()?0:1)}}]),e}();ag.EMPTY=null,ag.RED=!0,ag.BLACK=!1,ag.EMPTY=new(function(){function e(){It(this,e),this.size=0}return Tt(e,[{key:"key",get:function(){throw Xv()}},{key:"value",get:function(){throw Xv()}},{key:"color",get:function(){throw Xv()}},{key:"left",get:function(){throw Xv()}},{key:"right",get:function(){throw Xv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ag(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var og=function(){function e(t){It(this,e),this.comparator=t,this.data=new rg(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ug(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ug(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ug=function(){function e(t){It(this,e),this.iter=t}return Tt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function sg(e){return e.hasNext()?e.getNext():void 0}var cg=function(){function e(t){It(this,e),this.fields=t,t.sort(wm.comparator)}return Tt(e,[{key:"unionWith",value:function(t){var n,r=new og(wm.comparator),i=At(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=At(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=At(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return pm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),lg=function(){function e(t){It(this,e),this.value=t}return Tt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ey(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ty(t)}},{key:"setAll",value:function(e){var t=this,n=wm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ty(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ey(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return vy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ey(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ym(t,(function(t,n){return e[t]=n}));var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ty(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fg(e){var t=[];return Ym(e.fields,(function(e,n){var r=new wm([e]);if(Ey(n)){var i=fg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=At(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new cg(t)}var hg=function(){function e(t,n,r,i,a,o,u){It(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Tt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(ym.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=ym.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ym.min(),ym.min(),ym.min(),lg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,ym.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ym.min(),ym.min(),lg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ym.min(),ym.min(),lg.empty(),2)}}]),e}(),dg=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;It(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function pg(e){return new dg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vg(e){var t=Jv(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return qy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ey(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ky(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ky(e)})).join(",")),t._t=n}return t._t}function mg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ng(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Zy(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ly(e.startAt,t.startAt)&&Ly(e.endAt,t.endAt)}function yg(e){return xm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gg(e,t){return e.filters.filter((function(e){return e instanceof Fy&&e.field.isEqual(t)}))}function kg(e,t,n){var r,i=dy,a=!0,o=At(gg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=dy,c=!0;switch(u.op){case"<":case"<=":s=Ay(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=dy}Py({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Py({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function bg(e,t,n){var r,i=hy,a=!0,o=At(gg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=hy,c=!0;switch(u.op){case">=":case">":s=Ny(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=hy}Oy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Oy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var wg=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;It(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function xg(e,t,n,r,i,a,o,u){return new wg(e,t,n,r,i,a,o,u)}function _g(e){return new wg(e)}function Ig(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Sg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eg(e){var t,n=At(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Tg(e){return null!==e.collectionGroup}function Cg(e){var t=Jv(e);if(null===t.wt){t.wt=[];var n=Eg(t),r=Sg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new tg(n)),t.wt.push(new tg(wm.keyField(),"asc"));else{var i,a=!1,o=At(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tg(wm.keyField(),s))}}}return t.wt}function Ag(e){var t=Jv(e);if(!t.gt)if("F"===t.limitType)t.gt=pg(t.path,t.collectionGroup,Cg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=At(Cg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new tg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Dy(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Dy(t.startAt.position,t.startAt.inclusive):null;t.gt=pg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function Ng(e,t){t.getFirstInequalityField(),Eg(e);var n=e.filters.concat([t]);return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Pg(e,t,n){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Og(e,t){return mg(Ag(e),Ag(t))&&e.limitType===t.limitType}function Dg(e){return"".concat(vg(Ag(e)),"|lt:").concat(e.limitType)}function Rg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Hy(e)})).join(", "),"]")),ey(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ky(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ky(e)})).join(",")),"Target(".concat(t,")")}(Ag(e)),"; limitType=").concat(e.limitType,")")}function Lg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=At(Cg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=At(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ry(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ry(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cg(e),t))}(e,t)}function Mg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fg(e){return function(t,n){var r,i=!1,a=At(Cg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=jg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function jg(e,t,n){var r=e.field.isKeyField()?xm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yy(r,i):Xv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xv()}}function Vg(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ty(t)?"-0":t}}function Ug(e){return{integerValue:""+e}}function zg(e,t){return ny(t)?Ug(t):Vg(e,t)}var Bg=Tt((function e(){It(this,e),this._=void 0}));function qg(e,t,n){return e instanceof Hg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gg?Wg(e,t):e instanceof Qg?$g(e,t):function(e,t){var n=Kg(e,t),r=Yg(n)+Yg(e.It);return xy(n)&&xy(e.It)?Ug(r):Vg(e.Tt,r)}(e,t)}function Zg(e,t,n){return e instanceof Gg?Wg(e,t):e instanceof Qg?$g(e,t):n}function Kg(e,t){return e instanceof Xg?xy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Hg=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n)}(Bg),Gg=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(Bg);function Wg(e,t){var n,r=Jg(t),i=At(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return vy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qg=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(Bg);function $g(e,t){var n,r=Jg(t),i=At(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!vy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xg=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return Tt(n)}(Bg);function Yg(e){return uy(e.integerValue||e.doubleValue)}function Jg(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ek=Tt((function e(t,n){It(this,e),this.field=t,this.transform=n}));var tk=Tt((function e(t,n){It(this,e),this.version=t,this.transformResults=n})),nk=function(){function e(t,n){It(this,e),this.updateTime=t,this.exists=n}return Tt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ik=Tt((function e(){It(this,e)}));function ak(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yk(e.key,nk.none()):new lk(e.key,e.data,nk.none());var n,r=e.data,i=lg.empty(),a=new og(wm.comparator),o=At(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new fk(e.key,i,new cg(a.toArray()),nk.none())}function ok(e,t,n){e instanceof lk?function(e,t,n){var r=e.value.clone(),i=dk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fk?function(e,t,n){if(rk(e.precondition,t)){var r=dk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uk(e,t,n,r){return e instanceof lk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=e.value.clone(),a=pk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=pk(e.fieldTransforms,r,t),a=t.data;return a.setAll(hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sk(e,t){var n,r=null,i=At(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kg(a.transform,o||null);null!=u&&(null===r&&(r=lg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gg&&t instanceof Gg||e instanceof Qg&&t instanceof Qg?pm(e.elements,t.elements,vy):e instanceof Xg&&t instanceof Xg?vy(e.It,t.It):e instanceof Hg&&t instanceof Hg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lk=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return It(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),fk=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return It(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Tt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ik);function hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dk(e,t,n){var r=new Map;Yv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Zg(o,u,n[i]))}return r}function pk(e,t,n){var r,i=new Map,a=At(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vk,mk,yk=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),gk=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),kk=Tt((function e(t){It(this,e),this.count=t}));function bk(e){switch(e){default:return Xv();case em.CANCELLED:case em.UNKNOWN:case em.DEADLINE_EXCEEDED:case em.RESOURCE_EXHAUSTED:case em.INTERNAL:case em.UNAVAILABLE:case em.UNAUTHENTICATED:return!1;case em.INVALID_ARGUMENT:case em.NOT_FOUND:case em.ALREADY_EXISTS:case em.PERMISSION_DENIED:case em.FAILED_PRECONDITION:case em.ABORTED:case em.OUT_OF_RANGE:case em.UNIMPLEMENTED:case em.DATA_LOSS:return!0}}function wk(e){if(void 0===e)return Wv("GRPC error has no .code"),em.UNKNOWN;switch(e){case vk.OK:return em.OK;case vk.CANCELLED:return em.CANCELLED;case vk.UNKNOWN:return em.UNKNOWN;case vk.DEADLINE_EXCEEDED:return em.DEADLINE_EXCEEDED;case vk.RESOURCE_EXHAUSTED:return em.RESOURCE_EXHAUSTED;case vk.INTERNAL:return em.INTERNAL;case vk.UNAVAILABLE:return em.UNAVAILABLE;case vk.UNAUTHENTICATED:return em.UNAUTHENTICATED;case vk.INVALID_ARGUMENT:return em.INVALID_ARGUMENT;case vk.NOT_FOUND:return em.NOT_FOUND;case vk.ALREADY_EXISTS:return em.ALREADY_EXISTS;case vk.PERMISSION_DENIED:return em.PERMISSION_DENIED;case vk.FAILED_PRECONDITION:return em.FAILED_PRECONDITION;case vk.ABORTED:return em.ABORTED;case vk.OUT_OF_RANGE:return em.OUT_OF_RANGE;case vk.UNIMPLEMENTED:return em.UNIMPLEMENTED;case vk.DATA_LOSS:return em.DATA_LOSS;default:return Xv()}}(mk=vk||(vk={}))[mk.OK=0]="OK",mk[mk.CANCELLED=1]="CANCELLED",mk[mk.UNKNOWN=2]="UNKNOWN",mk[mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mk[mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mk[mk.NOT_FOUND=5]="NOT_FOUND",mk[mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",mk[mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",mk[mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",mk[mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mk[mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mk[mk.ABORTED=10]="ABORTED",mk[mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",mk[mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",mk[mk.INTERNAL=13]="INTERNAL",mk[mk.UNAVAILABLE=14]="UNAVAILABLE",mk[mk.DATA_LOSS=15]="DATA_LOSS";var xk=function(){function e(t,n){It(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Tt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=(0,_t.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ym(this.inner,(function(t,n){var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=(0,_t.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_k=new rg(xm.comparator);function Ik(){return _k}var Sk=new rg(xm.comparator);function Ek(){for(var e=Sk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Tk(e){var t=Sk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ck(){return Nk()}function Ak(){return Nk()}function Nk(){return new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Pk=new rg(xm.comparator),Ok=new og(xm.comparator);function Dk(){for(var e=Ok,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Rk=new og(dm);function Lk(){return Rk}var Mk=function(){function e(t,n,r,i,a){It(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Tt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Fk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(ym.min(),i,Lk(),Ik(),Dk())}}]),e}(),Fk=function(){function e(t,n,r,i,a){It(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Tt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Dk(),Dk(),Dk())}}]),e}(),jk=Tt((function e(t,n,r,i){It(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),Vk=Tt((function e(t,n){It(this,e),this.targetId=t,this.Rt=n})),Uk=Tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;It(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zk=function(){function e(){It(this,e),this.Pt=0,this.vt=Zk(),this.bt=iy.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return Tt(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=Dk(),t=Dk(),n=Dk();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xv()}})),new Fk(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=Zk()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),Bk=function(){function e(t){It(this,e),this.Lt=t,this.qt=new Map,this.Ut=Ik(),this.Kt=qk(),this.Gt=new og(dm)}return Tt(e,[{key:"Qt",value:function(e){var t,n=At(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=At(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Xv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(yg(i))if(0===n){var a=new xm(i.path);this.zt(t,a,hg.newNoDocument(a,ym.min()))}else Yv(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&yg(a.target)){var o=new xm(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,hg.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Dk();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mk(e,n,this.Gt,this.Ut,r);return this.Ut=Ik(),this.Kt=qk(),this.Gt=new og(dm),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new zk,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new og(dm),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Gv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new zk),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function qk(){return new rg(xm.comparator)}function Zk(){return new rg(xm.comparator)}var Kk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"},Wk=Tt((function e(t,n){It(this,e),this.databaseId=t,this.yt=n}));function Qk(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $k(e,t){return e.yt?t.toBase64():t.toUint8Array()}function Xk(e,t){return Qk(e,t.toTimestamp())}function Yk(e){return Yv(!!e),ym.fromTimestamp(function(e){var t=oy(e);return new mm(t.seconds,t.nanos)}(e))}function Jk(e,t){return function(e){return new km(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function eb(e){var t=km.fromString(e);return Yv(_b(t)),t}function tb(e,t){return Jk(e.databaseId,t.path)}function nb(e,t){var n=eb(t);if(n.get(1)!==e.databaseId.projectId)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xm(ob(n))}function rb(e,t){return Jk(e.databaseId,t)}function ib(e){var t=eb(e);return 4===t.length?km.emptyPath():ob(t)}function ab(e){return new km(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ob(e){return Yv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ub(e,t,n){return{name:tb(e,t),fields:n.value.mapValue.fields}}function sb(e,t,n){var r=nb(e,t.name),i=Yk(t.updateTime),a=t.createTime?Yk(t.createTime):ym.min(),o=new lg({mapValue:{fields:t.fields}}),u=hg.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function cb(e,t){return"found"in t?function(e,t){Yv(!!t.found),t.found.name,t.found.updateTime;var n=nb(e,t.found.name),r=Yk(t.found.updateTime),i=t.found.createTime?Yk(t.found.createTime):ym.min(),a=new lg({mapValue:{fields:t.found.fields}});return hg.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Yv(!!t.missing),Yv(!!t.readTime);var n=nb(e,t.missing),r=Yk(t.readTime);return hg.newNoDocument(n,r)}(e,t):Xv()}function lb(e,t){var n;if(t instanceof lk)n={update:ub(e,t.key,t.value)};else if(t instanceof yk)n={delete:tb(e,t.key)};else if(t instanceof fk)n={update:ub(e,t.key,t.data),updateMask:xb(t.fieldMask)};else{if(!(t instanceof gk))return Xv();n={verify:tb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Hg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Xv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xv()}(e,t.precondition)),n}function fb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nk.updateTime(Yk(e.updateTime)):void 0!==e.exists?nk.exists(e.exists):nk.none()}(t.currentDocument):nk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yv("REQUEST_TIME"===t.setToServerValue),n=new Hg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Qg(i)}else"increment"in t?n=new Xg(e,t.increment):Xv();var a=wm.fromServerFormat(t.fieldPath);return new ek(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nb(e,t.update.name),a=new lg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new cg(t.map((function(e){return wm.fromServerFormat(e)})))}(t.updateMask);return new fk(i,a,o,n,r)}return new lk(i,a,n,r)}if(t.delete){var u=nb(e,t.delete);return new yk(u,n)}if(t.verify){var s=nb(e,t.verify);return new gk(s,n)}return Xv()}function hb(e,t){return{documents:[rb(e,t.path)]}}function db(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return wb(jy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kb(e.field),direction:mb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||ey(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pb(e){var t=ib(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=vb(e);return t instanceof jy&&zy(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new tg(bb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ey(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Dy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Dy(n,t)}(n.endAt)),xg(t,i,u,o,s,"F",c,l)}function vb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=bb(e.unaryFilter.field);return Fy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=bb(e.unaryFilter.field);return Fy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bb(e.unaryFilter.field);return Fy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bb(e.unaryFilter.field);return Fy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xv()}}(e):void 0!==e.fieldFilter?function(e){return Fy.create(bb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jy.create(e.compositeFilter.filters.map((function(e){return vb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xv()}}(e.compositeFilter.op))}(e):Xv()}function mb(e){return Kk[e]}function yb(e){return Hk[e]}function gb(e){return Gk[e]}function kb(e){return{fieldPath:e.canonicalString()}}function bb(e){return wm.fromServerFormat(e.fieldPath)}function wb(e){return e instanceof Fy?function(e){if("=="===e.op){if(Sy(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NAN"}};if(Iy(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sy(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NOT_NAN"}};if(Iy(e.value))return{unaryFilter:{field:kb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kb(e.field),op:yb(e.op),value:e.value}}}(e):e instanceof jy?function(e){var t=e.getFilters().map((function(e){return wb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:gb(e.op),filters:t}}}(e):Xv()}function xb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function _b(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ib(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Eb(t)),t=Sb(e.get(n),t);return Eb(t)}function Sb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Eb(e){return e+"\x01\x01"}function Tb(e){var t=e.length;if(Yv(t>=2),2===t)return Yv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),km.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xv()}a=o+2}return new km(r)}var Cb=["userId","batchId"];function Ab(e,t){return[e,Ib(t)]}function Nb(e,t,n){return[e,Ib(t),n]}var Pb={},Ob=["prefixPath","collectionGroup","readTime","documentId"],Db=["prefixPath","collectionGroup","documentId"],Rb=["collectionGroup","readTime","prefixPath","documentId"],Lb=["canonicalId","targetId"],Mb=["targetId","path"],Fb=["path","targetId"],jb=["collectionId","parent"],Vb=["indexId","uid"],Ub=["uid","sequenceNumber"],zb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bb=["indexId","uid","orderedDocumentKey"],qb=["userId","collectionPath","documentId"],Zb=["userId","collectionPath","largestBatchId"],Kb=["userId","collectionGroup","largestBatchId"],Hb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gb=[].concat((0,mn.Z)(Hb),["documentOverlays"]),Wb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qb=Wb,$b=[].concat(Qb,["indexConfiguration","indexState","indexEntries"]),Xb=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return Tt(n)}(Dm);function Yb(e,t){var n=Jv(e);return jm.M(n.re,t)}var Jb=function(){function e(t,n,r,i){It(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Tt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=At(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=uk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=At(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=uk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ak();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ak(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(ym.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Dk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&pm(this.mutations,e.mutations,(function(e,t){return ck(e,t)}))&&pm(this.baseMutations,e.baseMutations,(function(e,t){return ck(e,t)}))}}]),e}(),ew=function(){function e(t,n,r,i){It(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Tt(e,null,[{key:"from",value:function(t,n,r){Yv(t.mutations.length===r.length);for(var i=Pk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tw=function(){function e(t,n){It(this,e),this.largestBatchId=t,this.mutation=n}return Tt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),nw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ym.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ym.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:iy.EMPTY_BYTE_STRING;It(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Tt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),rw=Tt((function e(t){It(this,e),this.oe=t}));function iw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qk(e,t.version.toTimestamp()),createTime:Qk(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ow(t.version)};else{if(!t.isUnknownDocument())return Xv();r.unknownDocument={path:n.path.toArray(),version:ow(t.version)}}return r}function aw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ow(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uw(e){var t=new mm(e.seconds,e.nanoseconds);return ym.fromTimestamp(t)}function sw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fb(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fb(e.oe,t)})),u=mm.fromMillis(t.localWriteTimeMs);return new Jb(t.batchId,u,n,o)}function cw(e){var t,n,r=uw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uw(e.lastLimboFreeSnapshotVersion):ym.min();return void 0!==e.query.documents?(Yv(1===(n=e.query).documents.length),t=Ag(_g(ib(n.documents[0])))):t=function(e){return Ag(pb(e))}(e.query),new nw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,iy.fromBase64String(e.resumeToken))}function lw(e,t){var n,r=ow(t.snapshotVersion),i=ow(t.lastLimboFreeSnapshotVersion);n=yg(t.target)?hb(e.oe,t.target):db(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function fw(e){var t=pb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pg(t,t.limit,"L"):t}function hw(e,t){return new tw(t.largestBatchId,fb(e.oe,t.overlayMutation))}function dw(e,t){var n=t.path.lastSegment();return[e,Ib(t.path.popLast()),n]}function pw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ow(r.readTime),documentKey:Ib(r.documentKey.path),largestBatchId:r.largestBatchId}}var vw=function(){function e(){It(this,e)}return Tt(e,[{key:"getBundleMetadata",value:function(e,t){return mw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:uw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mw(e).put({bundleId:(n=t).id,createTime:ow(Yk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fw(t.bundledQuery),readTime:uw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yw(e).put(function(e){return{name:e.name,readTime:ow(Yk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mw(e){return Yb(e,"bundles")}function yw(e){return Yb(e,"namedQueries")}var gw=function(){function e(t,n){It(this,e),this.Tt=t,this.userId=n}return Tt(e,[{key:"getOverlay",value:function(e,t){var n=this;return kw(e).get(dw(this.userId,t)).next((function(e){return e?hw(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ck();return Mm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new tw(t,a);i.push(r.ce(e,o))})),Mm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ib(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kw(e).Y("collectionPathOverlayIndex",i))})),Mm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ck(),a=Ib(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=At(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=hw(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ck(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=hw(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return kw(e).put(function(e,t,n){var r=dw(t,n.mutation.key),i=(0,_t.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lb(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kw(e){return Yb(e,"documentOverlays")}var bw=function(){function e(){It(this,e)}return Tt(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(uy(e.integerValue));else if("doubleValue"in e){var n=uy(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),ty(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(sy(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Cy(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Xv()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),xm.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function ww(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ww(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bw.Ee=new bw;var _w=function(){function e(){It(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Tt(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=At(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"De",value:function(e){var t,n=At(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=xw(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=xw(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$e",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Iw=function(){function e(t){It(this,e),this.Le=t}return Tt(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.$e()}}]),e}(),Sw=function(){function e(t){It(this,e),this.Le=t}return Tt(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),Ew=function(){function e(){It(this,e),this.Le=new _w,this.qe=new Iw(this.Le),this.Ue=new Sw(this.Le)}return Tt(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),Tw=function(){function e(t,n,r,i){It(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Tt(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Cw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Aw(e.arrayValue,t.arrayValue))?n:0!==(n=Aw(e.directionalValue,t.directionalValue))?n:xm.comparator(e.documentKey,t.documentKey)}function Aw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Nw=function(){function e(t){It(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=At(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Tt(e,[{key:"We",value:function(e){Yv(e.collectionGroup===this.collectionId);var t=Im(e);if(void 0!==t&&!this.He(t))return!1;for(var n=Sm(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=At(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Pw(e){var t,n;if(Yv(e instanceof Fy||e instanceof jy),e instanceof Fy){if(e instanceof Yy){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Fy.create(e.field,"==",t)})))||[];return jy.create(r,"or")}return e}var i=e.filters.map((function(e){return Pw(e)}));return jy.create(i,e.op)}function Ow(e){if(0===e.getFilters().length)return[];var t=Mw(Pw(e));return Yv(Lw(t)),Dw(t)||Rw(t)?[t]:t.getFilters()}function Dw(e){return e instanceof Fy}function Rw(e){return e instanceof jy&&zy(e)}function Lw(e){return Dw(e)||Rw(e)||function(e){if(e instanceof jy&&Uy(e)){var t,n=At(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Dw(r)&&!Rw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Mw(e){if(Yv(e instanceof Fy||e instanceof jy),e instanceof Fy)return e;if(1===e.filters.length)return Mw(e.filters[0]);var t=e.filters.map((function(e){return Mw(e)})),n=jy.create(t,e.op);return Lw(n=Vw(n))?n:(Yv(n instanceof jy),Yv(Vy(n)),Yv(n.filters.length>1),n.filters.reduce((function(e,t){return Fw(e,t)})))}function Fw(e,t){var n;return Yv(e instanceof Fy||e instanceof jy),Yv(t instanceof Fy||t instanceof jy),n=e instanceof Fy?t instanceof Fy?function(e,t){return jy.create([e,t],"and")}(e,t):jw(e,t):t instanceof Fy?jw(t,e):function(e,t){if(Yv(e.filters.length>0&&t.filters.length>0),Vy(e)&&Vy(t))return Ky(e,t.getFilters());var n=Uy(e)?e:t,r=Uy(e)?t:e,i=n.filters.map((function(e){return Fw(e,r)}));return jy.create(i,"or")}(e,t),Vw(n)}function jw(e,t){if(Vy(t))return Ky(t,e.getFilters());var n=t.filters.map((function(t){return Fw(e,t)}));return jy.create(n,"or")}function Vw(e){if(Yv(e instanceof Fy||e instanceof jy),e instanceof Fy)return e;var t=e.getFilters();if(1===t.length)return Vw(t[0]);if(By(e))return e;var n=t.map((function(e){return Vw(e)})),r=[];return n.forEach((function(t){t instanceof Fy?r.push(t):t instanceof jy&&(t.op===e.op?r.push.apply(r,(0,mn.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:jy.create(r,e.op)}var Uw=function(){function e(){It(this,e),this.Ze=new zw}return Tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),Mm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mm.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Mm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Mm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Mm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Mm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Mm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Mm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Mm.resolve(Nm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Mm.resolve(Nm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Mm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Mm.resolve()}}]),e}(),zw=function(){function e(){It(this,e),this.index={}}return Tt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new og(km.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new og(km.comparator)).toArray()}}]),e}(),Bw=new Uint8Array(0),qw=function(){function e(t,n){It(this,e),this.user=t,this.databaseId=n,this.Xe=new zw,this.tn=new xk((function(e){return vg(e)}),(function(e,t){return mg(e,t)})),this.uid=t.uid||""}return Tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Ib(i)};return Zw(e).put(a)}return Mm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vm(t),""],!1,!0);return Zw(e).W(r).next((function(e){var r,i=At(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Hw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Gw(e);return a.next((function(e){o.put(pw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Hw(e),r=Gw(e),i=Kw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Kw(e),i=!0,a=new Map;return Mm.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Dk(),o=[];return Mm.forEach(a,(function(i,a){var u;Gv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(vg(t)));var s=function(e,t){var n=Im(t);if(void 0===n)return null;var r,i=At(gg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=At(Sm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=At(gg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=At(Sm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?kg(e,o.fieldPath,e.startAt):bg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Dy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=At(Sm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?bg(e,o.fieldPath,e.endAt):kg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Dy(r,i)}(a,i),h=n.sn(i,a,l),d=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Mm.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=xm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Mm.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Ow(jy.create(e.filters,"and")).map((function(t){return pg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[h/c]):Bw,f=u.cn(e,s,n[h%c],r),d=u.an(e,s,i[h%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,(0,mn.Z)(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new Tw(e,xm.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new Tw(e,xm.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new Nw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=At(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return Mm.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new og(wm.comparator),r=!1,i=At(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=At(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=At(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new Ew,i=At(Sm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);bw.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new Ew;return bw.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new Ew;return bw.Ee.ae(wy(this.databaseId,t),n.Ke(function(e){var t=Sm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ew);var i,a=0,o=At(Sm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=At(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&_y(c))r=this.dn(r,s,c);else{var h=f.Ke(s.kind);bw.Ee.ae(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=(0,mn.Z)(e),a=[],o=At(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=At(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ew;f.seed(l.Be()),bw.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Fy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Hw(e),i=Gw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Mm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Tm(t.sequenceNumber,new Nm(uw(t.readTime),new xm(Tb(t.documentKey)),t.largestBatchId)):Tm.empty(),r=e.fields.map((function(e){var t=(0,_t.Z)(e,2),n=t[0],r=t[1];return new Em(wm.fromServerFormat(n),r)}));return new _m(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Hw(e),a=Gw(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Mm.forEach(t,(function(t){return a.put(pw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Mm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Mm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Mm.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Mm.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return Kw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return Kw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=Kw(e),i=new og(Cw);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new Tw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new og(Cw),r=this.hn(t,e);if(null==r)return n;var i=Im(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_y(a)){var o,u=At(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Tw(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Tw(t.indexId,e.key,Bw,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Gv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=sg(a),s=sg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=sg(o)):l?(i(u),u=sg(a)):(u=sg(a),s=sg(o))}}(r,i,Cw,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),Mm.waitFor(o)}},{key:"wn",value:function(e){var t=1;return Gw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Cw(e,t)})).filter((function(e,t,n){return!t||0!==Cw(e,n[t-1])}));var r=[];r.push(e);var i,a=At(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Cw(o,e),s=Cw(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Bw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Bw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Tn",value:function(e,t){return Cw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ww)}},{key:"getMinOffset",value:function(e,t){var n=this;return Mm.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||Xv()}))})).next(Ww)}}]),e}();function Zw(e){return Yb(e,"collectionParents")}function Kw(e){return Yb(e,"indexEntries")}function Hw(e){return Yb(e,"indexConfiguration")}function Gw(e){return Yb(e,"indexState")}function Ww(e){Yv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Pm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Nm(t.readTime,t.documentKey,n)}var Qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$w=function(){function e(t,n,r){It(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Tt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Xw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yv(1===u)})));var c,l=[],f=At(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Nb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Mm.waitFor(a).next((function(){return l}))}function Yw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xv();t=e.noDocument}return JSON.stringify(t).length}$w.DEFAULT_COLLECTION_PERCENTILE=10,$w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$w.DEFAULT=new $w(41943040,$w.DEFAULT_COLLECTION_PERCENTILE,$w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$w.DISABLED=new $w(-1,0,0);var Jw=function(){function e(t,n,r,i){It(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return Tt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tx(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=nx(e),o=tx(e);return o.add({}).next((function(u){Yv("number"==typeof u);var s,c=new Jb(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lb(e.oe,t)})),i=n.mutations.map((function(t){return lb(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],h=new og((function(e,t){return dm(e.canonicalString(),t.canonicalString())})),d=At(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Nb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Pb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),Mm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return tx(e).get(t).next((function(e){return e?(Yv(e.userId===n.userId),sw(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?Mm.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return tx(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yv(t.batchId>=r),a=sw(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tx(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return sw(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ab(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return nx(e).X({range:i},(function(r,i,o){var u=(0,_t.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Tb(c);if(s===n.userId&&t.path.isEqual(f))return tx(e).get(l).next((function(e){if(!e)throw Xv();Yv(e.userId===n.userId),a.push(sw(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new og(dm),i=[];return t.forEach((function(t){var a=Ab(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=nx(e).X({range:o},(function(e,i,a){var o=(0,_t.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Tb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Mm.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ab(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new og(dm);return nx(e).X({range:o},(function(e,t,a){var o=(0,_t.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Tb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(tx(e).get(t).next((function(e){if(null===e)throw Xv();Yv(e.userId===n.userId),r.push(sw(n.Tt,e))})))})),Mm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Xw(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Pn(t.batchId)})),Mm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Pn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return nx(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tb(e[1]);i.push(a)}else r.done()})).next((function(){Yv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ex(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return rx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return Yv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ex(e,t,n){var r=Ab(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return nx(e).X({range:a,Z:!0},(function(e,n,r){var a=(0,_t.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function tx(e){return Yb(e,"mutations")}function nx(e){return Yb(e,"documentMutations")}function rx(e){return Yb(e,"mutationQueues")}var ix=function(){function e(t){It(this,e),this.bn=t}return Tt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),ax=function(){function e(t,n){It(this,e),this.referenceDelegate=t,this.Tt=n}return Tt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new ix(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return ym.fromTimestamp(new mm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ox(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return Yv(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ox(e).X((function(o,u){var s=cw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Mm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ox(e).X((function(e,n){var r=cw(n);t(r)}))}},{key:"Dn",value:function(e){return ux(e).get("targetGlobalKey").next((function(e){return Yv(null!==e),e}))}},{key:"Cn",value:function(e,t){return ux(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return ox(e).put(lw(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ox(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=cw(n);mg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=sx(e);return t.forEach((function(t){var o=Ib(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Mm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=sx(e);return Mm.forEach(t,(function(t){var a=Ib(t.path);return Mm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=sx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sx(e),i=Dk();return r.X({range:n,Z:!0},(function(e,t,n){var r=Tb(e[1]),a=new xm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ib(t.path),r=IDBKeyRange.bound([n],[vm(n)],!1,!0),i=0;return sx(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=(0,_t.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return ox(e).get(t).next((function(e){return e?cw(e):null}))}}]),e}();function ox(e){return Yb(e,"targets")}function ux(e){return Yb(e,"targetGlobal")}function sx(e){return Yb(e,"targetDocuments")}function cx(e,t){var n=(0,_t.Z)(e,2),r=n[0],i=n[1],a=(0,_t.Z)(t,2),o=a[0],u=a[1],s=dm(r,o);return 0===s?dm(i,u):s}var lx=function(){function e(t){It(this,e),this.kn=t,this.buffer=new og(cx),this.$n=0}return Tt(e,[{key:"Mn",value:function(){return++this.$n}},{key:"On",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fx=function(){function e(t,n,r){It(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Fn=null}return Tt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}},{key:"started",get:function(){return null!==this.Fn}},{key:"Bn",value:function(e){var t=this;Gv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!zm(e.t0)){e.next=12;break}Gv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Rm(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),hx=function(){function e(t,n){It(this,e),this.Ln=t,this.params=n}return Tt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Mm.resolve(Wm.at);var r=new lx(t);return this.Ln.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gv("LruGarbageCollector","Garbage collection skipped; disabled"),Mm.resolve(Qw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Qw):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Hv()<=_n.DEBUG&&Gv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Mm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),dx=function(){function e(t,n){It(this,e),this.db=t,this.garbageCollector=function(e,t){return new hx(e,t)}(this,n)}return Tt(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return px(e,n)}},{key:"removeReference",value:function(e,t,n){return px(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return px(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return rx(e).tt((function(r){return ex(e,r,t).next((function(e){return e&&(n=!0),Mm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ym.min()),sx(e).delete([0,Ib(o.path)])}))}));i.push(s)}})).next((function(){return Mm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return px(e,t)}},{key:"Qn",value:function(e,t){var n,r=sx(e),i=Wm.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=(0,_t.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Wm.at&&t(new xm(Tb(n)),i),i=s,n=u):i=Wm.at})).next((function(){i!==Wm.at&&t(new xm(Tb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function px(e,t){return sx(e).put(function(e,t){return{targetId:0,path:Ib(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var vx=function(){function e(){It(this,e),this.changes=new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Tt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mx=function(){function e(t){It(this,e),this.Tt=t}return Tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return bx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return bx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],aw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=hg.newInvalidDocument(t);return bx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wx(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:hg.newInvalidDocument(t)};return bx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wx(t))},(function(e,i){r={document:n.Wn(t,i),size:Yw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ik();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=Ik(),i=new rg(xm.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,Yw(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return Mm.resolve();var r=new og(_x);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(wx(r.first()),wx(r.last())),a=r.getIterator(),o=a.getNext();return bx(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=xm.fromSegments([].concat((0,mn.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&_x(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(wx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),aw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bx(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Ik(),o=At(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(xm.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Lg(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ik(),o=xx(t,n),u=xx(t,Nm.max());return bx(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(xm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new gx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return kx(e).get("remoteDocumentGlobalKey").next((function(e){return Yv(!!e),e}))}},{key:"zn",value:function(e,t){return kx(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sb(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=xm.fromSegments(t.noDocument.path),i=uw(t.noDocument.readTime);n=hg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xv();var a=xm.fromSegments(t.unknownDocument.path),o=uw(t.unknownDocument.version);n=hg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new mm(e[0],e[1]);return ym.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(ym.min()))return n}return hg.newInvalidDocument(e)}}]),e}();function yx(e){return new mx(e)}var gx=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new og((function(e,t){return dm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=iw(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=Yw(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=iw(t.Xn.Tt,o.convertToNoDocument(ym.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),Mm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(vx);function kx(e){return Yb(e,"remoteDocumentGlobal")}function bx(e){return Yb(e,"remoteDocumentsV14")}function wx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xx(e,t){var n=t.documentKey.path.toArray();return[e,aw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _x(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=dm(n[a],r[a]))return i;return(i=dm(n.length,r.length))||((i=dm(n[n.length-2],r[r.length-2]))||dm(n[n.length-1],r[r.length-1]))}var Ix=Tt((function e(t,n){It(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Sx=function(){function e(t,n,r,i){It(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Tt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&uk(r.mutation,e,cg.empty(),mm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Dk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dk(),i=Ck();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ek();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ck();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Dk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ik(),a=Nk(),o=Nk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),uk(o.mutation,t,o.mutation.getFieldMask(),mm.now())):a.set(t.key,cg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ix(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Nk(),i=new rg((function(e,t){return e-t})),a=Dk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=At(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||cg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Dk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ak();c.forEach((function(e){if(!a.has(e)){var n=ak(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Mm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return xm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Mm.resolve(Ck()),u=-1,s=a;return o.next((function(t){return Mm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Mm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Dk())})).next((function(e){return{batchId:u,changes:Tk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new xm(t)).next((function(e){var t=Ek();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ek();return this.indexManager.getCollectionParents(e,i).next((function(o){return Mm.forEach(o,(function(o){var u=function(e,t){return new wg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,hg.newInvalidDocument(r)))}));var n=Ek();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&uk(a.mutation,i,cg.empty(),mm.now()),Lg(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ex=function(){function e(t){It(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return Tt(e,[{key:"getBundleMetadata",value:function(e,t){return Mm.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:Yk(n.createTime)}),Mm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mm.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:fw(e.bundledQuery),readTime:Yk(e.readTime)}}(t)),Mm.resolve()}}]),e}(),Tx=function(){function e(){It(this,e),this.overlays=new rg(xm.comparator),this.ss=new Map}return Tt(e,[{key:"getOverlay",value:function(e,t){return Mm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ck();return Mm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),Mm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),Mm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ck(),i=t.length+1,a=new xm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Mm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new rg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ck(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ck(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Mm.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new tw(t,n));var a=this.ss.get(t);void 0===a&&(a=Dk(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),Cx=function(){function e(){It(this,e),this.rs=new og(Ax.os),this.us=new og(Ax.cs)}return Tt(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ax(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Ax(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new xm(new km([])),r=new Ax(n,e),i=new Ax(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new xm(new km([])),n=new Ax(t,e),r=new Ax(t,e+1),i=Dk();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ax(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ax=function(){function e(t,n){It(this,e),this.key=t,this.gs=n}return Tt(e,null,[{key:"os",value:function(e,t){return xm.comparator(e.key,t.key)||dm(e.gs,t.gs)}},{key:"cs",value:function(e,t){return dm(e.gs,t.gs)||xm.comparator(e.key,t.key)}}]),e}(),Nx=function(){function e(t,n){It(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new og(Ax.os)}return Tt(e,[{key:"checkEmpty",value:function(e){return Mm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Jb(i,t,n,r);this.mutationQueue.push(a);var o,u=At(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new Ax(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Mm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mm.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return Mm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mm.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return Mm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ax(t,0),i=new Ax(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),Mm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new og(dm);return t.forEach((function(e){var t=new Ax(e,0),i=new Ax(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),Mm.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;xm.isDocumentKey(i)||(i=i.child(""));var a=new Ax(new xm(i),0),o=new og(dm);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),Mm.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yv(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return Mm.forEach(t.mutations,(function(i){var a=new Ax(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ax(t,0),r=this.ps.firstAfterOrEqual(n);return Mm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Mm.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Px=function(){function e(t){It(this,e),this.Rs=t,this.docs=new rg(xm.comparator),this.size=0}return Tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mm.resolve(n?n.document.mutableCopy():hg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ik();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hg.newInvalidDocument(e))})),Mm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Ik(),a=t.path,o=new xm(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Pm(Am(l),n)<=0||(r.has(l.key)||Lg(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Mm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xv()}},{key:"Ps",value:function(e,t){return Mm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ox(this)}},{key:"getSize",value:function(e){return Mm.resolve(this.size)}}]),e}(),Ox=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).Xn=e,r}return Tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),Mm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(vx),Dx=function(){function e(t){It(this,e),this.persistence=t,this.vs=new xk((function(e){return vg(e)}),mg),this.lastRemoteSnapshotVersion=ym.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Cx,this.targetCount=0,this.Ss=ix.Vn()}return Tt(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),Mm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mm.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),Mm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Mm.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new ix(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,Mm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),Mm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Mm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Mm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return Mm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),Mm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),Mm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return Mm.resolve(n)}},{key:"containsKey",value:function(e,t){return Mm.resolve(this.Vs.containsKey(t))}}]),e}(),Rx=function(){function e(t,n){var r=this;It(this,e),this.Ds={},this.overlays={},this.Cs=new Wm(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Dx(this),this.indexManager=new Uw,this.remoteDocumentCache=new Px((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new rw(n),this.$s=new Ex(this.Tt)}return Tt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Tx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Nx(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gv("MemoryPersistence","Starting transaction:",e);var i=new Lx(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return Mm.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Lx=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Tt(n)}(Dm),Mx=function(){function e(t){It(this,e),this.persistence=t,this.Bs=new Cx,this.Ls=null}return Tt(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Xv()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),Mm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),Mm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),Mm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mm.forEach(this.Us,(function(r){var i=xm.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,ym.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return Mm.or([function(){return Mm.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),Fx=function(){function e(t){It(this,e),this.Tt=t}return Tt(e,[{key:"F",value:function(e,t,n,r){var i=this,a=new Fm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cb,{unique:!0}),e.createObjectStore("documentMutations")}(e),jx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Mm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),jx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ym.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Mm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:qb});t.createIndex("collectionPathOverlayIndex",Zb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Kb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ob});t.createIndex("documentKeyIndex",Db),t.createIndex("collectionGroupIndex",Rb)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vb}).createIndex("sequenceNumberIndex",Ub,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:zb}).createIndex("documentKeyIndex",Bb,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Yw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Mm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Mm.forEach(r,(function(r){Yv(r.userId===n.userId);var i=sw(t.Tt,r);return Xw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new km(n),o=function(e){return[0,Ib(e)]}(a);r.push(t.get(o).next((function(n){return n?Mm.resolve():function(n){return t.put({targetId:0,path:Ib(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Mm.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jb});var n=t.store("collectionParents"),r=new zw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ib(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new km(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=(0,_t.Z)(e,3),r=(n[0],n[1]),a=(n[2],Tb(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=cw(r),a=lw(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new xm(km.fromString(i.document.name).popFirst(5)):i.noDocument?xm.fromSegments(i.noDocument.path):i.unknownDocument?xm.fromSegments(i.unknownDocument.path):Xv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Mm.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=yx(this.Tt),a=new Rx(Mx.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Dk();sw(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Mm.forEach(r,(function(e,r){var o=new qv(r),u=gw.ue(n.Tt,o),s=a.getIndexManager(o),c=Jw.ue(o,n.Tt,s,a.referenceDelegate);return new Sx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Xb(t,Wm.at),e).next()}))}))}}]),e}();function jx(e){e.createObjectStore("targetDocuments",{keyPath:Mb}).createIndex("documentTargetsIndex",Fb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lb,{unique:!0}),e.createObjectStore("targetGlobal")}var Vx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ux=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(It(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new tm(em.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dx(this,i),this.oi=n+"main",this.Tt=new rw(s),this.ui=new jm(this.oi,this.ti,new Fx(this.Tt)),this.Ns=new ax(this.referenceDelegate,this.Tt),this.remoteDocumentCache=yx(this.Tt),this.$s=new vw,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&Wv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Tt(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Vx);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new Wm(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=gn(vn().mark((function n(r){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=gn(vn().mark((function t(n){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Bx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(zm(t))return Gv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return zx(e).get("owner").next((function(e){return Mm.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return Bx(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i,a=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Yb(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=At(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?Mm.resolve(!0):zx(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Vx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bx(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=gn(vn().mark((function e(){var t=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Xb(e,Wm.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Bx(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return Jw.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new qw(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gw.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?$b:14===i?Qb:13===i?Wb:12===i?Gb:11===i?Hb:void Xv();return this.ui.runTransaction(e,o,u,(function(i){return a=new Xb(i,r.Cs?r.Cs.next():Wm.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw Wv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new tm(em.FAILED_PRECONDITION,Om);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return zx(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new tm(em.FAILED_PRECONDITION,Vx)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zx(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=zx(e);return n.get("owner").next((function(e){return t.yi(e)?(Gv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Mm.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Wv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.Pi();var e=/(?:Version|Mobile)\/1[456]/;!$t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"bi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Gv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Pi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(T){Wv("Failed to set zombie client id.",T)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(T){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return jm.C()}}]),e}();function zx(e){return Yb(e,"owner")}function Bx(e){return Yb(e,"clientMetadata")}function qx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zx=function(){function e(t,n,r,i){It(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return Tt(e,null,[{key:"Ni",value:function(t,n){var r,i=Dk(),a=Dk(),o=At(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Kx=function(){function e(){It(this,e),this.ki=!1}return Tt(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(Ig(t))return Mm.resolve(null);var r=Ag(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Pg(t,null,"F"),r=Ag(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Dk.apply(void 0,(0,mn.Z)(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Pg(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Ig(t)||r.isEqual(ym.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(Hv()<=_n.DEBUG&&Gv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rg(t)),i.qi(e,o,t,Cm(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new og(Fg(e));return t.forEach((function(t,r){Lg(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return Hv()<=_n.DEBUG&&Gv("QueryEngine","Using full collection scan to execute query:",Rg(t)),this.$i.getDocumentsMatchingQuery(e,t,Nm.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hx=function(){function e(t,n,r,i){It(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new rg(dm),this.Gi=new xk((function(e){return vg(e)}),mg),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return Tt(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sx(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function Gx(e,t,n,r){return new Hx(e,t,n,r)}function Wx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Dk(),s=At(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=At(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=At(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=At(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t){var n=Jv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Dk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Xx(e){var t=Jv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function Yx(e,t){var n=Jv(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(iy.EMPTY_BYTE_STRING,ym.min()).withLastLimboFreeSnapshotVersion(ym.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=Ik(),s=Dk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Jx(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(ym.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Mm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function Jx(e,t,n){var r=Dk(),i=Dk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ik();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ym.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Gv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function e_(e,t){var n=Jv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function t_(e,t){var n=Jv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,Mm.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new nw(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function n_(e,t,n){return r_.apply(this,arguments)}function r_(){return r_=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),zm(e.t1)){e.next=12;break}throw e.t1;case 12:Gv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),r_.apply(this,arguments)}function i_(e,t,n){var r=Jv(e),i=ym.min(),a=Dk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Jv(e),i=r.Gi.get(n);return void 0!==i?Mm.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Ag(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:ym.min(),n?a:Dk())})).next((function(e){return u_(r,Mg(t),e),{documents:e,Yi:a}}))}))}function a_(e,t){var n=Jv(e),r=Jv(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function o_(e,t){var n=Jv(e),r=n.Qi.get(t)||ym.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,Cm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return u_(n,t,e),e}))}function u_(e,t,n){var r=e.Qi.get(t)||ym.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function s_(e,t,n,r){return c_.apply(this,arguments)}function c_(){return c_=gn(vn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Jv(t),o=Dk(),u=Ik(),s=At(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,t_(a,function(e){return Ag(_g(km.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Jx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=gn(vn().mark((function e(t,n){var r,i,a,o=arguments;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Dk(),e.next=3,t_(t,Ag(fw(n.bundledQuery)));case 3:return i=e.sent,a=Jv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Yk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$s.saveNamedQuery(e,n);var o=i.withResumeToken(iy.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function d_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function p_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var v_=function(){function e(t,n,r,i){It(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Tt(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new tm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Wv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),m_=function(){function e(t,n,r){It(this,e),this.targetId=t,this.state=n,this.error=r}return Tt(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Wv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),y_=function(){function e(t,n){It(this,e),this.clientId=t,this.activeTargetIds=n}return Tt(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Lk(),o=0;i&&o<r.activeTargetIds.length;++o)i=ny(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Wv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),g_=function(){function e(t,n){It(this,e),this.clientId=t,this.onlineState=n}return Tt(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Wv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),k_=function(){function e(){It(this,e),this.activeTargetIds=Lk()}return Tt(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),b_=function(){function e(t,n,r,i,a){It(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new rg(dm),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=h_(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new k_),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return Tt(e,[{key:"start",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=At(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(h_(this.persistenceKey,i)))&&(o=y_.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=At(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(d){c.e(d)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(p_(this.persistenceKey,e));if(n){var r=m_.er(e,n);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Pr.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Pr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(p_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void Wv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(gn(vn().mark((function e(){var r,i,a,o,u,s,c;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$r(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=Wm.at;if(null!=e)try{var n=JSON.parse(e);Yv("number"==typeof n),t=n}catch(e){Wv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Wm.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Pr",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.Pr.nr())}},{key:"Ar",value:function(e,t,n){var r=new v_(this.currentUser,e,t,n),i=d_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=d_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=p_(this.persistenceKey,e),i=new m_(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return y_.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return v_.er(new qv(i),r,t)}},{key:"$r",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return m_.er(r,t)}},{key:"Ir",value:function(e){return g_.er(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:Gv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=Lk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),w_=function(){function e(){It(this,e),this.Ur=new k_,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Tt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new k_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),x_=function(){function e(){It(this,e)}return Tt(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),__=function(){function e(){var t=this;It(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return Tt(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Gv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=At(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Gv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=At(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),I_=null;function S_(){return null===I_?I_=268435456+Math.round(2147483648*Math.random()):I_++,"0x"+I_.toString(16)}var E_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},T_=function(){function e(t){It(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return Tt(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),C_="WebChannelConnection",A_=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Tt(n,[{key:"wo",value:function(e,t,n,r){var i=S_();return new Promise((function(a,o){var u=new zv;u.setWithCredentials(!0),u.listenOnce(Mv.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Lv.NO_ERROR:var t=u.getResponseJson();Gv(C_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Lv.TIMEOUT:Gv(C_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new tm(em.DEADLINE_EXCEEDED,"Request time out"));break;case Lv.HTTP_ERROR:var n=u.getStatus();if(Gv(C_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(em).indexOf(t)>=0?t:em.UNKNOWN}(s.status);o(new tm(c,s.message))}else o(new tm(em.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new tm(em.UNAVAILABLE,"Connection failed."));break;default:Xv()}}finally{Gv(C_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Gv(C_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=S_(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Dv(),o=Rv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Vv({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");Gv(C_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new T_({Yr:function(t){f?Gv(C_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Gv(C_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Gv(C_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Uv.EventType.OPEN,(function(){f||Gv(C_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Uv.EventType.CLOSE,(function(){f||(f=!0,Gv(C_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.oo())})),d(c,Uv.EventType.ERROR,(function(t){f||(f=!0,Qv(C_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.oo(new tm(em.UNAVAILABLE,"The operation could not be completed")))})),d(c,Uv.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Yv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Gv(C_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=vk[e];if(void 0!==t)return wk(t)}(u),l=o.message;void 0===s&&(s=em.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.oo(new tm(s,l)),c.close()}else Gv(C_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.uo(i)}})),d(o,Fv.STAT_EVENT,(function(t){t.stat===jv.PROXY?Gv(C_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jv.NOPROXY&&Gv(C_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){It(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Tt(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=S_(),o=this.fo(e,t);Gv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this._o(u,r,i),this.wo(e,o,u,n).then((function(t){return Gv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Qv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=E_[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function N_(){return"undefined"!=typeof window?window:null}function P_(){return"undefined"!=typeof document?document:null}function O_(e){return new Wk(e,!0)}var D_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;It(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return Tt(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Gv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),R_=function(){function e(t,n,r,i,a,o,u,s){It(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new D_(t,n)}return Tt(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===em.RESOURCE_EXHAUSTED?(Wv(n.toString()),Wv("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===em.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,_t.Z)(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new tm(em.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Gv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Gv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),L_=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return Tt(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Yv(void 0===t||"string"==typeof t),iy.fromBase64String(t||"")):(Yv(void 0===t||t instanceof Uint8Array),iy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?em.UNKNOWN:wk(e.code);return new tm(t,e.message||"")}(o);n=new Uk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=nb(e,s.document.name),l=Yk(s.document.updateTime),f=s.document.createTime?Yk(s.document.createTime):ym.min(),h=new lg({mapValue:{fields:s.document.fields}}),d=hg.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new jk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=nb(e,m.document),g=m.readTime?Yk(m.readTime):ym.min(),k=hg.newNoDocument(y,g),b=m.removedTargetIds||[];n=new jk([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=nb(e,w.document),_=w.removedTargetIds||[];n=new jk([],_,x,null)}else{if(!("filter"in t))return Xv();t.filter;var I=t.filter;I.targetId;var S=I.count||0,E=new kk(S),T=I.targetId;n=new Vk(T,E)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return ym.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ym.min():t.readTime?Yk(t.readTime):ym.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=ab(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=yg(r)?{documents:hb(e,r)}:{query:db(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=$k(e,t.resumeToken):t.snapshotVersion.compareTo(ym.min())>0&&(n.readTime=Qk(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=ab(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(R_),M_=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return Tt(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Ei(Dt(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Yv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Yv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Yk(e.updateTime):Yk(t);return n.isEqual(ym.min())&&(n=Yk(t)),new tk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Yk(e.commitTime);return this.listener.eu(n,t)}return Yv(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=ab(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lb(t.Tt,e)}))};this.qo(n)}}]),n}(R_),F_=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return Tt(n,[{key:"ru",value:function(){if(this.iu)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,_t.Z)(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,_t.Z)(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return Tt((function e(){It(this,e)}))}());var j_=function(){function e(t,n){It(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return Tt(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Wv(t),this.cu=!1):Gv("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),V_=Tt((function e(t,n,r,i,a){var o=this;It(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$_(o),!e.t0){e.next=5;break}return Gv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t)).mu.add(4),e.next=4,B_(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,U_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new j_(r,i)}));function U_(e){return z_.apply(this,arguments)}function z_(){return z_=gn(vn().mark((function e(t){var n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$_(t)){e.next=18;break}n=At(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),z_.apply(this,arguments)}function B_(e){return q_.apply(this,arguments)}function q_(){return q_=gn(vn().mark((function e(t){var n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=At(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),q_.apply(this,arguments)}function Z_(e,t){var n=Jv(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),Q_(n)?W_(n):SI(n).Mo()&&H_(n,t))}function K_(e,t){var n=Jv(e),r=SI(n);n.wu.delete(t),r.Mo()&&G_(n,t),0===n.wu.size&&(r.Mo()?r.Bo():$_(n)&&n.pu.set("Unknown"))}function H_(e,t){e.Iu.Ot(t.targetId),SI(e).Jo(t)}function G_(e,t){e.Iu.Ot(t),SI(e).Yo(t)}function W_(e){e.Iu=new Bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),SI(e).start(),e.pu.au()}function Q_(e){return $_(e)&&!SI(e).$o()&&e.wu.size>0}function $_(e){return 0===Jv(e).mu.size}function X_(e){e.Iu=void 0}function Y_(e){return J_.apply(this,arguments)}function J_(){return J_=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){H_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X_(t),Q_(t)?(t.pu.fu(n),W_(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=gn(vn().mark((function e(t,n,r){var i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof Uk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=At(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,iI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jk?t.Iu.Qt(n):n instanceof Vk?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(ym.min())){e.next=29;break}return e.prev=14,e.next=17,Xx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(iy.EMPTY_BYTE_STRING,n.snapshotVersion)),G_(e,t);var r=new nw(n.target,t,1,n.sequenceNumber);H_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,iI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rI.apply(this,arguments)}function iI(e,t,n){return aI.apply(this,arguments)}function aI(){return aI=gn(vn().mark((function e(t,n,r){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zm(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,B_(t);case 5:t.pu.set("Offline"),r||(r=function(){return Xx(t.localStore)}),t.asyncQueue.enqueueRetryable(gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,U_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t){return t().catch((function(n){return iI(e,n,t)}))}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=gn(vn().mark((function e(t){var n,r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jv(t),r=EI(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!cI(n)){e.next=19;break}return e.prev=3,e.next=6,e_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,lI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,iI(n,e.t0);case 17:e.next=2;break;case 19:fI(n)&&hI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sI.apply(this,arguments)}function cI(e){return $_(e)&&e._u.length<10}function lI(e,t){e._u.push(t);var n=EI(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function fI(e){return $_(e)&&!EI(e).$o()&&e._u.length>0}function hI(e){EI(e).start()}function dI(e){return pI.apply(this,arguments)}function pI(){return pI=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:EI(t).su();case 1:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e){return mI.apply(this,arguments)}function mI(){return mI=gn(vn().mark((function e(t){var n,r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=EI(t),r=At(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t,n){return gI.apply(this,arguments)}function gI(){return gI=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=ew.from(i,n,r),e.next=3,oI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,uI(t);case 5:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=gn(vn().mark((function e(t,n){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&EI(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bk(i=n.code)||i===em.ABORTED){e.next=7;break}return r=t._u.shift(),EI(t).Fo(),e.next=5,oI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,uI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fI(t)&&hI(t);case 5:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e,t){return xI.apply(this,arguments)}function xI(){return xI=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Jv(t)).asyncQueue.verifyOperationInProgress(),Gv("RemoteStore","RemoteStore received new credentials"),i=$_(r),r.mu.add(3),e.next=6,B_(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,U_(r);case 12:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function _I(e,t){return II.apply(this,arguments)}function II(){return II=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,U_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,B_(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function SI(e){return e.Tu||(e.Tu=function(e,t,n){var r=Jv(e);return r.ru(),new L_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Y_.bind(null,e),no:eI.bind(null,e),Ho:nI.bind(null,e)}),e.gu.push(function(){var t=gn(vn().mark((function t(n){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),Q_(e)?W_(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:X_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function EI(e){return e.Eu||(e.Eu=function(e,t,n){var r=Jv(e);return r.ru(),new M_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:dI.bind(null,e),no:kI.bind(null,e),nu:vI.bind(null,e),eu:yI.bind(null,e)}),e.gu.push(function(){var t=gn(vn().mark((function t(n){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,uI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Gv("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var TI=function(){function e(t,n,r,i,a){It(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Tt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tm(em.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function CI(e,t){if(Wv("AsyncQueue","".concat(t,": ").concat(e)),zm(e))return new tm(em.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var AI=function(){function e(t){It(this,e),this.comparator=t?function(e,n){return t(e,n)||xm.comparator(e.key,n.key)}:function(e,t){return xm.comparator(e.key,t.key)},this.keyedMap=Ek(),this.sortedSet=new rg(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NI=function(){function e(){It(this,e),this.Au=new rg(xm.comparator)}return Tt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Xv():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PI=function(){function e(t,n,r,i,a,o,u,s,c){It(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Tt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,AI.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),OI=Tt((function e(){It(this,e),this.Pu=void 0,this.listeners=[]})),DI=Tt((function e(){It(this,e),this.queries=new xk((function(e){return Dg(e)}),Og),this.onlineState="Unknown",this.vu=new Set}));function RI(e,t){return LI.apply(this,arguments)}function LI(){return LI=gn(vn().mark((function e(t,n){var r,i,a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new OI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=CI(e.t0,"Initialization of query '".concat(Rg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Pu&&n.Vu(o.Pu)&&UI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),LI.apply(this,arguments)}function MI(e,t){return FI.apply(this,arguments)}function FI(){return FI=gn(vn().mark((function e(t,n){var r,i,a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){var n,r=Jv(e),i=!1,a=At(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=At(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&UI(r)}function VI(e,t,n){var r=Jv(e),i=r.queries.get(t);if(i){var a,o=At(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function UI(e){e.vu.forEach((function(e){e.next()}))}var zI=function(){function e(t,n,r){It(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return Tt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=At(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=PI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),BI=function(){function e(t,n){It(this,e),this.Mu=t,this.byteLength=n}return Tt(e,[{key:"Ou",value:function(){return"metadata"in this.Mu}}]),e}(),qI=function(){function e(t){It(this,e),this.Tt=t}return Tt(e,[{key:"Zi",value:function(e){return nb(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?sb(this.Tt,e.document,!1):hg.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return Yk(e)}}]),e}(),ZI=function(){function e(t,n,r){It(this,e),this.Fu=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KI(t)}return Tt(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=km.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new qI(this.Tt),i=At(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=At(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Dk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s_(this.localStore,new qI(this.Tt),this.documents,this.Fu.id);case 2:t=e.sent,n=this.Lu(this.documents),r=At(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,l_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function KI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var HI=Tt((function e(t){It(this,e),this.key=t})),GI=Tt((function e(t){It(this,e),this.key=t})),WI=function(){function e(t,n){It(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Dk(),this.mutatedKeys=Dk(),this.ju=Fg(t),this.zu=new AI(this.ju)}return Tt(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new NI,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xv()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new PI(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new NI,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Dk(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new GI(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new HI(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Dk();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return PI.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),QI=Tt((function e(t,n,r){It(this,e),this.query=t,this.targetId=n,this.view=r})),$I=Tt((function e(t){It(this,e),this.key=t,this.ic=!1})),XI=function(){function e(t,n,r,i,a,o){It(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new xk((function(e){return Dg(e)}),Og),this.uc=new Map,this.cc=new Set,this.ac=new rg(xm.comparator),this.hc=new Map,this.lc=new Cx,this.fc={},this.dc=new Map,this._c=ix.Sn(),this.onlineState="Unknown",this.wc=void 0}return Tt(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function YI(e,t){return JI.apply(this,arguments)}function JI(){return JI=gn(vn().mark((function e(t,n){var r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KS(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,t_(r.localStore,Ag(n));case 8:return u=e.sent,r.isPrimaryClient&&Z_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,eS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function eS(e,t,n,r,i){return tS.apply(this,arguments)}function tS(){return tS=gn(vn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=gn(vn().mark((function e(t,n,r,i){var a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,i_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wS(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,i_(t.localStore,n,!0);case 3:return o=e.sent,u=new WI(n,o.Yi),s=u.Hu(o.documents),c=Fk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),wS(t,r,l.tc),f=new QI(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){return rS.apply(this,arguments)}function rS(){return rS=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jv(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Og(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,n_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),K_(r.remoteStore,i.targetId),kS(r,i.targetId)})).catch(Rm);case 9:e.next=14;break;case 11:return kS(r,i.targetId),e.next=14,n_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return aS=gn(vn().mark((function e(t,n,r){var i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Jv(e),a=mm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Dk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ik(),s=Dk();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=At(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=sk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new fk(c.key,l,fg(l.value.mapValue),nk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Tk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new rg(dm)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,IS(i,a.changes);case 9:return e.next=11,uI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=CI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),aS.apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return uS=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,Yx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Yv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Yv(n.ic):e.removedDocuments.size>0&&(Yv(n.ic),n.ic=!1))})),e.next=8,IS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Rm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),uS.apply(this,arguments)}function sS(e,t,n){var r=Jv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Jv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=At(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&UI(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=gn(vn().mark((function e(t,n,r){var i,a,o,u,s,c;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Jv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new rg(xm.comparator)).insert(o,hg.newNoDocument(o,ym.min())),s=Dk().add(o),c=new Mk(ym.min(),new Map,new og(dm),u,s),e.next=9,oS(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),_S(i),e.next=16;break;case 14:return e.next=16,n_(i.localStore,n,!1).then((function(){return kS(i,n,r)})).catch(Rm);case 16:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=n.batch.batchId,e.prev=1,e.next=4,$x(r.localStore,n);case 4:return a=e.sent,gS(r,i,null),yS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,IS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Rm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hS.apply(this,arguments)}function dS(e,t,n){return pS.apply(this,arguments)}function pS(){return pS=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jv(t),e.prev=1,e.next=4,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,gS(i,n,r),yS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,IS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Rm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pS.apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return mS=gn(vn().mark((function e(t,n){var r,i,a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $_((r=Jv(t)).remoteStore)||Gv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Jv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=CI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),mS.apply(this,arguments)}function yS(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function gS(e,t,n){var r=Jv(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function kS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=At(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||bS(e,t)}))}function bS(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(K_(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),_S(e))}function wS(e,t,n){var r,i=At(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof HI?(e.lc.addReference(a.key,t),xS(e,a)):a instanceof GI?(Gv("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||bS(e,a.key)):Xv()}}catch(o){i.e(o)}finally{i.f()}}function xS(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Gv("SyncEngine","New document in limbo: "+n),e.cc.add(r),_S(e))}function _S(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new xm(km.fromString(t)),r=e._c.next();e.hc.set(r,new $I(n)),e.ac=e.ac.insert(n,r),Z_(e.remoteStore,new nw(Ag(_g(n.path)),r,2,Wm.at))}}function IS(e,t,n){return SS.apply(this,arguments)}function SS(){return SS=gn(vn().mark((function e(t,n,r){var i,a,o,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jv(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zx.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=gn(vn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mm.forEach(n,(function(t){return Mm.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mm.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),zm(e.t0)){e.next=10;break}throw e.t0;case 10:Gv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=At(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function ES(e,t){return TS.apply(this,arguments)}function TS(){return TS=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Jv(t)).currentUser.isEqual(n)){e.next=11;break}return Gv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Wx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new tm(em.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,IS(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t){var n=Jv(e),r=n.hc.get(t);if(r&&r.ic)return Dk().add(r.key);var i=Dk(),a=n.uc.get(t);if(!a)return i;var o,u=At(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function AS(e,t){return NS.apply(this,arguments)}function NS(){return NS=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.next=3,i_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&wS(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return OS=gn(vn().mark((function e(t,n){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),e.abrupt("return",o_(r.localStore,n).then((function(e){return IS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t,n,r){return RS.apply(this,arguments)}function RS(){return RS=gn(vn().mark((function e(t,n,r,i){var a,o;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jv(t),e.next=3,function(e,t){var n=Jv(e),r=Jv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Mm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,uI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gS(a,n,i||null),yS(a,n),function(e,t){Jv(Jv(e).mutationQueue).Pn(t)}(a.localStore,n)):Xv();case 11:return e.next=13,IS(a,o);case 13:e.next=16;break;case 15:Gv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function LS(e,t){return MS.apply(this,arguments)}function MS(){return MS=gn(vn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KS(r=Jv(t)),HS(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,FS(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,_I(r.remoteStore,!0);case 9:o=At(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Z_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kS(r,t),n_(r.localStore,t,!0)})),K_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,FS(r,c);case 21:return function(e){var t=Jv(e);t.hc.forEach((function(e,n){K_(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new rg(xm.comparator)}(r),r.wc=!1,e.next=25,_I(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function FS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=gn(vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Jv(t),a=[],o=[],u=At(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,t_(i.localStore,Ag(f[0]));case 11:l=e.sent,h=At(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.oc.get(p),e.next=20,AS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,a_(i.localStore,c);case 36:return y=e.sent,e.next=39,t_(i.localStore,y);case 39:return l=e.sent,e.next=42,eS(i,VS(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jS.apply(this,arguments)}function VS(e){return xg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function US(e){var t=Jv(e);return Jv(Jv(t.localStore).persistence).Si()}function zS(e,t,n,r){return BS.apply(this,arguments)}function BS(){return BS=gn(vn().mark((function e(t,n,r,i){var a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Jv(t)).wc){e.next=3;break}return e.abrupt("return",void Gv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,o_(a.localStore,Mg(o[0]));case 10:return u=e.sent,s=Mk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,iy.EMPTY_BYTE_STRING),e.next=14,IS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,n_(a.localStore,n,!0);case 17:return kS(a,n,i),e.abrupt("break",20);case 19:Xv();case 20:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t,n){return ZS.apply(this,arguments)}function ZS(){return ZS=gn(vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=KS(t)).wc){e.next=45;break}a=At(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return Gv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,a_(i.localStore,u);case 12:return s=e.sent,e.next=15,t_(i.localStore,s);case 15:return c=e.sent,e.next=18,eS(i,VS(s),c.targetId,!1,c.resumeToken);case 18:Z_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=At(r),e.prev=30,h=vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,n_(i.localStore,t,!1).then((function(){K_(i.remoteStore,t),kS(i,t)})).catch(Rm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ZS.apply(this,arguments)}function KS(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cS.bind(null,t),t.rc.Ho=jI.bind(null,t.eventManager),t.rc.gc=VI.bind(null,t.eventManager),t}function HS(e){var t=Jv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dS.bind(null,t),t}function GS(e,t,n){var r=Jv(e);(function(){var e=gn(vn().mark((function e(t,n,r){var i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Jv(e),r=Yk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(KI(i)),a=new ZI(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,IS(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=Jv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Qv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var WS=function(){function e(){It(this,e),this.synchronizeTabs=!1}return Tt(e,[{key:"initialize",value:function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=O_(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return Gx(this.persistence,new Kx,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new Rx(Mx.qs,this.Tt)}},{key:"Ic",value:function(e){return new w_}},{key:"terminate",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QS=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).Pc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Tt(n,[{key:"initialize",value:function(){var e=gn(vn().mark((function e(t){var r=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(Dt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Pc.initialize(this,t);case 4:return e.next=6,HS(this.Pc.syncEngine);case 6:return e.next=8,uI(this.Pc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return Gx(this.persistence,new Kx,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new fx(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Gm(t,this.persistence);return new Hm(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$w.withCacheSize(this.cacheSizeBytes):$w.DEFAULT;return new Ux(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,N_(),P_(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new w_}}]),n}(WS),$S=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r,!1)).Pc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Tt(n,[{key:"initialize",value:function(){var e=gn(vn().mark((function e(t){var r,i=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(Dt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Pc.syncEngine,e.t0=this.sharedClientState instanceof b_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:DS.bind(null,r),Lr:zS.bind(null,r),qr:qS.bind(null,r),Si:US.bind(null,r),Fr:PS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LS(i.Pc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=N_();if(!b_.C(t))throw new tm(em.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new b_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(QS),XS=function(){function e(){It(this,e)}return Tt(e,[{key:"initialize",value:function(){var e=gn(vn().mark((function e(t,n){var r=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ES.bind(null,this.syncEngine),e.next=12,_I(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new DI}},{key:"createDatastore",value:function(e){var t,n=O_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new A_(t));return function(e,t,n,r){return new F_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sS(o.syncEngine,e,0)},a=__.C()?new __:new x_,new V_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new XI(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jv(t),Gv("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,B_(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function YS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return gn(vn().mark((function r(){var i;return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var JS=function(){function e(t){It(this,e),this.observer=t,this.muted=!1}return Tt(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Wv("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),eE=function(){function e(t,n){var r=this;It(this,e),this.Vc=t,this.Tt=n,this.metadata=new nm,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return Tt(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=gn(vn().mark((function e(){var t,n,r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new BI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=gn(vn().mark((function e(){var t,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=gn(vn().mark((function e(){var t,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tE=function(){function e(t){It(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Tt(e,[{key:"lookup",value:function(){var e=gn(vn().mark((function e(t){var n,r=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new tm(em.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=gn(vn().mark((function e(t,n){var r,i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=ab(r.Tt)+"/documents",a={documents:n.map((function(e){return tb(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=cb(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=gn(vn().mark((function e(){var t,n=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=xm.fromPath(t);n.mutations.push(new gk(r,n.precondition(r)))})),e.next=7,function(){var e=gn(vn().mark((function e(t,n){var r,i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jv(t),i=ab(r.Tt)+"/documents",a={writes:n.map((function(e){return lb(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xv();t=ym.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tm(em.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ym.min())?nk.exists(!1):nk.updateTime(t):nk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ym.min()))throw new tm(em.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nk.updateTime(t)}return nk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),nE=function(){function e(t,n,r,i,a){It(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new D_(this.asyncQueue,"transaction_retry")}return Tt(e,[{key:"run",value:function(){this.Mc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.ko.vo(gn(vn().mark((function t(){var n,r;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tE(e.datastore),(r=e.Fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Fc",value:function(e){try{var t=this.updateFunction(e);return!ey(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bk(t)}return!1}}]),e}(),rE=function(){function e(t,n,r,i){var a=this;It(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qv.UNAUTHENTICATED,this.clientId=hm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Gv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Tt(e,[{key:"getConfiguration",value:function(){var e=gn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(gn(vn().mark((function n(){var r;return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=CI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Wx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=gn(vn().mark((function e(t,n){var r,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sE(t);case 3:return r=e.sent,Gv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e){return cE.apply(this,arguments)}function cE(){return cE=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Gv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,iE(t,new WS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e){return fE.apply(this,arguments)}function fE(){return fE=gn(vn().mark((function e(t){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Gv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,oE(t,new XS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e){return sE(e).then((function(e){return e.persistence}))}function dE(e){return sE(e).then((function(e){return e.localStore}))}function pE(e){return lE(e).then((function(e){return e.remoteStore}))}function vE(e){return lE(e).then((function(e){return e.syncEngine}))}function mE(e){return lE(e).then((function(e){return e.datastore}))}function yE(e){return gE.apply(this,arguments)}function gE(){return gE=gn(vn().mark((function e(t){var n,r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=YI.bind(null,n.syncEngine),r.onUnlisten=nS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function i(){return vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JS({next:function(a){t.enqueueAndForget((function(){return MI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new tm(em.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zI(_g(n.path),a,{includeMetadataChanges:!0,$u:!0});return RI(e,o)},i.next=3,yE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function i(){return vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JS({next:function(n){t.enqueueAndForget((function(){return MI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zI(n,a,{includeMetadataChanges:!0,$u:!0});return RI(e,o)},i.next=3,yE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var wE=new Map;function xE(e,t,n){if(!n)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _E(e,t,n,r){if(!0===t&&!0===r)throw new tm(em.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IE(e){if(!xm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function SE(e){if(xm.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function EE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xv()}function TE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tm(em.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=EE(e);throw new tm(em.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function CE(e,t){if(t<=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var AE=function(){function e(t){var n;if(It(this,e),void 0===t.host){if(void 0!==t.ssl)throw new tm(em.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tm(em.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_E("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Tt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),NE=function(){function e(t,n,r,i){It(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1}return Tt(e,[{key:"app",get:function(){if(!this._app)throw new tm(em.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new im;switch(e.type){case"gapi":var t=e.client;return new sm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tm(em.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wE.get(e);t&&(Gv("ComponentProvider","Removing Datastore"),wE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=TE(e,NE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Qv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=qv.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bt(JSON.stringify({alg:"none",type:"JWT"})),Bt(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new tm(em.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qv(s)}e._authCredentials=new am(new rm(o,u))}}var OE=function(){function e(t,n,r){It(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Tt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new RE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),DE=function(){function e(t,n,r){It(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Tt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),RE=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this,e,r,_g(i)))._path=i,a.type="collection",a}return Tt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new OE(this.firestore,null,new xm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(DE);function LE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pn(e),xE("collection","path",t),e instanceof NE){var a=km.fromString.apply(km,[t].concat(r));return SE(a),new RE(e,null,a)}if(!(e instanceof OE||e instanceof RE))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(km.fromString.apply(km,[t].concat(r)));return SE(o),new RE(e.firestore,null,o)}function ME(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pn(e),1===arguments.length&&(t=hm.R()),xE("doc","path",t),e instanceof NE){var a=km.fromString.apply(km,[t].concat(r));return IE(a),new OE(e,null,new xm(a))}if(!(e instanceof OE||e instanceof RE))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(km.fromString.apply(km,[t].concat(r)));return IE(o),new OE(e.firestore,e instanceof RE?e.converter:null,new xm(o))}function FE(e,t){return e=pn(e),t=pn(t),(e instanceof OE||e instanceof RE)&&(t instanceof OE||t instanceof RE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jE(e,t){return e=pn(e),t=pn(t),e instanceof DE&&t instanceof DE&&e.firestore===t.firestore&&Og(e._query,t._query)&&e.converter===t.converter}var VE=function(){function e(){var t=this;It(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new D_(this,"async_queue_retry"),this.Hc=function(){var e=P_();e&&Gv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=P_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return Tt(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=P_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new nm;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=gn(vn().mark((function e(){var t=this;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),zm(e.t0)){e.next=12;break}throw e.t0;case 12:Gv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=TI.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Xv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=gn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=At(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=At(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function UE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=At(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var zE=function(){function e(){It(this,e),this._progressObserver={},this._taskCompletionResolver=new nm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Tt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),BE=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a){var o;return It(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new VE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Tt(n,[{key:"_terminate",value:function(){return this._firestoreClient||ZE(this),this._firestoreClient.terminate()}}]),n}(NE);function qE(e){return e._firestoreClient||ZE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Qm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KE(e,t,n){var r=new nm;return e.asyncQueue.enqueue(gn(vn().mark((function i(){var a;return vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,iE(e,n);case 3:return i.next=5,oE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===em.FAILED_PRECONDITION||e.code===em.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Qv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HE(e){return function(e){return e.asyncQueue.enqueue(gn(vn().mark((function t(){var n,r;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hE(e);case 2:return n=t.sent,t.next=5,pE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Jv(e);return t.mu.delete(0),U_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qE(e=TE(e,BE)))}function GE(e){return function(e){return e.asyncQueue.enqueue(gn(vn().mark((function t(){var n,r;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hE(e);case 2:return n=t.sent,t.next=5,pE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jv(t)).mu.add(0),e.next=4,B_(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qE(e=TE(e,BE)))}function WE(e,t){var n=qE(e=TE(e,BE)),r=new zE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new eE(e,t)}(function(e,t){if(e instanceof Uint8Array)return YS(e,t);if(e instanceof ArrayBuffer)return YS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,O_(t));e.asyncQueue.enqueueAndForget(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GS,t.next=3,vE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function QE(e,t){return function(e,t){return e.asyncQueue.enqueue(gn(vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Jv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$s.getNamedQuery(e,t)}))},n.next=3,dE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qE(e=TE(e,BE)),t).then((function(t){return t?new DE(e,null,t.query):null}))}function $E(e){if(e._initialized||e._terminated)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var XE=function(){function e(t){It(this,e),this._byteString=t}return Tt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(iy.fromBase64String(t))}catch(t){throw new tm(em.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(iy.fromUint8Array(t))}}]),e}(),YE=function(){function e(){It(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new tm(em.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wm(n)}return Tt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var JE=Tt((function e(t){It(this,e),this._methodName=t})),eT=function(){function e(t,n){if(It(this,e),!isFinite(t)||t<-90||t>90)throw new tm(em.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tm(em.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Tt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return dm(this._lat,e._lat)||dm(this._long,e._long)}}]),e}(),tT=/^__.*__$/,nT=function(){function e(t,n,r){It(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Tt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fk(e,this.data,this.fieldMask,t,this.fieldTransforms):new lk(e,this.data,t,this.fieldTransforms)}}]),e}(),rT=function(){function e(t,n,r){It(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Tt(e,[{key:"toMutation",value:function(e,t){return new fk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function iT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xv()}}var aT=function(){function e(t,n,r,i,a,o){It(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Tt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return ST(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(iT(this.ra)&&tT.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),oT=function(){function e(t,n,r){It(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||O_(t)}return Tt(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new aT({ra:e,methodName:t,_a:n,path:wm.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function uT(e){var t=e._freezeSettings(),n=O_(e._databaseId);return new oT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);wT("Data must be an object, but it was:",o,r);var u,s,c=kT(r,o);if(a.merge)u=new cg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=At(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=xT(t,l.value,n);if(!o.contains(d))throw new tm(em.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));ET(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new cg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new nT(new lg(c),u,s)}var cT=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JE);function lT(e,t,n){return new aT({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var fT=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"_toFieldTransform",value:function(e){return new ek(e.path,new Hg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JE),hT=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e)).ma=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=lT(this,e,!0),n=this.ma.map((function(e){return gT(e,t)})),r=new Gg(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JE),dT=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e)).ma=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=lT(this,e,!0),n=this.ma.map((function(e){return gT(e,t)})),r=new Qg(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JE),pT=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e)).ga=r,i}return Tt(n,[{key:"_toFieldTransform",value:function(e){var t=new Xg(e.Tt,zg(e.Tt,this.ga));return new ek(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JE);function vT(e,t,n,r){var i=e.wa(1,t,n);wT("Data must be an object, but it was:",i,r);var a=[],o=lg.empty();Ym(r,(function(e,r){var u=IT(t,e,n);r=pn(r);var s=i.ha(u);if(r instanceof cT)a.push(u);else{var c=gT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new cg(a);return new rT(o,u,i.fieldTransforms)}function mT(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[xT(t,r,n)],s=[i];if(a.length%2!=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(xT(t,a[c])),s.push(a[c+1]);for(var l=[],f=lg.empty(),h=u.length-1;h>=0;--h)if(!ET(l,u[h])){var d=u[h],p=s[h];p=pn(p);var v=o.ha(d);if(p instanceof cT)l.push(d);else{var m=gT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new cg(l);return new rT(f,y,o.fieldTransforms)}function yT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gT(n,e.wa(r?4:3,t))}function gT(e,t){if(bT(e=pn(e)))return wT("Unsupported field value:",t,e),kT(e,t);if(e instanceof JE)return function(e,t){if(!iT(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=At(e);try{for(a.s();!(n=a.n()).done;){var o=gT(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zg(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mm.fromDate(e);return{timestampValue:Qk(t.Tt,n)}}if(e instanceof mm){var r=new mm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qk(t.Tt,r)}}if(e instanceof eT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XE)return{bytesValue:$k(t.Tt,e._byteString)};if(e instanceof OE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Jk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(EE(e)))}(e,t)}function kT(e,t){var n={};return Jm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ym(e,(function(e,r){var i=gT(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function bT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mm||e instanceof eT||e instanceof XE||e instanceof OE||e instanceof JE)}function wT(e,t,n){if(!bT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=EE(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function xT(e,t,n){if((t=pn(t))instanceof YE)return t._internalPath;if("string"==typeof t)return IT(e,t);throw ST("Field path arguments must be of type string or ",e,!1,void 0,n)}var _T=new RegExp("[~\\*/\\[\\]]");function IT(e,t,n){if(t.search(_T)>=0)throw ST("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ft(YE,(0,mn.Z)(t.split(".")))._internalPath}catch(R){throw ST("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ST(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new tm(em.INVALID_ARGUMENT,u+e+s)}function ET(e,t){return e.some((function(e){return e.isEqual(t)}))}var TT=function(){function e(t,n,r,i,a){It(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Tt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new OE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new CT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),CT=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){return Ei(Dt(n.prototype),"data",this).call(this)}}]),n}(TT);function AT(e,t){return"string"==typeof t?IT(e,t):t instanceof YE?t._internalPath:t._delegate._internalPath}function NT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tm(em.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var PT=Tt((function e(){It(this,e)})),OT=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n)}(PT);function DT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof PT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof LT})).length,n=e.filter((function(e){return e instanceof RT})).length;if(t>1||t>0&&n>0)throw new tm(em.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=At(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var RT=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Tt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return GT(e._query,t),new DE(e.firestore,e.converter,Ng(e._query,t))}},{key:"_parse",value:function(e){var t=uT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HT(o,a);var s,c=[],l=At(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(KT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=KT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HT(o,a),u=yT(n,"where",o,"in"===a||"not-in"===a);return Fy.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(OT);var LT=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Tt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:jy.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=At(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;GT(r,a),r=Ng(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new DE(e.firestore,e.converter,Ng(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(PT);var MT=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Tt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tg(t,n);return function(e,t){if(null===Sg(e)){var n=Eg(e);null!==n&&WT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new DE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(OT);var FT=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Tt(n,[{key:"_apply",value:function(e){return new DE(e.firestore,e.converter,Pg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(OT);var jT=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Tt(n,[{key:"_apply",value:function(e){var t=ZT(e,this.type,this._docOrFields,this._inclusive);return new DE(e.firestore,e.converter,function(e,t){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(OT);function VT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jT._create("startAt",t,!0)}function UT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jT._create("startAfter",t,!1)}var zT=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i){var a;return It(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Tt(n,[{key:"_apply",value:function(e){var t=ZT(e,this.type,this._docOrFields,this._inclusive);return new DE(e.firestore,e.converter,function(e,t){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(OT);function BT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zT._create("endBefore",t,!1)}function qT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zT._create("endAt",t,!0)}function ZT(e,t,n,r){if(n[0]=pn(n[0]),n[0]instanceof TT)return function(e,t,n,r,i){if(!r)throw new tm(em.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=At(Cg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(wy(t,r.key));else{var c=r.data.field(s.field);if(cy(c))throw new tm(em.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new tm(em.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Dy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=uT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new tm(em.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new tm(em.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Tg(e)&&-1!==c.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(km.fromString(c));if(!xm.isDocumentKey(l))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new xm(l);u.push(wy(t,f))}else{var h=yT(n,r,c);u.push(h)}}return new Dy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KT(e,t,n){if("string"==typeof(n=pn(n))){if(""===n)throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tg(t)&&-1!==n.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(km.fromString(n));if(!xm.isDocumentKey(r))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return wy(e,new xm(r))}if(n instanceof OE)return wy(e,n._key);throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(EE(n),"."))}function HT(e,t){if(!Array.isArray(e)||0===e.length)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function GT(e,t){if(t.isInequality()){var n=Eg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new tm(em.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Sg(e);null!==i&&WT(e,r,i)}var a=function(e,t){var n,r=At(e);try{for(r.s();!(n=r.n()).done;){var i,a=At(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function WT(e,t,n){if(!n.isEqual(t))throw new tm(em.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var QT=function(){function e(){It(this,e)}return Tt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(py(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ym(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new eT(uy(e.latitude),uy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ly(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=oy(e);return new mm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=km.fromString(e);Yv(_b(n));var r=new $m(n.get(1),n.get(3)),i=new xm(n.popFirst(5));return r.isEqual(t)||Wv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $T(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var XT=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new XE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OE(this.firestore,null,t)}}]),n}(QT);var YT=function(){function e(t,n){It(this,e),this.hasPendingWrites=t,this.fromCache=n}return Tt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JT=function(e){Ot(n,e);var t=Mt(n);function n(e,r,i,a,o,u){var s;return It(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Tt(n,[{key:"exists",value:function(){return Ei(Dt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new eC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(TT),eC=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ei(Dt(n.prototype),"data",this).call(this,e)}}]),n}(JT),tC=function(){function e(t,n,r,i){It(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YT(i.hasPendingWrites,i.fromCache),this.query=r}return Tt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new eC(n._firestore,n._userDataWriter,r.key,r,new YT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tm(em.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new eC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new eC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:nC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function nC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xv()}}function rC(e,t){return e instanceof JT&&t instanceof JT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tC&&t instanceof tC&&e._firestore===t._firestore&&jE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var iC=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new XE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OE(this.firestore,null,t)}}]),n}(QT);function aC(e){e=TE(e,OE);var t=TE(e.firestore,BE),n=qE(t),r=new iC(t);return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function r(){return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=gn(vn().mark((function e(t,n,r){var i,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Jv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new tm(em.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=CI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JT(t,r,e._key,n,new YT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function oC(e){e=TE(e,DE);var t=TE(e.firestore,BE),n=qE(t),r=new iC(t);return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function r(){return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=gn(vn().mark((function e(t,n,r){var i,a,o,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i_(t,n,!0);case 3:i=e.sent,a=new WI(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=CI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new tC(t,r,e,n)}))}function uC(e,t,n){e=TE(e,OE);var r=TE(e.firestore,BE),i=$T(e.converter,t,n);return fC(r,[sT(uT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nk.none())])}function sC(e,t,n){e=TE(e,OE);for(var r=TE(e.firestore,BE),i=uT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return fC(r,[("string"==typeof(t=pn(t))||t instanceof YE?mT(i,"updateDoc",e._key,t,n,o):vT(i,"updateDoc",e._key,t)).toMutation(e._key,nk.exists(!0))])}function cC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=pn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof OE)l=TE(e.firestore,BE),f=_g(e._key.path),c={next:function(t){n[s]&&n[s](hC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=TE(e,DE);l=TE(p.firestore,BE),f=p._query;var v=new iC(l);c={next:function(e){n[s]&&n[s](new tC(l,v,p,e))},error:n[s+1],complete:n[s+2]},NT(e._query)}return function(e,t,n,r){var i=new JS(r),a=new zI(t,i,n);return e.asyncQueue.enqueueAndForget(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RI,t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MI,t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qE(l),f,h,c)}function lC(e,t){return function(e,t){var n=new JS(t);return e.asyncQueue.enqueueAndForget(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).vu.add(t),t.next()},t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(gn(vn().mark((function t(){return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jv(e).vu.delete(t)},t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qE(e=TE(e,BE)),UE(t)?t:{next:t})}function fC(e,t){return function(e,t){var n=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function r(){return vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=iS,r.next=3,vE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qE(e),t)}function hC(e,t,n){var r=n.docs.get(t._key),i=new iC(e);return new JT(e,i,t._key,r,new YT(n.hasPendingWrites,n.fromCache),t.converter)}var dC={maxAttempts:5},pC=function(){function e(t,n){It(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uT(t)}return Tt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=vC(e,this._firestore),i=$T(r.converter,t,n),a=sT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=vC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pn(t))||t instanceof YE?mT(this._dataReader,"WriteBatch.update",i._key,t,n,o):vT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=vC(e,this._firestore);return this._mutations=this._mutations.concat(new yk(t._key,nk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new tm(em.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function vC(e,t){if((e=pn(e)).firestore!==t)throw new tm(em.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var mC=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r))._firestore=e,i}return Tt(n,[{key:"get",value:function(e){var t=this,r=vC(e,this._firestore),i=new iC(this._firestore);return Ei(Dt(n.prototype),"get",this).call(this,e).then((function(e){return new JT(t._firestore,i,r._key,e._document,new YT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){It(this,e),this._firestore=t,this._transaction=n,this._dataReader=uT(t)}return Tt(e,[{key:"get",value:function(e){var t=this,n=vC(e,this._firestore),r=new XT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xv();var i=e[0];if(i.isFoundDocument())return new TT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new TT(t._firestore,r,n._key,null,n.converter);throw Xv()}))}},{key:"set",value:function(e,t,n){var r=vC(e,this._firestore),i=$T(r.converter,t,n),a=sT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=vC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pn(t))||t instanceof YE?mT(this._dataReader,"Transaction.update",i._key,t,n,o):vT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=vC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function yC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hT("arrayUnion",t)}function gC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zv=e}(dr),or(new kn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new BE(new om(e.getProvider("auth-internal")),new lm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tm(em.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $m(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),kr(Bv,"3.9.0",e),kr(Bv,"3.9.0","esm2017")}();var kC="@firebase/firestore-compat",bC="0.3.5";function wC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function xC(){if("undefined"===typeof Uint8Array)throw new tm("unimplemented","Uint8Arrays are not available in this environment.")}function _C(){if("undefined"==typeof atob)throw new tm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var IC=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"toBase64",value:function(){return _C(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return xC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _C(),new e(XE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return xC(),new e(XE.fromUint8Array(t))}}]),e}();function SC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=At(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var EC=function(){function e(){It(this,e)}return Tt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$E(e=TE(e,BE));var n=qE(e),r=e._freezeSettings(),i=new XS;return KE(n,i,new QS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$E(e=TE(e,BE));var t=qE(e),n=e._freezeSettings(),r=new XS;return KE(t,r,new $S(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new tm(em.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new nm;return e._queue.enqueueAndForgetEvenWhileRestricted(gn(vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=gn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jm.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,jm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(qx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),TC=function(){function e(t,n,r){var i=this;It(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $m||(this._appCompat=t)}return Tt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return HE(this._delegate)}},{key:"disableNetwork",value:function(){return GE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_E("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=vS,n.next=3,vE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qE(e=TE(e,BE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return lC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new tm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new zC(this,LE(this._delegate,e))}catch(t){throw DC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new OC(this,ME(this._delegate,e))}catch(t){throw DC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jC(this,function(e,t){if(e=TE(e,NE),xE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new DE(e,null,function(e){return new wg(km.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw DC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=TE(e,BE);var r=Object.assign(Object.assign({},dC),n);return function(e){if(e.maxAttempts<1)throw new tm(em.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new nm;return e.asyncQueue.enqueueAndForget(gn(vn().mark((function i(){var a;return vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,mE(e);case 2:a=i.sent,new nE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qE(e),(function(n){return t(new mC(e,n))}),r)}(this._delegate,(function(n){return e(new AC(t,n))}))}},{key:"batch",value:function(){var e=this;return qE(this._delegate),new NC(new pC(this._delegate,(function(t){return fC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return QE(this._delegate,e).then((function(e){return e?new jC(t,e):null}))}}]),e}(),CC=function(e){Ot(n,e);var t=Mt(n);function n(e){var r;return It(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new IC(new XE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return OC.forKey(t,this.firestore,null)}}]),n}(QT);var AC=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new CC(t)}return Tt(e,[{key:"get",value:function(e){var t=this,n=BC(e);return this._delegate.get(n).then((function(e){return new MC(t._firestore,new JT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=BC(e);return n?(wC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=BC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=BC(e);return this._delegate.delete(t),this}}]),e}(),NC=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"set",value:function(e,t,n){var r=BC(e);return n?(wC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=BC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=BC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),PC=function(){function e(t,n,r){It(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Tt(e,[{key:"fromFirestore",value:function(e,t){var n=new eC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new CC(t),n),i.set(n,a)),a}}]),e}();PC.INSTANCES=new WeakMap;var OC=function(){function e(t,n){It(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CC(t)}return Tt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new zC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new zC(this.firestore,LE(this._delegate,e))}catch(t){throw DC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=pn(e))instanceof OE&&FE(this._delegate,e)}},{key:"set",value:function(e,t){t=wC("DocumentReference.set",t);try{return t?uC(this._delegate,e,t):uC(this._delegate,e)}catch(n){throw DC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sC(this._delegate,e):sC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw DC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return fC(TE(e.firestore,BE),[new yk(e._key,nk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RC(n),a=LC(n,(function(t){return new MC(e.firestore,new JT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return cC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=TE(e,OE);var t=TE(e.firestore,BE);return kE(qE(t),e._key,{source:"server"}).then((function(n){return hC(t,e,n)}))}(this._delegate):function(e){e=TE(e,OE);var t=TE(e.firestore,BE);return kE(qE(t),e._key).then((function(n){return hC(t,e,n)}))}(this._delegate),t.then((function(e){return new MC(n.firestore,new JT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new tm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new OE(n._delegate,r,new xm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new OE(n._delegate,r,t))}}]),e}();function DC(e,t,n){return e.message=e.message.replace(t,n),e}function RC(e){var t,n=At(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!SC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function LC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=SC(e[0])?e[0]:SC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var MC=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"ref",get:function(){return new OC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return rC(this._delegate,e._delegate)}}]),e}(),FC=function(e){Ot(n,e);var t=Mt(n);function n(){return It(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xv()}(void 0!==t),t}}]),n}(MC),jC=function(){function e(t,n){It(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new CC(t)}return Tt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,DT(this._delegate,function(e,t,n){var r=t,i=AT("where",e);return RT._create(i,r,n)}(t,n,r)))}catch(i){throw DC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,DT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=AT("orderBy",e);return MT._create(n,t)}(t,n)))}catch(r){throw DC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,DT(this._delegate,function(e){return CE("limit",e),FT._create("limit",e,"F")}(t)))}catch(n){throw DC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,DT(this._delegate,function(e){return CE("limitToLast",e),FT._create("limitToLast",e,"L")}(t)))}catch(n){throw DC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,DT(this._delegate,VT.apply(void 0,arguments)))}catch(t){throw DC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,DT(this._delegate,UT.apply(void 0,arguments)))}catch(t){throw DC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,DT(this._delegate,BT.apply(void 0,arguments)))}catch(t){throw DC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,DT(this._delegate,qT.apply(void 0,arguments)))}catch(t){throw DC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=TE(e,DE);var t=TE(e.firestore,BE),n=qE(t),r=new iC(t);return bE(n,e._query,{source:"server"}).then((function(n){return new tC(t,r,e,n)}))}(this._delegate):function(e){e=TE(e,DE);var t=TE(e.firestore,BE),n=qE(t),r=new iC(t);return NT(e._query),bE(n,e._query).then((function(n){return new tC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new UC(n.firestore,new tC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RC(n),a=LC(n,(function(t){return new UC(e.firestore,new tC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return cC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),VC=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),UC=function(){function e(t,n){It(this,e),this._firestore=t,this._delegate=n}return Tt(e,[{key:"query",get:function(){return new jC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new VC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return rC(this._delegate,e._delegate)}}]),e}(),zC=function(e){Ot(n,e);var t=Mt(n);function n(e,r){var i;return It(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Tt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new OC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new OC(this.firestore,void 0===e?ME(this._delegate):ME(this._delegate,e))}catch(t){throw DC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=TE(e.firestore,BE),r=ME(e),i=$T(e.converter,t);return fC(n,[sT(uT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new OC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return FE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(PC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jC);function BC(e){return TE(e,OE)}var qC=function(){function e(){It(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ft(YE,n)}return Tt(e,[{key:"isEqual",value:function(e){return(e=pn(e))instanceof YE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(wm.keyField().canonicalString())}}]),e}(),ZC=function(){function e(t){It(this,e),this._delegate=t}return Tt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new fT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new cT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new pT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KC={Firestore:TC,GeoPoint:eT,Timestamp:mm,Blob:IC,Transaction:AC,WriteBatch:NC,DocumentReference:OC,DocumentSnapshot:MC,Query:jC,QueryDocumentSnapshot:FC,QuerySnapshot:UC,CollectionReference:zC,FieldPath:qC,FieldValue:ZC,setLogLevel:function(e){!function(e){Kv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new kn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KC)))}(e,(function(e,t){return new TC(e,t,new EC)})),e.registerVersion(kC,bC)}(Wr);var HC=Wr.initializeApp({apiKey:"AIzaSyDL0XLbf3sbIY9a7bZdnbKgy3PCOqxFkzw",authDomain:"linkdn-clone-ddbe4.firebaseapp.com",projectId:"linkdn-clone-ddbe4",storageBucket:"linkdn-clone-ddbe4.appspot.com",messagingSenderId:"495638652645",appId:"1:495638652645:web:81880137df26c826af560c",measurementId:"G-EG7F8GXX5N"}).firestore(),GC=Wr.auth();function WC(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}WC("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),WC("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var QC=WC("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),$C=WC("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),XC={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},YC={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},JC=XC,eA="elevator",tA="none",nA=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},rA=function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},iA=function(e){return(iA=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var aA=function(e){var t={};return function(n){return t[n]||(t[n]=e(n)),t[n]}}((function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()})),oA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},sA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cA=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},lA=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function fA(e){var n,r;return r=n=function(n){function r(){return uA(this,r),lA(this,n.apply(this,arguments))}return cA(r,n),r.prototype.checkChildren=function(e){},r.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,JC),enterAnimation:this.convertAnimationProp(e.enterAnimation,XC),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,YC),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(this.props,n);return r.style=sA({position:"relative"},r.style),t.delegated=r,t},r.prototype.convertTimingProp=function(e){var t=this.props[e],n="number"===typeof t?t:parseInt(t,10);return isNaN(n)?r.defaultProps[e]:n},r.prototype.convertAnimationProp=function(e,t){switch("undefined"===typeof e?"undefined":oA(e)){case"boolean":return t[e?eA:tA];case"string":return-1===Object.keys(t).indexOf(e)?t[eA]:t[e];default:return e}},r.prototype.render=function(){return t.createElement(e,this.convertProps(this.props))},r}(t.Component),n.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:eA,leaveAnimation:eA,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},r}function hA(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach((function(e){t.style.setProperty(aA(e),n[e])}))}var dA=function(e){var t=e.childDomNode,n={top:0,left:0,right:0,bottom:0,height:0,width:0},r=e.childBoundingBox||n,i=e.parentBoundingBox||n,a=(0,e.getPosition)(t),o=a.top-i.top,u=a.left-i.left;return[r.left-u,r.top-o]},pA=function(e,t){var n=t.delay,r=t.duration,i=t.staggerDurationBy,a=t.staggerDelayBy,o=t.easing;n+=e*a,r+=e*i;return["transform","opacity"].map((function(e){return e+" "+r+"ms "+o+" "+n+"ms"})).join(", ")},vA=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"===typeof document)return"";var t=document.createElement("fakeelement"),n=nA((function(e){return void 0!==t.style.getPropertyValue(e)}),Object.keys(e));return n?e[n]:""}(),mA=!vA;function yA(e){return e.key||""}function gA(e){return t.Children.toArray(e)}var kA=function(e){function n(){var t,r;uA(this,n);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=r=lA(this,e.call.apply(e,[this].concat(a))),r.state={children:gA(r.props?r.props.children:[]).map((function(e){return sA({},e,{element:e,appearing:!0})}))},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=o.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",QC()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map((function(e){return r.computeInitialStyles(e)}));e.forEach((function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(yA(e)),r.animateChild(e,n,t[n])})),"function"===typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!yA(e))return!1;var t=r.getChildData(yA(e)),n=t.domNode,i=t.boundingBox,a=r.parentData.boundingBox;if(!n)return!1;var o=r.props,u=o.appearAnimation,s=o.enterAnimation,c=o.leaveAnimation,l=o.getPosition,f=e.appearing&&u,h=e.entering&&s,d=e.leaving&&c;if(f||h||d)return!0;var p=dA({childDomNode:n,childBoundingBox:i,parentBoundingBox:a,getPosition:l}),v=p[0],m=p[1];return 0!==v||0!==m},lA(r,t)}return cA(n,e),n.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},n.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer();var t=gA(this.props.children).map((function(e){return e.key})),n=gA(e.children).map((function(e){return e.key})),r=!function(e,t){if(e===t)return!0;var n=!iA(e)||!iA(t),r=e.length!==t.length;return!n&&!r&&rA((function(e,n){return e===t[n]}),e)}(t,n)&&!this.isAnimationDisabled(this.props);r&&(this.prepForAnimation(),this.runAnimation())},n.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map((function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return sA({},e,{element:e,entering:r})})),r=0;return this.state.children.forEach((function(i,a){if(!nA((function(e){return e.key===yA(i)}),e)&&t.props.leaveAnimation){var o=sA({},i,{leaving:!0}),u=a+r;n.splice(u,0,o),r+=1}})),n},n.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,i=t.getPosition;n&&(this.state.children.filter((function(e){return e.leaving})).forEach((function(t){var n=e.getChildData(yA(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&$C(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var i=window.getComputedStyle(n),a=["margin-top","margin-left","margin-right"].reduce((function(e,t){var n,r=i.getPropertyValue(t);return sA({},e,((n={})[t]=Number(r.replace("px","")),n))}),{});hA({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-a["margin-top"]+"px",left:r.left-a["margin-left"]+"px",right:r.right-a["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)})),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,i=n.domNode,a=n.boundingBox;if(i&&a){hA({domNode:t,styles:{height:"0"}});var o=a.height-r(i).height;hA({domNode:t,styles:{height:o>0?o+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:i}));this.state.children.forEach((function(t){var n=e.getChildData(yA(t)).domNode;n&&(t.entering||t.leaving||hA({domNode:n,styles:{transition:""}}))}))},n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=gA(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map((function(e){return sA({},e,{element:e})})):this.calculateNextSetOfChildren(t)})},n.prototype.animateChild=function(e,t,n){var r=this,i=this.getChildData(yA(e)).domNode;i&&(hA({domNode:i,styles:n}),this.props.onStart&&this.props.onStart(e,i),requestAnimationFrame((function(){requestAnimationFrame((function(){var n={transition:pA(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=sA({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=sA({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=sA({},n,r.props.leaveAnimation.to)),hA({domNode:i,styles:n})}))})),this.bindTransitionEndHandler(e))},n.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(yA(e)).domNode;if(n){n.addEventListener(vA,(function r(i){i.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(vA,r),e.leaving&&t.removeChildData(yA(e)))}))}},n.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter((function(e){return!e.leaving})).map((function(e){return sA({},e,{element:e.element,appearing:!1,entering:!1})}));this.setState({children:r},(function(){"function"===typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]})),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},n.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach((function(e){var i=t.findChildByKey(e);i&&(n.push(i),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))})),e(n,r)},n.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach((function(r){var i=yA(r);if(i)if(e.hasChildData(i)){var a=e.getChildData(i);a.domNode&&r?n.push(function(e){var t=e.childDomNode,n=e.parentDomNode,r=e.getPosition,i=r(n),a=r(t),o=a.top,u=a.left,s=a.right,c=a.bottom,l=a.width,f=a.height;return{top:o-i.top,left:u-i.left,right:i.right-s,bottom:i.bottom-c,width:l,height:f}}({childDomNode:a.domNode,parentDomNode:t,getPosition:e.props.getPosition})):n.push(null)}else n.push(null);else n.push(null)})),this.state.children.forEach((function(t,r){var i=yA(t),a=n[r];i&&e.setChildData(i,{boundingBox:a})}))}},n.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?sA({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(yA(e)),n=t.domNode,r=t.boundingBox,i=this.parentData.boundingBox;if(!n)return{};var a=dA({childDomNode:n,childBoundingBox:r,parentBoundingBox:i,getPosition:this.props.getPosition});return{transform:"translate("+a[0]+"px, "+a[1]+"px)"}},n.prototype.isAnimationDisabled=function(e){return mA||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},n.prototype.findChildByKey=function(e){return nA((function(t){return yA(t)===e}),this.state.children)},n.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},n.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},n.prototype.setChildData=function(e,t){this.childrenData[e]=sA({},this.getChildData(e),t)},n.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState((function(t){return sA({},t,{children:t.children.filter((function(t){return t.element.key!==e}))})}))},n.prototype.createHeightPlaceholder=function(){var e=this,n=this.props.typeName,r="ul"===n||"ol"===n?"li":"div";return(0,t.createElement)(r,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},n.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map((function(n){return(0,t.cloneElement)(n.element,{ref:function(t){if(t){var r=function(e){if("undefined"===typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=(0,o.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(t);e.setChildData(yA(n),{domNode:r})}}})}))},n.prototype.render=function(){var e=this,n=this.props,r=n.typeName,i=n.delegated,a=n.leaveAnimation,o=n.maintainContainerHeight,u=this.childrenWithRefs();if(a&&o&&u.push(this.createHeightPlaceholder()),!r)return u;var s=sA({},i,{children:u,ref:function(t){e.parentData.domNode=t}});return(0,t.createElement)(r,s)},n}(t.Component),bA=fA(kA);var wA=function(){var e=v(wt),n=(0,t.useState)(""),r=(0,_t.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)([]),u=(0,_t.Z)(o,2),s=u[0],c=u[1];return(0,t.useEffect)((function(){HC.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),a("")}),[]),(0,$r.jsxs)("div",{className:"feed",children:[(0,$r.jsxs)("div",{className:"feed_inputContainer",children:[(0,$r.jsxs)("div",{className:"feed_input",children:[(0,$r.jsx)(Qr.Z,{}),(0,$r.jsxs)("form",{children:[(0,$r.jsx)("input",{value:i,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"Add a new post"}),(0,$r.jsx)("button",{onClick:function(t){t.preventDefault(),HC.collection("posts").add({name:e.displayName,description:e.email,message:i,photourl:"",timestamp:Wr.firestore.FieldValue.serverTimestamp()}),a("")},type:"submit",children:"Send"})]})]}),(0,$r.jsxs)("div",{className:"feed_inputOptions",children:[(0,$r.jsx)(Xr,{Icon:Yr.Z,title:"Photo",color:"#70B5F9"}),(0,$r.jsx)(Xr,{Icon:Jr.Z,title:"Video",color:"#E7A33E"}),(0,$r.jsx)(Xr,{Icon:ei.Z,title:"Event",color:"#C0CBCD"}),(0,$r.jsx)(Xr,{Icon:ti.Z,title:"Write article",color:"#7FC15E"})]})]}),(0,$r.jsx)(bA,{children:s.map((function(e){var t=e.id,n=e.data,r=n.name,i=n.description,a=n.message,o=n.photourl;return(0,$r.jsx)(xi,{name:r,description:i,messages:a,photourl:o},t)}))})]})},xA=n(5403),_A=n(7541),IA=n(2249),SA=n(7653),EA=n(52),TA=n(8128);var CA=function(e){var t=e.avatar,n=e.Icon,r=e.title,i=e.onClick,a=v(wt);return(0,$r.jsxs)("div",{className:"HeaderOptions",onClick:i,children:[n&&(0,$r.jsx)(n,{className:"HeaderOptions_icon"}),t&&(0,$r.jsx)(yi,{className:"HeaderOptions_icon",children:null===a||void 0===a?void 0:a.email[0]}),(0,$r.jsx)("h3",{className:"HeaderOptions_title",children:r})]})},AA=n(501);var NA=function(){v(wt);var e=I();return(0,$r.jsxs)("div",{className:"Header",children:[(0,$r.jsxs)("div",{className:"Header_left",children:[(0,$r.jsx)("img",{src:"linkedin.png",alt:""}),(0,$r.jsxs)("div",{className:"Header_search",children:[(0,$r.jsx)(xA.Z,{}),(0,$r.jsx)("input",{type:"text"})]})]}),(0,$r.jsxs)("div",{className:"Header_right",children:[(0,$r.jsx)(CA,{Icon:_A.Z,title:"Home"}),(0,$r.jsx)(CA,{Icon:IA.Z,title:"My Network"}),(0,$r.jsx)(CA,{Icon:SA.Z,title:"Jobs"}),(0,$r.jsx)(CA,{Icon:EA.Z,title:"Messaging"}),(0,$r.jsx)(CA,{Icon:TA.Z,title:"Notifications"}),(0,$r.jsx)(CA,{className:"pic",avatar:AA.Z,title:"Me",onClick:function(){e(bt()),GC.signOut()}})]})]})};var PA=function(){var e=v(wt),t=function(e){return(0,$r.jsxs)("div",{className:"sidebar__recent-item",children:[(0,$r.jsx)("span",{className:"sidebar_hashtag",children:"#"}),(0,$r.jsx)("p",{children:e})]})};return(0,$r.jsxs)("div",{className:"sidebar",children:[(0,$r.jsxs)("div",{className:"sidebar__top",children:[(0,$r.jsx)("img",{src:"background.avif",alt:""}),(0,$r.jsx)(yi,{src:"",className:"sidebar__avatar",children:e.email[0]}),(0,$r.jsx)("h2",{children:e.displayName}),(0,$r.jsx)("h4",{children:e.email}),(0,$r.jsxs)("div",{className:"sidebar__stats",children:[(0,$r.jsxs)("div",{className:"sidebar__stats-item",children:[(0,$r.jsx)("p",{children:"Who viewed you"}),(0,$r.jsx)("p",{className:"sidebar__stats-item-value",children:"344"})]}),(0,$r.jsxs)("div",{className:"sidebar__stats-item",children:[(0,$r.jsx)("p",{children:"Views on post"}),(0,$r.jsx)("p",{className:"sidebar__stats-item-value",children:"123"})]})]})]}),(0,$r.jsxs)("div",{className:"sidebar__bottom",children:[(0,$r.jsx)("p",{children:"Recent"}),t("Programming"),t("JavaScript"),t("ReactJs"),t("SoftwareEnginerring")]})]})};var OA=function(){var e=(0,t.useState)(""),n=(0,_t.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)(""),o=(0,_t.Z)(a,2),u=o[0],s=o[1],c=(0,t.useState)(""),l=(0,_t.Z)(c,2),f=l[0],h=l[1],d=I();return(0,$r.jsxs)("div",{className:"login",children:[(0,$r.jsx)("img",{src:"linkedin3.png",alt:""}),(0,$r.jsxs)("form",{children:[(0,$r.jsx)("input",{type:"text",value:f,onChange:function(e){return h(e.target.value)},placeholder:"Full name (required)"}),(0,$r.jsx)("input",{type:"email",value:r,onChange:function(e){return i(e.target.value)},placeholder:"Email"}),(0,$r.jsx)("input",{type:"password",value:u,onChange:function(e){return s(e.target.value)},placeholder:"Password"}),(0,$r.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),GC.signInWithEmailAndPassword(r,u).then((function(e){d(kt({email:e.user.email,name:e.user.displayName,uid:e.user.uid}))})).catch((function(e){alert(e.message)}))},children:"Login"})]}),(0,$r.jsxs)("p",{children:["Not a member? ",(0,$r.jsx)("span",{className:"lregister",onClick:function(){f?GC.createUserWithEmailAndPassword(r,u).then((function(e){e.user.updateProfile({displayName:f}).then((function(){d(kt({email:e.user.email,name:e.user.displayName,uid:e.user.uid}))})).catch((function(e){alert(e.message)}))})):alert("Please enter a name")},children:"Register Now"})]})]})},DA=n(5584),RA=n(7267);var LA=function(){var e=function(e){var t=e.heading,n=e.subtitle;return(0,$r.jsxs)("div",{className:"news_article",children:[(0,$r.jsx)("div",{className:"widgets_left",children:(0,$r.jsx)(RA.Z,{})}),(0,$r.jsxs)("div",{className:"widgets_right",children:[(0,$r.jsx)("h4",{children:t}),(0,$r.jsx)("p",{children:n})]})]})};return(0,$r.jsxs)("div",{className:"widgets",children:[(0,$r.jsxs)("div",{className:"widget_header",children:[(0,$r.jsx)("h2",{children:"LinkedIn News"}),(0,$r.jsx)(DA.Z,{})]}),(0,$r.jsx)(e,{heading:"Learn react with me",subtitle:"9099 readers"}),(0,$r.jsx)(e,{heading:"Learn Node js with me",subtitle:"949 readers"}),(0,$r.jsx)(e,{heading:"Tesla hits new highs",subtitle:"543 readers"}),(0,$r.jsx)(e,{heading:"is redux too good?",subtitle:"24342 readers"}),(0,$r.jsx)(e,{heading:"Learn react with me",subtitle:"9099 readers"}),(0,$r.jsx)(e,{heading:"Learn react with me",subtitle:"9099 readers"}),(0,$r.jsx)(e,{heading:"Learn react with me",subtitle:"9099 readers"}),(0,$r.jsx)(e,{heading:"Learn react with me",subtitle:"9099 readers"})]})};var MA=function(){var e=v(wt),n=I();return(0,t.useEffect)((function(){GC.onAuthStateChanged((function(e){n(e?kt({uid:e.uid,email:e.email,displayName:e.displayName}):bt)}))}),[]),(0,$r.jsxs)("div",{className:"App",children:[(0,$r.jsx)(NA,{}),e?(0,$r.jsxs)("div",{className:"App_body",children:[(0,$r.jsx)(PA,{}),(0,$r.jsx)(wA,{}),(0,$r.jsx)(LA,{})]}):(0,$r.jsx)(OA,{})]})},FA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},jA=document.getElementById("root");(0,r.s)(jA).render((0,$r.jsx)(t.StrictMode,{children:(0,$r.jsx)(k,{store:xt,children:(0,$r.jsx)(MA,{})})})),FA()}()}();
//# sourceMappingURL=main.c8b32ecc.js.map