{"ast":null,"code":"import _slicedToArray from\"/Users/simrank/Desktop/react/linkedin-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import firebase from\"firebase/compat/app\";import React,{useState,useEffect}from'react';import\"./Feed.css\";import CreateIcon from'@mui/icons-material/Create';import InputOptions from'./InputOptions';import ImageIcon from'@mui/icons-material/Image';import SubscriptionsIcon from'@mui/icons-material/Subscriptions';import EventNoteIcon from'@mui/icons-material/EventNote';import CalendarViewDayIcon from'@mui/icons-material/CalendarViewDay';import Post from'./Post';import{db,auth}from'./firebase';import{useSelector}from'react-redux';import{selectUser}from'./userSlice';import FlipMove from\"react-flip-move\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Feed(){var user=useSelector(selectUser);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){db.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setPosts(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});setInput(\"\");},[]);var sendPosts=function sendPosts(e){e.preventDefault();db.collection(\"posts\").add({name:user.displayName,description:user.email,message:input,// use the current value of input\nphotourl:'',timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"feed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed_inputContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed_input\",children:[/*#__PURE__*/_jsx(CreateIcon,{}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},type:\"text\",placeholder:\"Add a new post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendPosts,type:\"submit\",children:\"Send\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feed_inputOptions\",children:[/*#__PURE__*/_jsx(InputOptions,{Icon:ImageIcon,title:\"Photo\",color:\"#70B5F9\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:SubscriptionsIcon,title:\"Video\",color:\"#E7A33E\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:EventNoteIcon,title:\"Event\",color:\"#C0CBCD\"}),/*#__PURE__*/_jsx(InputOptions,{Icon:CalendarViewDayIcon,title:\"Write article\",color:\"#7FC15E\"})]})]}),/*#__PURE__*/_jsx(FlipMove,{children:posts.map(function(_ref){var id=_ref.id,_ref$data=_ref.data,name=_ref$data.name,description=_ref$data.description,message=_ref$data.message,photourl=_ref$data.photourl;return/*#__PURE__*/_jsx(Post,{name:name,description:description,messages:message,photourl:photourl},id);})})]});}export default Feed;","map":{"version":3,"names":["firebase","React","useState","useEffect","CreateIcon","InputOptions","ImageIcon","SubscriptionsIcon","EventNoteIcon","CalendarViewDayIcon","Post","db","auth","useSelector","selectUser","FlipMove","jsx","_jsx","jsxs","_jsxs","Feed","user","_useState","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","posts","setPosts","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","sendPosts","e","preventDefault","add","name","displayName","description","email","message","photourl","timestamp","firestore","FieldValue","serverTimestamp","className","children","value","onChange","target","type","placeholder","onClick","Icon","title","color","_ref","_ref$data","messages"],"sources":["/Users/simrank/Desktop/react/linkedin-clone/src/Feed.js"],"sourcesContent":["import firebase from \"firebase/compat/app\";\nimport React, {useState,useEffect} from 'react';\nimport \"./Feed.css\";\nimport CreateIcon from '@mui/icons-material/Create';\nimport InputOptions from './InputOptions';\nimport ImageIcon from '@mui/icons-material/Image';\nimport SubscriptionsIcon from '@mui/icons-material/Subscriptions';\nimport EventNoteIcon from '@mui/icons-material/EventNote';\nimport CalendarViewDayIcon from '@mui/icons-material/CalendarViewDay';\nimport Post from './Post';\nimport { db, auth } from './firebase';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from './userSlice';\nimport FlipMove from \"react-flip-move\";\n\nfunction Feed() {\n    const user= useSelector(selectUser);\n\n\n\n    const[input,setInput]=useState(\"\");\n    const[posts, setPosts] = useState([]);\n    useEffect(() => {\n        db.collection(\"posts\")\n          .orderBy(\"timestamp\", \"desc\")\n          .onSnapshot((snapshot) =>\n            setPosts(\n              snapshot.docs.map((doc) => ({\n                id: doc.id,\n                data: doc.data(),\n              }))\n            )\n          );\n        setInput(\"\");\n      }, []);\n      \n      \n   \n    const sendPosts =e =>{\n        e.preventDefault();\n        \n        db.collection(\"posts\").add({\n            name: user.displayName,\n            description: user.email,\n            message: input, // use the current value of input\n            photourl:'',\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\n          })\n\n          setInput(\"\");\n    }\n  return (\n    <div className='feed'>\n      <div className='feed_inputContainer'>\n        <div className='feed_input'>\n            <CreateIcon />\n            <form>\n                <input value={input} onChange = {e=>setInput(e.target.value)} type='text' placeholder='Add a new post' />\n                <button onClick={sendPosts}type=\"submit\">Send</button>\n            </form>\n            </div>\n            <div className='feed_inputOptions'>\n            < InputOptions Icon={ImageIcon} title=\"Photo\" color=\"#70B5F9\" />\n            < InputOptions Icon={SubscriptionsIcon} title=\"Video\" color=\"#E7A33E\" />\n            < InputOptions Icon={EventNoteIcon} title=\"Event\" color=\"#C0CBCD\" />\n            < InputOptions Icon={CalendarViewDayIcon} title=\"Write article\" color=\"#7FC15E\" />\n            </div>\n      </div>\n      <FlipMove>\n\n      {posts.map(({id, data: {name, description, message, photourl}}) => (\n          <Post \n          key={id}\n          name={name}\n          description={description}\n          messages={message}\n          photourl={photourl}\n          />\n        ))}\n        </FlipMove>\n    </div>\n\n  );\n}\n\nexport default Feed;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}